<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Typescene - strf</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-96048899-3"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-96048899-3');
    </script>
    <!-- end GA -->
    <link rel="stylesheet" href="/assets/style.css">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,300i|IBM+Plex+Sans:200,300,500,800,200i,300i,500i" rel="stylesheet">
    <link rel="canonical" href="https://typescene.dev/docs/ref/strf">
</head>
<body>
    <nav class="topnav">
        <section class="wrapper">
            <a href="/" class="logo_link">
                <img src="/assets/logo_small.png" alt="Typescene logo" class="topnav_logo">
                <span class="topnav_title">Typescene</span>
            </a>
            <ul class="topnav_links">
                <li><a href="#" onclick="return showDocWidget()"><img src="/assets/icons/search-reverse.svg" alt="" width=16 style="position: relative; top: .125rem">&nbsp; Docs</a></li>
                <li class="hide_small"><a href="https://github.com/typescene/typescene" target="_blank" rel="noopener">Github</a></li>
            </ul>
        </section>
    </nav>

    
<div id="breadcrumb_bar">
  <section class="wrapper">
      <a href="/" class="logo_link" id="breadcrumb_logo" hidden>
          <img src="/assets/logo_small.png" alt="Typescene logo" class="topnav_logo">
      </a>
      <span>
          <a href="/docs">Documentation</a>
          &nbsp;|&nbsp;
          Reference
      </span>
  </section>
</div>
<article class="wrapper wrapper--page">
    <div class="wrapper_columns">
        <div class="wrapper_column">
            <div class="pagetitle_container">
                <h1>strf</h1>
                
            </div>

            <h2 id="strf" class="spec"><img src="/assets/icons/spec-function.svg" alt="">strf()</h2>



<p><code>(format: string | { toString(): string; }, ...values: any[]): </code><a href="/docs/ref/I18nString"><code>I18nString</code></a></p>
<p>Returns an <a href="/docs/ref/I18nString"><code>I18nString</code></a> that encapsulates a translated and formatted string, incorporating given values. Before formatting, the format string is automatically translated using the <a href="/docs/ref/I18nService#I18nService:getText"><code>I18nService.getText()</code></a> method of the currently registered I18n service, if any.</p>
<p>Placeholders in the format string are compatible with C-style <em>sprintf</em>, e.g. %s, %+8i, %.5f, etc. as well as the following custom placeholders:</p>
<ul>
<li><p><code>***{comments}***</code> which are removed</p>
</li>
<li><p><code>#{a/b}</code>, <code>#{a/b/c}</code> to select an option based on the numeric value of the <em>first</em> value in the parameter list, for pluralization (e.g. <code>strf(&quot;%i file#{/s}&quot;, n)</code>)</p>
</li>
<li><p><code>#n${a/b}</code>, <code>#n${a/b/c}</code> to select an option based on the numeric value of the parameter at position <em>n</em> (1-based index), for pluralization (e.g. <code>strf(&quot;User %s has %i message#2${/s}&quot;, userName, nMessages)</code>)</p>
</li>
<li><p><code>%n</code> (non-standard) general-purpose number format, never results in exponential notation</p>
</li>
<li><p><code>%{_}</code> to insert nothing at all (blank string)</p>
</li>
<li><p><code>%{uc}</code>, %{lc}` for uppercase and lowercase strings</p>
</li>
<li><p><code>%{?}</code> for true or false (boolean) and <code>%{!}</code> for negation</p>
</li>
<li><p><code>%{n}</code> or <code>%{num}</code> for values cast to Number</p>
</li>
<li><p><code>%{then:a:b}</code> to select strings a or b based on boolean value</p>
</li>
<li><p><code>%{or:b}</code> to select string b if the value is not boolean true</p>
</li>
<li><p><code>%{local:...}</code> for I18n-formatted values; the type part(s) are variable, and will need to be implemented by the <a href="/docs/ref/I18nService#I18nService:format"><code>I18nService.format</code></a> method of the currently registered I18n service, e.g. <code>strf(&quot;%{local:date}&quot;, new Date())</code>.</p>
</li>
</ul>
<p><strong>Note:</strong> Asterisks (<code>*</code>) anywhere in a placeholder are replaced by the next value in the parameter list (<em>before</em> the value being represented itself), e.g. in <code>strf(&quot;%.*f&quot;, precision, number)</code> and <code>strf(&quot;%{local:currency:*}&quot;, currency, number)</code>.</p>
<p><strong>Note:</strong> Floating point numbers are formatted using the decimal separator specified by the <a href="/docs/ref/I18nService#I18nService:decimalSeparator"><code>I18nService.decimalSeparator</code></a> property of the currently registered I18n service, if any. Number grouping separators are not supported, and if necessary numbers will need to be formatted using %{local:...}.</p>
<p><strong>Note:</strong> Use position specifiers (i.e. <code>n$</code>) to change the order of parameters used, e.g. <code>strf(&quot;A is %i and B is %i, so %1$i + %2$i equals %i&quot;, i1, i2, i1 + i2)</code>. This is also helpful for translations where the position of words or numbers must be reversed.</p>

        </div>

        <div class="wrapper_column wrapper_column--sidebar wrapper_column--nav">
            <div class="fixed_cell">
                <div class="fixed_cell_inner">
                    <nav id="toc" class="sidebar_nav">
                        <h4 id="declarations">Declarations</h4>
<ul>
<li><a href="#strf">strf()</a></li>
</ul>

                    </nav>
                </div>
                <div class="fixed_cell_backtotop">
                    <a href="#" onclick="backToTop()">↑ Back to top</a>
                </div>
            </div>
        </div>
    </div>
</article>
<link rel="prefetch" href="/docs/" as="fetch" />
<script>
    (function(){document.querySelectorAll(".sidebar_nav ul+h4").forEach(function(it){it.className="closed"})})()
</script>


    <footer class="footer">
        <section class="wrapper">
            <div class="wrapper_columns">
                <div class="wrapper_column">
                    © Copyright 2021 Typescene contributors
                </div>
                <div class="wrapper_column wrapper_column--oppose style--light">
                    Find Typescene on
    <a href="https://twitter.com/typescene" target="_blank" rel="noopener">Twitter</a> and
    <a href="https://github.com/typescene" target="_blank" rel="noopener">Github</a>
                </div>
            </div>
        </section>
    </footer>

    <script src="/assets/default.js"></script>
    <script src="/assets/docwidget/index.js"></script>
</body>
</html>
