<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Typescene - ManagedMap</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-96048899-3"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-96048899-3');
    </script>
    <!-- end GA -->
    <link rel="stylesheet" href="/assets/style.css">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,300i|IBM+Plex+Sans:200,300,500,800,200i,300i,500i" rel="stylesheet">
    <link rel="canonical" href="https://typescene.dev/docs/ref/ManagedMap">
</head>
<body>
    <nav class="topnav">
        <section class="wrapper">
            <a href="/" class="logo_link">
                <img src="/assets/logo_small.png" alt="Typescene logo" class="topnav_logo">
                <span class="topnav_title">Typescene</span>
            </a>
            <ul class="topnav_links">
                <li><a href="#" onclick="return showDocWidget()"><img src="/assets/icons/search-reverse.svg" alt="" width=16 style="position: relative; top: .125rem">&nbsp; Docs</a></li>
                <li class="hide_small"><a href="https://github.com/typescene/typescene" target="_blank" rel="noopener">Github</a></li>
            </ul>
        </section>
    </nav>

    
<div id="breadcrumb_bar">
  <section class="wrapper">
      <a href="/" class="logo_link" id="breadcrumb_logo" hidden>
          <img src="/assets/logo_small.png" alt="Typescene logo" class="topnav_logo">
      </a>
      <span>
          <a href="/docs">Documentation</a>
          &nbsp;|&nbsp;
          Reference
      </span>
  </section>
</div>
<article class="wrapper wrapper--page">
    <div class="wrapper_columns">
        <div class="wrapper_column">
            <div class="pagetitle_container">
                <h1>ManagedMap</h1>
                <p class="style--pageintro">Managed maps contain indexed sets of references to other managed objects.</p>
            </div>

            <h2 id="ManagedMap" class="spec"><img src="/assets/icons/spec-class.svg" alt="">class ManagedMap</h2>



<p><code>extends </code><a href="/docs/ref/ManagedObject"><code>ManagedObject</code></a></p>
<p>Represents an <em>unordered</em> list of managed objects that are indexed using unique key strings.</p>
<p><a href="/docs/concepts/lists-maps" class="block_link doc"><strong>See also:</strong> Concepts &gt; Lists and maps</a></p>
<h3>Constructor</h3>


<p><code>&lt;T extends ManagedObject = ManagedObject&gt;(): ManagedMap&lt;T&gt;</code></p>
<h2 id="ManagedMap:propagateEvents" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.propagateEvents()</h2>



<p><code>[1]. (f?: (this: this, e: </code><a href="/docs/ref/ManagedEvent"><code>ManagedEvent</code></a><code>) =&gt; void | </code><a href="/docs/ref/ManagedEvent"><code>ManagedEvent</code></a><code> </code><code>| </code><a href="/docs/ref/ManagedEvent"><code>ManagedEvent</code></a><code>[]): this</code><br><code>[2]. (...types: (ManagedEvent | (new (...args: any[]) =&gt; </code><a href="/docs/ref/ManagedEvent"><code>ManagedEvent</code></a><code>))[]): this</code></p>
<p><strong>[1]</strong> Propagate events from all objects in this map by emitting the same events on the map object itself.</p>
<p>If a function is specified, the function can be used to transform one event to one or more others, or stop propagation if the function returns undefined. The function is called with the event itself as its only argument.</p>
<p><strong>[2]</strong> Propagate events from all objects in this map by emitting the same events on the map object itself.</p>
<p>If one or more event classes are specified, only events that extend given event types are propagated.</p>
<p><strong>Note:</strong> Calling this method a second time <em>replaces</em> the current propagation rule/function.</p>
<h2 id="ManagedMap:restrict" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.restrict()</h2>



<p><code>&lt;T extends ManagedObject&gt;(classType: </code><a href="/docs/ref/ManagedObjectConstructor"><code>ManagedObjectConstructor</code></a><code>&lt;T&gt;): ManagedMap&lt;T&gt;</code></p>
<p>Ensure that objects in this map are all instances of given class (or a sub class), and restrict newly mapped objects to instances of given class. Given class must be a sub class of <a href="/docs/ref/ManagedObject"><code>ManagedObject</code></a>.</p>
<h2 id="ManagedMap:get" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.get()</h2>



<p><code>(key: string): T</code></p>
<p>Returns the current object mapped to given key, if any.</p>
<h2 id="ManagedMap:has" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.has()</h2>



<p><code>(key: string): boolean</code></p>
<p>Returns true if any object is currently mapped to given key.</p>
<h2 id="ManagedMap:unset" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.unset()</h2>



<p><code>(key: string): void</code></p>
<p>Remove the mapping for given key.</p>
<p><strong>Note:</strong> Does not throw an error if given key was not mapped to any object at all.</p>
<h2 id="ManagedMap:set" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.set()</h2>



<p><code>(key: string, target?: T): void | this</code></p>
<ul>
<li><code>key</code> —  The key to be mapped to given object.</li>
</ul>
<ul>
<li><code>target</code> —  The managed object (or list, or map) to be mapped to given key.</li>
</ul>
<p>Map given object (or managed list or map) to given key, removing the existing mapping between the same key and any other object, if any.</p>
<p>Objects may be mapped to multiple keys at the same time, unless the <code>ManagedMap</code> instance itself is a child object of a managed object or list (see <a href="/docs/ref/managedChild"><code>@managedChild</code></a> decorator).</p>
<h2 id="ManagedMap:remove" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.remove()</h2>



<p><code>(target: T): this</code></p>
<p>Remove given object from this map (same as calling <a href="#ManagedMap:unset"><code>unset</code></a><code>(...)</code> on all keys that refer to given object).</p>
<h2 id="ManagedMap:clear" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.clear()</h2>



<p><code>(): this</code></p>
<p>Remove all objects from this map.</p>
<h2 id="ManagedMap:objects" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.objects()</h2>



<p><code>(): T[]</code></p>
<p>Returns a list of all (unique) objects in this map.</p>
<h2 id="ManagedMap:keys" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.keys()</h2>



<p><code>(): string[]</code></p>
<p>Returns a list of all keys in this map.</p>
<h2 id="ManagedMap:forEach" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.forEach()</h2>



<p><code>(callback: (key: string, target: T) =&gt; void): void</code></p>
<ul>
<li><code>callback</code> —  the function to be called, with a key and a single object as the only argument.</li>
</ul>
<p>Iterates over the keys in this list and invokes given callback for each key and object.</p>
<p><strong>Note:</strong> The behavior of this method is undefined if objects are inserted by the callback function.</p>
<h2 id="ManagedMap:includes" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.includes()</h2>



<p><code>(target: T): boolean</code></p>
<p>Returns true if given object is currently contained in this map.</p>
<h2 id="ManagedMap:toObject" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.toObject()</h2>



<p><code>(): { [index: string]: T; }</code></p>
<p>Returns an object with properties for all keys and objects in this map.</p>
<h2 id="ManagedMap:toJSON" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.toJSON()</h2>



<p><code>(): any</code></p>
<p>Returns an object representation of this map (alias of <a href="#ManagedMap:toObject"><code>toObject</code></a> method).</p>
<h2 id="ManagedMap:weakRef" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.weakRef()</h2>



<p><code>(): this</code></p>
<p>Stop newly referenced objects from becoming child objects <em>even if</em> this <code>ManagedMap</code> instance itself is held through a child reference (by a parent object); this can be used to automatically dereference objects when the parent object is destroyed.</p>
<h2 id="ManagedMap:managedId" class="spec"><img src="/assets/icons/spec-property.svg" alt="">.managedId</h2>



<p><code>number</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:managedId"><code>ManagedObject.managedId</code></a>.</p>
<h2 id="ManagedMap:managedState" class="spec"><img src="/assets/icons/spec-property.svg" alt="">.managedState</h2>



<p><a href="/docs/ref/ManagedState"><code>ManagedState</code></a></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:managedState"><code>ManagedObject.managedState</code></a>.</p>
<h2 id="ManagedMap:getReferenceCount" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.getReferenceCount() <span class="spec_tag">protected</span></h2>



<p><code>(): number</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:getReferenceCount"><code>ManagedObject.getReferenceCount</code></a>.</p>
<h2 id="ManagedMap:getManagedReferrers" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.getManagedReferrers() <span class="spec_tag">protected</span></h2>



<p><code>(): </code><a href="/docs/ref/ManagedObject"><code>ManagedObject</code></a><code>[]</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:getManagedReferrers"><code>ManagedObject.getManagedReferrers</code></a>.</p>
<h2 id="ManagedMap:getManagedParent" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.getManagedParent() <span class="spec_tag">protected</span></h2>



<p><code>&lt;TParent extends ManagedObject = ManagedObject&gt;(ParentClass?: </code><a href="/docs/ref/ManagedObjectConstructor"><code>ManagedObjectConstructor</code></a><code>&lt;TParent&gt;): TParent</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:getManagedParent"><code>ManagedObject.getManagedParent</code></a>.</p>
<h2 id="ManagedMap:emit" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.emit()</h2>



<p><code>&lt;TEvent extends ManagedEvent = ManagedEvent, TConstructorArgs extends any[] = any[]&gt;(e: string | TEvent | (new (...args: TConstructorArgs) =&gt; TEvent), ...constructorArgs: TConstructorArgs): this</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:emit"><code>ManagedObject.emit</code></a>.</p>
<h2 id="ManagedMap:emitChange" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.emitChange()</h2>



<p><code>(name?: string): void</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:emitChange"><code>ManagedObject.emitChange</code></a>.</p>
<h2 id="ManagedMap:propagateChildEvents" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.propagateChildEvents() <span class="spec_tag">protected</span> <span class="spec_tag spec_tag--deprecated">deprecated</span></h2>



<p><code>(...types: ((new (...args: any[]) =&gt; </code><a href="/docs/ref/ManagedEvent"><code>ManagedEvent</code></a><code>) | ((e: </code><a href="/docs/ref/ManagedEvent"><code>ManagedEvent</code></a><code>) =&gt; any))[]): this</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:propagateChildEvents"><code>ManagedObject.propagateChildEvents</code></a>.</p>
<h2 id="ManagedMap:activateManagedAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.activateManagedAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;any&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:activateManagedAsync"><code>ManagedObject.activateManagedAsync</code></a>.</p>
<h2 id="ManagedMap:deactivateManagedAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.deactivateManagedAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;void&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:deactivateManagedAsync"><code>ManagedObject.deactivateManagedAsync</code></a>.</p>
<h2 id="ManagedMap:destroyManagedAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.destroyManagedAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;void&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:destroyManagedAsync"><code>ManagedObject.destroyManagedAsync</code></a>.</p>
<h2 id="ManagedMap:onManagedStateActivatingAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.onManagedStateActivatingAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;void&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:onManagedStateActivatingAsync"><code>ManagedObject.onManagedStateActivatingAsync</code></a>.</p>
<h2 id="ManagedMap:onManagedStateActiveAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.onManagedStateActiveAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;void&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:onManagedStateActiveAsync"><code>ManagedObject.onManagedStateActiveAsync</code></a>.</p>
<h2 id="ManagedMap:onManagedStateDeactivatingAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.onManagedStateDeactivatingAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;void&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:onManagedStateDeactivatingAsync"><code>ManagedObject.onManagedStateDeactivatingAsync</code></a>.</p>
<h2 id="ManagedMap:onManagedStateInactiveAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.onManagedStateInactiveAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;void&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:onManagedStateInactiveAsync"><code>ManagedObject.onManagedStateInactiveAsync</code></a>.</p>
<h2 id="ManagedMap:onManagedStateDestroyingAsync" class="spec"><img src="/assets/icons/spec-method.svg" alt="">.onManagedStateDestroyingAsync() <span class="spec_tag">protected</span></h2>



<p><code>(): Promise&lt;void&gt;</code></p>
<p>Inherited from <a href="/docs/ref/ManagedObject#ManagedObject:onManagedStateDestroyingAsync"><code>ManagedObject.onManagedStateDestroyingAsync</code></a>.</p>

        </div>

        <div class="wrapper_column wrapper_column--sidebar wrapper_column--nav">
            <div class="fixed_cell">
                <div class="fixed_cell_inner">
                    <nav id="toc" class="sidebar_nav">
                        <h4 id="declarations">Declarations</h4>
<ul>
<li><a href="#ManagedMap"><strong>class ManagedMap</strong></a></li>
<li><a href="#ManagedMap:propagateEvents">.propagateEvents()</a></li>
<li><a href="#ManagedMap:restrict">.restrict()</a></li>
<li><a href="#ManagedMap:get">.get()</a></li>
<li><a href="#ManagedMap:has">.has()</a></li>
<li><a href="#ManagedMap:unset">.unset()</a></li>
<li><a href="#ManagedMap:set">.set()</a></li>
<li><a href="#ManagedMap:remove">.remove()</a></li>
<li><a href="#ManagedMap:clear">.clear()</a></li>
<li><a href="#ManagedMap:objects">.objects()</a></li>
<li><a href="#ManagedMap:keys">.keys()</a></li>
<li><a href="#ManagedMap:forEach">.forEach()</a></li>
<li><a href="#ManagedMap:includes">.includes()</a></li>
<li><a href="#ManagedMap:toObject">.toObject()</a></li>
<li><a href="#ManagedMap:toJSON">.toJSON()</a></li>
<li><a href="#ManagedMap:weakRef">.weakRef()</a></li>
</ul>
<h4 id="inherited">Inherited</h4>
<ul>
<li><a href="#ManagedMap:managedId">.managedId</a></li>
<li><a href="#ManagedMap:managedState">.managedState</a></li>
<li><a href="#ManagedMap:getReferenceCount">.getReferenceCount()</a></li>
<li><a href="#ManagedMap:getManagedReferrers">.getManagedReferrers()</a></li>
<li><a href="#ManagedMap:getManagedParent">.getManagedParent()</a></li>
<li><a href="#ManagedMap:emit">.emit()</a></li>
<li><a href="#ManagedMap:emitChange">.emitChange()</a></li>
<li><a href="#ManagedMap:propagateChildEvents">.propagateChildEvents()</a></li>
<li><a href="#ManagedMap:activateManagedAsync">.activateManagedAsync()</a></li>
<li><a href="#ManagedMap:deactivateManagedAsync">.deactivateManagedAsync()</a></li>
<li><a href="#ManagedMap:destroyManagedAsync">.destroyManagedAsync()</a></li>
<li><a href="#ManagedMap:onManagedStateActivatingAsync">.onManagedStateActivatingAsync()</a></li>
<li><a href="#ManagedMap:onManagedStateActiveAsync">.onManagedStateActiveAsync()</a></li>
<li><a href="#ManagedMap:onManagedStateDeactivatingAsync">.onManagedStateDeactivatingAsync()</a></li>
<li><a href="#ManagedMap:onManagedStateInactiveAsync">.onManagedStateInactiveAsync()</a></li>
<li><a href="#ManagedMap:onManagedStateDestroyingAsync">.onManagedStateDestroyingAsync()</a></li>
</ul>

                    </nav>
                </div>
                <div class="fixed_cell_backtotop">
                    <a href="#" onclick="backToTop()">↑ Back to top</a>
                </div>
            </div>
        </div>
    </div>
</article>
<link rel="prefetch" href="/docs/" as="fetch" />
<script>
    (function(){document.querySelectorAll(".sidebar_nav ul+h4").forEach(function(it){it.className="closed"})})()
</script>


    <footer class="footer">
        <section class="wrapper">
            <div class="wrapper_columns">
                <div class="wrapper_column">
                    © Copyright 2021 Typescene contributors
                </div>
                <div class="wrapper_column wrapper_column--oppose style--light">
                    Find Typescene on
    <a href="https://twitter.com/typescene" target="_blank" rel="noopener">Twitter</a> and
    <a href="https://github.com/typescene" target="_blank" rel="noopener">Github</a>
                </div>
            </div>
        </section>
    </footer>

    <script src="/assets/default.js"></script>
    <script src="/assets/docwidget.js"></script>
</body>
</html>
