!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return d})),n.d(e,"__createBinding",(function(){return h})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return y})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return j})),n.d(e,"__classPrivateFieldSet",(function(){return E}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var h=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function p(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||h(e,t,n)}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof g?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(t){u(i[0][3],t)}var n}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var O=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&h(e,t,n);return O(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function j(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function E(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";n.r(e),n.d(e,"AppException",(function(){return et})),n.d(e,"AppActivationContext",(function(){return en})),n.d(e,"AppActivity",(function(){return tn})),n.d(e,"AppActivityList",(function(){return Ze})),n.d(e,"activationContextBinding",(function(){return Xe})),n.d(e,"AppComponent",(function(){return Je})),n.d(e,"Application",(function(){return Qe})),n.d(e,"ViewActivity",(function(){return nn})),n.d(e,"PageViewActivity",(function(){return rn})),n.d(e,"DialogViewActivity",(function(){return on})),n.d(e,"ViewComponent",(function(){return an})),n.d(e,"Binding",(function(){return at})),n.d(e,"StringFormatBinding",(function(){return st})),n.d(e,"bind",(function(){return ct})),n.d(e,"bindf",(function(){return lt})),n.d(e,"ComponentEvent",(function(){return ut})),n.d(e,"ComponentChildAddedEvent",(function(){return dt})),n.d(e,"CompositeParentChangeEvent",(function(){return ht})),n.d(e,"Component",(function(){return pt})),n.d(e,"I18nService",(function(){return Z})),n.d(e,"I18nString",(function(){return Q})),n.d(e,"strf",(function(){return tt})),n.d(e,"ManagedEvent",(function(){return c})),n.d(e,"ManagedCoreEvent",(function(){return l})),n.d(e,"ManagedParentChangeEvent",(function(){return u})),n.d(e,"ManagedChangeEvent",(function(){return d})),n.d(e,"CHANGE",(function(){return h})),n.d(e,"ManagedListChangeEvent",(function(){return p})),n.d(e,"ManagedObjectAddedEvent",(function(){return f})),n.d(e,"ManagedObjectRemovedEvent",(function(){return v})),n.d(e,"ManagedList",(function(){return ot})),n.d(e,"ManagedMap",(function(){return T})),n.d(e,"ManagedState",(function(){return E})),n.d(e,"ManagedObject",(function(){return M})),n.d(e,"ManagedRecord",(function(){return gt})),n.d(e,"ManagedReference",(function(){return U})),n.d(e,"managed",(function(){return L})),n.d(e,"managedChild",(function(){return F})),n.d(e,"service",(function(){return B})),n.d(e,"ManagedService",(function(){return V})),n.d(e,"observe",(function(){return _})),n.d(e,"shadowObservable",(function(){return w})),n.d(e,"onPropertyChange",(function(){return C})),n.d(e,"onPropertyEvent",(function(){return O})),n.d(e,"rateLimit",(function(){return x})),n.d(e,"UnhandledErrorEvent",(function(){return z})),n.d(e,"UnhandledErrorEmitter",(function(){return W})),n.d(e,"logUnhandledException",(function(){return K})),n.d(e,"UICellTransition",(function(){return zt})),n.d(e,"UICell",(function(){return Ht})),n.d(e,"UIFlowCell",(function(){return qt})),n.d(e,"UICoverCell",(function(){return $t})),n.d(e,"UIColumn",(function(){return Gt})),n.d(e,"UICloseColumn",(function(){return Yt})),n.d(e,"UIContainer",(function(){return Wt})),n.d(e,"UIForm",(function(){return ne})),n.d(e,"UIRow",(function(){return re})),n.d(e,"UIOppositeRow",(function(){return oe})),n.d(e,"UICenterRow",(function(){return ie})),n.d(e,"UICloseRow",(function(){return ae})),n.d(e,"UIScrollEvent",(function(){return se})),n.d(e,"UIScrollContainer",(function(){return ce})),n.d(e,"UIButton",(function(){return he})),n.d(e,"UIPrimaryButton",(function(){return pe})),n.d(e,"UIBorderlessButton",(function(){return fe})),n.d(e,"UIOutlineButton",(function(){return ve})),n.d(e,"UILinkButton",(function(){return ye})),n.d(e,"UILargeButton",(function(){return me})),n.d(e,"UISmallButton",(function(){return ge})),n.d(e,"UIIconButton",(function(){return be})),n.d(e,"UIControl",(function(){return de})),n.d(e,"UIImage",(function(){return _e})),n.d(e,"UILabel",(function(){return we})),n.d(e,"UIHeading1",(function(){return Ce})),n.d(e,"UIHeading2",(function(){return Oe})),n.d(e,"UIHeading3",(function(){return xe})),n.d(e,"UIParagraph",(function(){return Se})),n.d(e,"UICloseLabel",(function(){return je})),n.d(e,"UIExpandedLabel",(function(){return Ee})),n.d(e,"UISeparator",(function(){return Ie})),n.d(e,"UISpacer",(function(){return Re})),n.d(e,"UITextField",(function(){return Me})),n.d(e,"UIBorderlessTextField",(function(){return Te})),n.d(e,"UIToggle",(function(){return Ue})),n.d(e,"UIConditional",(function(){return Le})),n.d(e,"UIFormContextController",(function(){return Fe})),n.d(e,"UIListCellAdapterEvent",(function(){return De})),n.d(e,"UIListCellAdapter",(function(){return Be})),n.d(e,"UIListController",(function(){return ze})),n.d(e,"UIModalController",(function(){return We})),n.d(e,"UISelectionController",(function(){return Ke})),n.d(e,"UIStyleController",(function(){return He})),n.d(e,"UIComponentEvent",(function(){return Ut})),n.d(e,"UIBeforeRenderEvent",(function(){return Lt})),n.d(e,"UIRenderEvent",(function(){return Ft})),n.d(e,"UIFocusRequestType",(function(){return mt})),n.d(e,"UIFocusRequestEvent",(function(){return Nt})),n.d(e,"UIComponent",(function(){return Vt})),n.d(e,"formContextBinding",(function(){return Ae})),n.d(e,"UIFormContext",(function(){return Pe})),n.d(e,"UIMenuItemSelectedEvent",(function(){return qe})),n.d(e,"UIMenu",(function(){return $e})),n.d(e,"UIRenderableController",(function(){return te})),n.d(e,"renderContextBinding",(function(){return Xt})),n.d(e,"UIRenderPlacement",(function(){return Kt})),n.d(e,"UIRenderContext",(function(){return Qt})),n.d(e,"UIStyle",(function(){return Rt})),n.d(e,"ConfirmationDialogBuilder",(function(){return At})),n.d(e,"UIMenuBuilder",(function(){return kt})),n.d(e,"UIColor",(function(){return Pt})),n.d(e,"UITheme",(function(){return Mt})),n.d(e,"UIViewRenderer",(function(){return Ge})),n.d(e,"JSX",(function(){return ln}));var r,o=n(0);function i(t,e){var n=s[t]||"Unknown error";return Error(n.replace("%s",e))}var a,s=((r={})[0]="[ActivationContext] Invalid path: %s",r[1]="[ViewActivity] Render context not found (not a child component?)",r[2]="[ViewActivity] Application instance not found",r[3]="[ViewActivity] Dialog builder not found",r[4]="Invalid ViewComponent child component",r[5]="[ViewComponent] Render context not found (not a child component?)",r[6]="[Binding] Unknown binding filter: %s",r[7]="[Binding] Binding not found for: %s",r[8]="[Binding] Bound parent binding not found for: %s",r[9]="[Binding] Component not bound",r[10]="[Format] Cannot convert object value to string",r[11]="[Format] Invalid format type: %s",r[12]="[Component] Not an event handler method: %s",r[13]="[Component] Invalid event handler preset: %s",r[14]="[List] Symbol not supported",r[15]="[List] Existing objects are not of given type",r[16]="[List] Cannot add objects to a destroyed list",r[17]="[List] Cannot insert object that is already in this list",r[18]="[List] Object not found",r[19]="[List] Index out of bounds: %s",r[20]="[Map] Existing objects are not of given type",r[21]="[Map] Cannot add objects to a destroyed map",r[22]="[Object] Cannot add event handler to base class",r[23]="[Object] Argument is not a managed event",r[24]="[Object] Event recursion limit reached",r[25]="[Object] Cannot deactivate managed object",r[26]="[Object] Managed object is already destroyed",r[27]="[Object] State transition cancelled",r[28]="[Object] Invalid object reference",r[29]="[Object] Referenced object has been destroyed",r[30]="[Object] Can only create managed properties on managed object instances",r[31]="[Object] Cannot turn properties with getters and/or setters into managed references",r[32]="[Object] Property is not writable",r[33]="[Record] Property is not serializable: %s",r[34]="[Object] Existing reference is not of given type",r[35]="[Service] Missing property name",r[36]="[Service] Service name cannot be blank",r[37]="[Object] Cannot observe events on parent reference",r[38]="[Object] Shadow observable can only be added to properties with getters",r[39]="[Object] Rate limit can only be applied to async handlers",r[40]="[Object] Recursion in observer constructor detected",r[41]="[Object] Synchronous observers are not allowed for property: %s",r[42]="[Object] Property is already managed in a base class: %s",r[43]="[Style] Invalid style set instance",r[44]="[Menu] Builder not found",r[45]="[Modal] modal property cannot be bound",r),c=function(){function t(t){void 0===t&&(t=""),this.name=t}return t.prototype.freeze=function(){return Object.freeze&&Object.freeze(this),this},t}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._coreEventMarker=!0,e}return Object(o.__extends)(e,t),e.isCoreEvent=function(t){return!!t._coreEventMarker},e}(c);(a=l||(l={})).ACTIVE=new a("Active").freeze(),a.INACTIVE=new a("Inactive").freeze(),a.DESTROYED=new a("Destroyed").freeze();var u=function(t){function e(e,n){var r=t.call(this,"ManagedParentChange")||this;return r.parent=e,r.propertyName=n,r}return Object(o.__extends)(e,t),e}(l),d=function(t){function e(e){return void 0===e&&(e="Change"),t.call(this,e)||this}return Object(o.__extends)(e,t),e}(c),h=(new d).freeze(),p=function(t){function e(e,n){void 0===e&&(e="ManagedListChange");var r=t.call(this,e)||this;return r.source=n,r}return Object(o.__extends)(e,t),e}(d),f=function(t){function e(e,n,r){var o=t.call(this,"ManagedObjectAdded",e)||this;return o.object=n,o.key=r,o}return Object(o.__extends)(e,t),e}(p),v=function(t){function e(e,n,r){var o=t.call(this,"ManagedObjectRemoved",e)||this;return o.object=n,o.key=r,o}return Object(o.__extends)(e,t),e}(p);function y(t,e,n,r,o){var a,s=e,c=!1,l=o,u=function(r,s,l){for(var d=a=Object.getOwnPropertyDescriptor(t,r),h=t;;){if(!d||s){if(!(h=Object.getPrototypeOf(h)))return;d=h&&Object.getOwnPropertyDescriptor(h,r)}if(d){var p=d.get;if(p){if(!n&&p["-async"])throw i(41);if(p["-shadow"])return e=p["-shadow"],c=!0,u(e,s,!0);l||o||d.set&&d.set["^-ch"]||(o=p)}return d}}};if(u(e),a&&a.set&&a.set["^-ch"]){var d=a.set["^-ch"];a.set["^-ch"]=function(){var t=d();return{getter:o||t.getter,setter:t.setter,makeHandler:function(e,n,o){return r(e,n,t&&t.makeHandler(e,n,o))}}}}else{var h=function(t){var n,r,i=h["^-ch"](),l=i.makeHandler(this,e),u=function(t){i.setter&&i.setter.call(this,t),l(n=t,void 0,l)},d=i.getter;d||(d=c?function(){if(r)return n;r=!0;try{return this[s]}finally{r=!1}}:o||function(){return n});Object.defineProperty(this,e,{configurable:!0,enumerable:!a||a.enumerable,get:d,set:u}),void 0!==t&&u.call(this,t)};h["^-ch"]=function(){var t=u(s,!0),n=t&&t.set&&t.set["^-ch"]&&t.set["^-ch"]();if(n&&n.getter&&l)throw i(42,e);return{getter:o||n&&n.getter,setter:n?n.setter:t&&t.set,makeHandler:function(t,e,o){return r(t,e,n&&n.makeHandler(t,e,o))}}};var p=o||function(){return a&&a.value};Object.defineProperty(t,e,{configurable:!0,enumerable:!a||a.enumerable,get:p,set:h})}}var m=function(){};var g=1e3,b=Promise.resolve();function _(t,e){var n=!0;t._addInitializer((function(){var r="function"==typeof e?e():t[e];r&&(n&&function(t,e){var n,r,a=function(n,r,i){!function(t,e,n,r,i){if(i){var a,s,c,l=r["^o:rate"];e.addEventHandler((function(e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var i,u,d,h;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:if(n&&!n(e))return[3,12];o.label=1;case 1:return o.trys.push([1,11,,12]),l>=0?(s=e,a?[2]:(a=!0,i=Date.now(),(u=c+l-i)>0?[4,new Promise((function(t){setTimeout(t,u)}))]:[3,3])):[3,6];case 2:return o.sent(),[3,5];case 3:return[4,b];case 4:o.sent(),o.label=5;case 5:return c=Date.now(),a=!1,e=s,[3,8];case 6:return[4,b];case 7:o.sent(),o.label=8;case 8:return s=void 0,d=j(this,t),e?[4,r.call(d,e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,12];case 11:return h=o.sent(),m(h),[3,12];case 12:return[2]}}))}))}))}else e.addEventHandler((function(e){if(!n||n(e)){var o=j(this,t);try{r.call(o,e)}catch(t){m(t)}}}))}(e,t,n,r,i)},s=function(t,e){var n=function(e){t.call(this,e.parent,e,"managedParent")};n["^o:rate"]=t["^o:rate"],a((function(t){return t instanceof u}),n,e)},c=t.prototype,l=function(t){var n,r;if(!Object.prototype.hasOwnProperty.call(e.prototype,t))return"continue";var l=e.prototype[t];if("function"==typeof l)if(Array.isArray(l["^o:prop"])){var u="Async"===t.slice(-5);try{for(var h=(n=void 0,Object(o.__values)(l["^o:prop"])),p=h.next();!p.done;p=h.next()){var f=p.value;if(".referenceCount"===f)S(e,c,"^-in",l,!1,u,0);else if(".managedParent"===f)s(l,u);else{if("!managedParent"===f)throw i(37);var v="!"===f[0];S(e,c,f.slice(1),l,v,u)}}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}else if("o"===t[0]&&"n"===t[1])switch(t){case"onChangeAsync":a((function(t){return"Change"===t.name||t instanceof d}),l,!0);break;case"onChange":a((function(t){return"Change"===t.name||t instanceof d}),l);break;case"onEventAsync":a(void 0,l,!0);break;case"onEvent":a(void 0,l);break;case"onManagedParentChangeAsync":s(l,!0);break;case"onManagedParentChange":s(l);break;case"onReferenceCountChangeAsync":S(e,c,"^-in",l,!1,!0,0);break;case"onReferenceCountChange":S(e,c,"^-in",l,!1,!1,0);break;default:"Change"===t.slice(-6)?(t=("_"!==t[2]?t[2].toLowerCase():"")+t.slice(3,-6),S(e,c,t,l)):"ChangeAsync"===t.slice(-11)?(t=("_"!==t[2]?t[2].toLowerCase():"")+t.slice(3,-11),S(e,c,t,l,!1,!0)):"Async"===t.slice(-5)?(t=t.slice(2,-5),a((function(e){return e.name===t}),l,!0)):(t=t.slice(2),a((function(e){return e.name===t}),l,!1))}};try{for(var h=Object(o.__values)(Object.getOwnPropertyNames(e.prototype)),p=h.next();!p.done;p=h.next()){var f=p.value;l(f)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}(t,r),n=!1,j(this,r))}))}function w(t,e){return function(n,r){var o=Object.getOwnPropertyDescriptor(n,r);if(!o||!o.get)throw i(38);o.get["-shadow"]=t,o.get["-async"]=!!e}}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){var r,i,a=e[n];if("function"!=typeof a)throw TypeError();a["^o:prop"]||(a["^o:prop"]=[]);var s=a["^o:prop"],c=function(t){s.some((function(e){return e==="."+t}))||s.push("."+t)};try{for(var l=Object(o.__values)(t),u=l.next();!u.done;u=l.next()){c(u.value)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}function O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){var r,i,a=e[n];if("function"!=typeof a)throw TypeError();a["^o:prop"]||(a["^o:prop"]=[]);var s=a["^o:prop"],c=function(t){s.some((function(e){return e==="!"+t}))||s.push("!"+t)};try{for(var l=Object(o.__values)(t),u=l.next();!u.done;u=l.next()){c(u.value)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}function x(t){return function(e,n){if("function"!=typeof e[n]||"string"!=typeof n||"Async"!==n.slice(-5))throw i(39);e[n]["^o:rate"]=t}}function S(t,e,n,r,i,a,s){var c=this;if(a){var l=r["^o:rate"];y(e,n,!0,(function(e,a,u){var h,p,f,v=s,y=a!==n,g=0,_=j(e,t);return function(t,a,s){return Object(o.__awaiter)(c,void 0,void 0,(function(){var c,w,C,O,x;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:if(u&&u(t,a,s),y&&(t=e[n]),c=a?a instanceof d:v!==t,i?!(a&&t instanceof M):!c)return[2];o.label=1;case 1:return o.trys.push([1,10,,11]),v=t,l>=0?(p=a,h?[2]:(w=++g,h=!0,C=Date.now(),(O=f+l-C)>0?[4,new Promise((function(t){setTimeout(t,O)}))]:[3,3])):[3,6];case 2:return o.sent(),[3,5];case 3:return[4,b];case 4:o.sent(),o.label=5;case 5:return g!==w?[2]:(f=Date.now(),h=!1,a=p,[3,8]);case 6:return h?[2]:(h=a&&a.name||!0,[4,b]);case 7:o.sent(),h=!1,o.label=8;case 8:return p=void 0,[4,r.call(_,v,a,n)];case 9:return o.sent(),[3,11];case 10:return x=o.sent(),m(x),[3,11];case 11:return[2]}}))}))}}))}else y(e,n,!1,(function(e,o,a){var c=s,l=o!==n,u=j(e,t);return function(t,o,s){if(a&&a(t,o,s),l&&(t=e[n]),i?o&&t instanceof M:o?o instanceof d:c!==t){c=t;try{r.call(u,t,o,n)}catch(t){m(t)}}}}))}function j(t,e){var n=e["^o:uid"]||(e["^o:uid"]=g++),r=t["^o:uid"+n];if(r){if(!0===r)throw i(40)}else Object.defineProperty(t,"^o:uid"+n,{enumerable:!1,configurable:!1,writable:!0,value:!0}),r=t["^o:uid"+n]=new e(t),t["^$"]===E.ACTIVE&&r.onActive&&r.onActive();return r}var E,I=Object.prototype.hasOwnProperty;!function(t){t[t.DESTROYED=0]="DESTROYED",t[t.CREATED=1]="CREATED",t[t.ACTIVATING=2]="ACTIVATING",t[t.ACTIVE=3]="ACTIVE",t[t.DEACTIVATING=4]="DEACTIVATING",t[t.INACTIVE=5]="INACTIVE",t[t.DESTROYING=6]="DESTROYING"}(E||(E={}));for(var R=[],A=0;A<250;A++)R[A]={u:0,a:void 0,b:void 0,p:"",j:void 0,k:void 0,f:void 0,g:void 0};var k=16,P=16,M=function(){function t(){this.managedId=k++,this["^$"]=E.CREATED,Object.defineProperty(this,"^$",Object(o.__assign)(Object(o.__assign)({},Object.getOwnPropertyDescriptor(this,"^$")),{writable:!0,enumerable:!1})),this["^-in"]=0,Object.defineProperty(this,"^-in",Object(o.__assign)(Object(o.__assign)({},Object.getOwnPropertyDescriptor(this,"^-in")),{enumerable:!1})),Object.defineProperty(this,"^-out",{value:[],writable:!1,configurable:!1,enumerable:!1}),this["_@@"]()}return t.addObserver=function(t){return _(this,(function(){return t})),this},t.addEventHandler=function(e){if(this===t)throw i(22);var n,r;return I.call(this.prototype,"^-ev")?r=this.prototype["^-ev"]:(n=Object.getPrototypeOf(this.prototype),Object.defineProperty(this.prototype,"^-ev",{enumerable:!1,configurable:!1,writable:!0})),this.prototype["^-ev"]=function(t){n&&n["^-ev"]?n["^-ev"].call(this,t):r&&r.call(this,t);try{e.call(this,t)}catch(t){m(t)}},this},t.prototype["_@@"]=function(){},t._addInitializer=function(t){var e=I.call(this.prototype,"_@@")&&this.prototype["_@@"];if(e)this.prototype["_@@"]=function(){e.call(this),t.call(this)};else{var n=Object.getPrototypeOf(this.prototype);this.prototype["_@@"]=function(){var e=n["_@@"];e&&e.call(this),t.call(this)}}},Object.defineProperty(t.prototype,"managedState",{get:function(){return this["^$"]},enumerable:!1,configurable:!0}),t.prototype.getReferenceCount=function(){return this["^-in"]},t.prototype.getManagedReferrers=function(){var t=Object.create(null),e=[];return this["^-out"].forEach((function(n){var r=n.a;r.managedState&&!t[r.managedId]&&e.push(r)})),e},t.prototype.getManagedParent=function(t){var e=this["^-out"].parent,n=e&&e.a;if(t&&n&&!(n instanceof t)){var r=n["^-out"].parent;if((n=r&&r.a)&&!(n instanceof t)){n=(r=n["^-out"].parent)&&r.a;for(var o=void 0;n&&!(n instanceof t)&&((o||(o=Object.create(null)))[n.managedId]=!0,!(n=(r=n["^-out"].parent)&&r.a)||!o[n.managedId]););}}return n&&n!==this?n:void 0},t.prototype.emit=function(t){for(var e,n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(!this["^$"]&&t!==l.DESTROYED)throw i(26);if("string"==typeof t&&(t=new c(t).freeze()),"function"==typeof t&&(t=(new(t.bind.apply(t,Object(o.__spread)([void 0],r)))).freeze()),!(t instanceof c))throw i(23);if(void 0===this._emitting)Object.defineProperty(this,"_emitting",{enumerable:!1,writable:!0,value:0});else if(this._emitting>4)throw i(24);try{this._emitting=this._emitting+1,this["^-ev"]&&this["^-ev"](t),this["^-out"].forEach((function(e){e&&e.a&&e.f&&e.f.call(void 0,t,e.a,n)}))}catch(t){e=t}return this._emitting--,e&&m(e),this},t.prototype.emitChange=function(t){void 0===t?this.emit(h):this.emit(d,t)},t.prototype.propagateChildEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0]&&"function"==typeof t[0]&&!(t[0].prototype instanceof c)&&t[0]!==c,o=r?t[0]:void 0;return Object.defineProperty(this,"^-ec",{configurable:!0,enumerable:!1,value:function(e,r){var i=this;if(n!==e&&this["^$"])if(o){var a=o.call(this,e,r);Array.isArray(a)?a.forEach((function(t){l.isCoreEvent(t)||i.emit(n=t)})):a&&this.emit(n=a),n=void 0}else{if(t.length&&!t.some((function(t){return e===t||"function"==typeof t&&e instanceof t})))return;l.isCoreEvent(e)||(this.emit(n=e),n=void 0)}}}),this},t.prototype.activateManagedAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(e){return[2,this._transitionManagedState(E.ACTIVE,(function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return this["^$"]=E.ACTIVATING,[4,this.onManagedStateActivatingAsync()];case 1:return t.sent(),[2]}}))}))}),l.ACTIVE,this.onManagedStateActiveAsync)]}))}))},t.prototype.deactivateManagedAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._transitionManagedState(E.INACTIVE,(function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return this["^$"]=E.DEACTIVATING,[4,this.onManagedStateDeactivatingAsync()];case 1:return t.sent(),[2]}}))}))}),l.INACTIVE,this.onManagedStateInactiveAsync)];case 1:return e.sent(),[2]}}))}))},t.prototype.destroyManagedAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,n,r=this;return Object(o.__generator)(this,(function(a){switch(a.label){case 0:e=3,a.label=1;case 1:if((n=this["^$"])!==E.ACTIVE&&n!==E.ACTIVATING&&n!==E.DEACTIVATING)return[3,3];if(e--<=0)throw i(25);return[4,this.deactivateManagedAsync()];case 2:return a.sent(),[3,1];case 3:return n?[4,this._transitionManagedState(E.DESTROYED,(function(){return Object(o.__awaiter)(r,void 0,void 0,(function(){var e,n,r,i=this;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return this["^$"]=E.DESTROYING,[4,this.onManagedStateDestroyingAsync()];case 1:for(r in o.sent(),delete(e=this["^-out"]).parent,delete e.head,delete e.tail,n=[],e)e[r]&&(e[r].g&&n.push(e[r].g),t._discardRefLink(e[r]));return this["^$"]=E.DESTROYED,n.forEach((function(t){try{t(i)}catch(t){}})),[2]}}))}))}),l.DESTROYED)]:[2];case 4:return a.sent(),[2]}}))}))},t.prototype.onManagedStateActivatingAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2]}))}))},t.prototype.onManagedStateActiveAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2]}))}))},t.prototype.onManagedStateDeactivatingAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2]}))}))},t.prototype.onManagedStateInactiveAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2]}))}))},t.prototype.onManagedStateDestroyingAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){return[2]}))}))},t.prototype._transitionManagedState=function(t,e,n,r){var a=this;I.call(this,"_transition")||Object.defineProperty(this,"_transition",{configurable:!1,writable:!0,enumerable:!1});var s=function(s){var c,l,u={state:t,p:new Promise((function(d,h){c=h;var p=function(){var s;l||d((s=u,Object(o.__awaiter)(a,void 0,void 0,(function(){var a,c;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:if(a=this["^$"],t===a)return[2];if(!a)throw i(26);this._transition=s,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,e.call(this)];case 2:return o.sent(),this["^$"]=t,c=!0,this.emit(n),r&&r.call(this),[3,4];case 3:return c||(this["^$"]=a),this._transition=s.pending||void 0,[7];case 4:return[2]}}))}))))};s.then(p,p)})),reject:function(){l=!0,c(i(27))}};return u};if(this._transition){if(this._transition.pending){if(this._transition.pending.state===t)return this._transition.pending.p;this._transition.pending.reject(),this._transition.pending=void 0}return this._transition.state===t?this._transition.p:(this._transition.pending=s(this._transition.p)).p}return(this._transition=s(Promise.resolve())).p},t._createRefLink=function(t,e,n,r,o){var i,a=e["^-out"];return R.length?((i=R.pop()).a=t,i.b=e,i.p=n,i.f=r,i.g=o,i.u=a.length,i.j=i.k=void 0):i={u:a.length,a:t,b:e,p:n,f:r,g:o,j:void 0,k:void 0},a.push(i),e["^-in"]++,t["^-out"][n]=i,i},t._discardRefLink=function(t){if(!(t&&t.u>=0&&t.a&&t.b))return!1;var e=t.a&&t.a["^-out"];e&&e[t.p]===t&&("@"===t.p[0]?(e.head===t&&(e.head=t.k),e.tail===t&&(e.tail=t.j),t.j&&t.j.k===t&&(t.j.k=t.k),t.k&&t.k.j===t&&(t.k.j=t.j),delete e[t.p]):e[t.p]=void 0);var n=t.b&&t.b["^-out"];if(n&&n[t.u]===t){if(t.b["^-in"]--,t.u>=0&&t.u===n.length-1){for(var r=n.length-2;r>=0&&void 0===n[r];)r--;n.length=r+1}else delete n[t.u];n.parent===t&&t.b!==t.a&&(n.parent=void 0,t.b.destroyManagedAsync().catch(m))}return R.length<1e3&&R.push(t),!0},t._makeManagedChildRefLink=function(t,e){var n=t.b,r=n["^-out"];if(r[t.u]===t){var o=r.parent;if(!o||o.a!==t.a){if(r.parent=t,o){this._discardRefLink(o);try{o.g&&o.g(this)}catch(t){}}else n._makeRefManagedParent();n["^$"]&&n.emit(u,t.a,e)}}},t._isManagedChildRefLink=function(t){return t.b["^-out"].parent===t},t._validateReferenceAssignment=function(e,n,r){if(void 0===r&&(r=t),void 0!==n){if(!e["^$"])throw i(29);if(!(n instanceof r))throw i(28);if(!n["^$"])throw i(29)}},t.createManagedReferenceProperty=function(e,n,r,o){if(!(e instanceof t))throw i(30);if(Object.getOwnPropertyDescriptor(e,n))throw i(31);var a="P"+P++;return y(e,n,!1,(function(e,s,c){return function(l,u,d){if(u){if(o){if(l!==o)return;l=o.get()}c&&c(l,u,d)}else{if(o&&l!==o)throw i(32);t._validateReferenceAssignment(e,l);var h=e["^-out"][a];if(!h||!l||h.b!==l||o){if(t._discardRefLink(h),l){var p=t._createRefLink(e,l,a,(function(t,e,o){d(o,t,d),r&&e["^-ec"]&&e["^-ec"](t,n)}),(function(){e[s]=void 0}));r&&t._makeManagedChildRefLink(p,n)}o&&(l=o.get()),c&&c(l,u,d)}}}}),(function(){var e=this["^-out"][a];return o?(e||(t._createRefLink(this,o,a),this[n]=o),o.get()):e&&e.b}))},t.prototype._makeRefManagedParent=function(){},t}(),T=function(t){function e(){return t.call(this)||this}return Object(o.__extends)(e,t),e.prototype.propagateEvents=function(){return this.propagateChildEvents.apply(this,arguments),Object.defineProperty(this,"^-en",{configurable:!0,enumerable:!1,value:this["^-ec"]}),this},e.prototype.restrict=function(t){if(this.objects().some((function(e){return!(e instanceof t)})))throw i(20);return this._managedClassRestriction=t,this},e.prototype.get=function(t){if(this["^$"]){var e=this["^-out"]["%"+String(t)];return e&&e.b}},e.prototype.has=function(t){return!!this["^$"]&&!!this["^-out"]["%"+String(t)]},e.prototype.unset=function(t){var e=this["^-out"]["%"+String(t)],n=e&&e.b;e&&M._discardRefLink(e)&&this.managedState&&this.emit(v,this,n,t)},e.prototype.set=function(t,e){var n=this;if(!this["^$"])throw i(21);var r=this["^-out"];if(t=String(t),M._validateReferenceAssignment(this,e,this._managedClassRestriction),!e)return this.unset(t);var o="%"+t,a=r[o];if(a){if(e&&a.b===e)return;M._discardRefLink(a)}var s=M._createRefLink(this,e,o,(function(t){n["^-en"]?n["^-en"](t,""):n["^-ec"]&&M._isManagedChildRefLink(s)&&n["^-ec"](t,"")}),(function(e){n.managedState&&n.emit(v,n,e,t)}));return r.parent&&!this._isWeakRef&&M._makeManagedChildRefLink(s),this.emit(f,this,e,t),this},e.prototype.remove=function(t){var e,n,r=this["^-out"];for(var o in r)r[o]&&r[o].b===t&&M._discardRefLink(r[o])&&(n=o.slice(1),e=!0);return e&&this.managedState&&this.emit(v,this,t,n),this},e.prototype.clear=function(){var t,e=this["^-out"];for(var n in e)if("%"===n[0]){var r=e[n];M._discardRefLink(r)&&(t=!0)}return t&&this.emitChange(),this},e.prototype.objects=function(){var t=[];if(!this["^$"])return t;var e=Object.create(null),n=this["^-out"];for(var r in n)if("%"===r[0]){var o=n[r]&&n[r].b;o&&!e[o.managedId]&&(e[o.managedId]=!0,t.push(o))}return t},e.prototype.keys=function(){var t=[],e=this["^-out"];if(!e)return t;for(var n in e)"%"===n[0]&&e[n]&&t.push(n.slice(1));return t},e.prototype.forEach=function(t){var e=this["^-out"];if(e)for(var n in e)if("%"===n[0]&&e[n]){var r=n.slice(1),o=e[n]&&e[n].b;o&&t(r,o)}},e.prototype.includes=function(t){var e=this;return t instanceof M&&t["^-out"].some((function(t){return t.a===e&&"%"===t.p[0]}))},e.prototype.toObject=function(){var t=Object.create(null);if(!this["^$"])return t;var e=this["^-out"];for(var n in e)"%"===n[0]&&e[n]&&(t[n.slice(1)]=e[n].b);return t},e.prototype.toJSON=function(){return this.toObject()},e.prototype.weakRef=function(){return this._isWeakRef=!0,this},e.prototype._makeRefManagedParent=function(){if(!this._isWeakRef){var t=this["^-out"];for(var e in t)t[e]&&t[e].a===this&&M._makeManagedChildRefLink(t[e])}},e}(M),U=function(t){function e(e){var n=t.call(this)||this;return e&&n.set(e),n}return Object(o.__extends)(e,t),e.prototype.propagateEvents=function(){return this.propagateChildEvents.apply(this,arguments),Object.defineProperty(this,"^-en",{configurable:!0,enumerable:!1,value:this["^-ec"]}),this},e.prototype.restrict=function(t){var e=this.get();if(e&&!(e instanceof t))throw i(34);return this._managedClassRestriction=t,this},e.prototype.get=function(){var t=this["^-out"]["P*ref"];return t&&t.b},e.prototype.clear=function(){return this.set()},e.prototype.set=function(t){var e=this;M._validateReferenceAssignment(this,t,this._managedClassRestriction);var n=this["^-out"]["P*ref"];if(n){if(t&&n.b===t)return;M._discardRefLink(n)}if(t){var r=M._createRefLink(this,t,"P*ref",(function(t){var n=e["^-en"]||e["^-ec"];n&&n.call(e,t,"")}),(function(){e.managedState&&e.emit(d)}));this["^-out"].parent&&!this._isWeakRef&&M._makeManagedChildRefLink(r)}return this.emitChange(),this},e.prototype.weakRef=function(){return this._isWeakRef=!0,this},e.prototype._makeRefManagedParent=function(){if(!this._isWeakRef){var t=this["^-out"];t["P*ref"]&&M._makeManagedChildRefLink(t["P*ref"])}},e.prototype.toJSON=function(){var t=this.get();return{$ref:t?t.managedId:void 0}},e}(M);function L(t,e){M.createManagedReferenceProperty(t,e)}function F(t,e){M.createManagedReferenceProperty(t,e,!0)}var D=function(t){function e(){var e=t.call(this)||this;return e.services=new T,e}return Object(o.__extends)(e,t),e.instance=new e,Object(o.__decorate)([F],e.prototype,"services",void 0),e}(M);function B(t){return function(e,n){var r=String(t).toUpperCase(),o=D.instance.services.get(r);o||(o=(new U).restrict(V).propagateEvents(),D.instance.services.set(r,o)),M.createManagedReferenceProperty(e,n,!1,o)}}var N,V=function(t){function e(e){var n=t.call(this)||this;return e&&(n.name=e),n}return Object(o.__extends)(e,t),e.find=function(t){var e=String(t).toUpperCase(),n=D.instance.services.get(e);return n&&n.get()},e.link=function(t,e,n){if(!n)throw i(35);B(t)(e.prototype,n)},e.prototype.register=function(){var t=String(this.name||"").toUpperCase();if(!t)throw i(36);var n=D.instance.services.get(t);return n?n.set(this):(n=new U(this).restrict(e).propagateEvents(),D.instance.services.set(t,n)),this},e}(M),z=function(t){function e(e){var n=t.call(this,"ERROR")||this;return n.error=e,n}return Object(o.__extends)(e,t),e}(c),W=function(t){function e(){var n=t.call(this)||this;if(e.instance)throw Error();return n}return Object(o.__extends)(e,t),e.emitError=function(t){console.error?console.error(t):console.log&&console.log(t),e.instance.emit(z,t)},e.instance=new e,e}(M);function K(t){W.emitError(t)}function H(t,e){"{"===t[0]&&(t=t.slice(1,-1));var n=t.match(/^([-0+ ]+)?(\d+)?(\.\d+)?([%diufFeEgGxXsc])$/);if(!n){var r=t.split(":"),a=Y[r.shift()];return a?a.apply(void 0,Object(o.__spread)([e],r)):(K(i(11,t)),"???")}var s=Object(o.__read)(n,5),c=s[1],l=s[2],u=s[3],d=s[4],h=void 0,p=void 0,f=void 0;c&&(c.indexOf("-")>=0?h=!0:c.indexOf("0")>=0&&(f="0"),c.indexOf("+")>=0?p="+":c.indexOf(" ")>=0&&(p=" "));var v=+l||0,y=u?+u.slice(1)||0:void 0,m=void 0;switch(d){case"%":return"%";case"d":case"i":case"u":return q(String(Math.round(Math.abs(+e))||0),e<0,v,h,p,f);case"f":case"F":return m=q(Math.abs(+e).toFixed(y),e<0,v,h,p,f),void 0===y&&(m=m.replace(/0+$/,"0")),"F"===d?m.toUpperCase():m;case"e":case"E":return m=q(Math.abs(+e).toExponential(y),e<0,v,h,p,f),"E"===d?m.toUpperCase():m;case"g":case"G":return m=q(Math.abs(+e).toString(),e<0,v,h,p,f),"G"===d?m.toUpperCase():m;case"x":case"X":return m=q(Math.abs(+e||0).toString(16),e<0,v,h,p,f),"X"===d?m.toUpperCase():m;case"c":e=null==e?"":String.fromCharCode(+e);case"s":return m=String(null!=e?e:""),v>0&&(m=h?$(m,v):G(m,v," ")),y>0&&(m=m.slice(0,y)),m}}function q(t,e,n,r,o,i){var a=e?"-":o||"";if(r)return $(a+t,n);if(i&&/^[\da-f]/.test(t)||(i=" "),a)return a+G(t,n-1,i);var s=Z.get();return s&&"."!==s.decimalSeparator&&(t=t.replace(".",s.decimalSeparator)),G(t,n,i||" ")}function $(t,e){if(t.length>=e)return t;for(var n=t.length;n<e;n++)t+=" ";return t}function G(t,e,n){if(t.length>=e)return t;for(var r=t.length;r<e;r++)t=n+t;return t}N=W.emitError,m=N;var Y={_:function(){},"!":function(t){return!t},"not?":function(t){return!t},"?":function(t){return!!t},"!!":function(t){return!!t},n:function(t){return+t},num:function(t){return+t},or:function(t,e){return t||e},then:function(t,e,n){return t&&e||n},uc:function(t){return null==t?t:String(t).toUpperCase()},lc:function(t){return null==t?t:String(t).toLowerCase()},uniq:function(t){if(!Array.isArray(t)){if(!t||!t.toArray)return t;if(t=t.toArray(),!Array.isArray(t))return t}var e=[],n=Object.create(null);return t.filter((function(t){return null!=t&&("string"==typeof t?!n[t]&&(n[t]=!0):!(e.indexOf(t)>=0)&&(e.push(t),!0))}))},pluck:function(t,e){if(!Array.isArray(t)){if(!t||!t.toArray)return t;if(t=t.toArray(),!Array.isArray(t))return t}return t.map((function(t){return t&&t[e]}))},local:function(){var t=Z.get();return t?t.format.apply(t,arguments):"???"}};var X=new U,J=0,Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Core.I18n",e.decimalSeparator=".",e}return Object(o.__extends)(e,t),e.get=function(){return X.get()},e.prototype.register=function(){return t.prototype.register.call(this),X.set(this),J++,this},e.prototype.loadTexts=function(t){var e,n;this._loadedTexts||(this._loadedTexts={});try{for(var r=Object(o.__values)(t),i=r.next();!i.done;i=r.next()){var a=i.value;a[1]&&(this._loadedTexts[a[0]]=a[1])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}J++},e.prototype.getText=function(t){var e;return(null===(e=this._loadedTexts)||void 0===e?void 0:e[t])?this._loadedTexts[t]:t},e.prototype.getPlural=function(t,e){return e[1==t?0:1]||""},e}(V),Q=function(){function t(t,e){this.format=t,e&&this.update(e)}return t.prototype.toString=function(){return""},t.prototype.update=function(t){var e,n=this,r=this.format,o=J;return this.toString=function(){if(J!==o&&(e=void 0,n.text=void 0),void 0!==e)return e;var a;if(void 0===n.text&&(n.text=((a=X.get())?a.getText(String(r)):String(r)).replace(/\*\*\*\{.*\}\*\*\*/g,"")),!t.length)return e=n.text;var s=n.text.replace(/\#\{([^}]*)\}/g,(a=a||X.get())?function(e,n){return a.getPlural(+t[0]||0,n.split("/"))}:function(e,n){return n.split("/")[1==t[0]?0:1]});return e=function(t,e){var n=0;return t.replace(/\%(?:(\d+)\$)?(\{[^\}]*\}|[-+*.0-9 ]*[%a-zA-Z])/g,(function(t,r,o){var a;if("s"===o)return String(null!==(a=r?e[r-1]:e[n++])&&void 0!==a?a:"");var s=H(o=o.replace(/\*/g,(function(){return String(e[n++])})),r?e[r-1]:e[n++]);if("object"==typeof s){if(s.toString===Object.prototype.toString)return K(i(10)),"???";if(s.toString===Array.prototype.toString&&s.map===Array.prototype.map)return s.map((function(t){return null!=t&&String(t)||""})).join(", ")}return String(null!=s?s:"")}))}(s,t)},this},t}();function tt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t instanceof Q?e.length?new Q(t.format,e):t:new Q(t,e)}var et=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this)||this}return Object(o.__extends)(e,t),e.type=function(t,n){var r,i=tt(n);return(r=function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.call(this)||this;return o.code=t,o.message=i.update([n]).toString(),o}return Object(o.__extends)(n,e),n}(e)).code=t,r},e}(Error);if("function"!=typeof Symbol){if("object"!=typeof window)throw i(14);window.Symbol={iterator:"Symbol.iterator_shim_"+Math.random()}}var nt,rt,ot=function(t){function e(){for(var e,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=t.call(this)||this;a["^count"]=0,a["^count"]=0,Object.defineProperty(a,"_managedCount",Object(o.__assign)(Object(o.__assign)({},Object.getOwnPropertyDescriptor(a,"_managedCount")),{enumerable:!1}));try{for(var s=Object(o.__values)(r),c=s.next();!c.done;c=s.next()){var l=c.value;a.insert(l)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a}return Object(o.__extends)(e,t),e.prototype.propagateEvents=function(){return this.propagateChildEvents.apply(this,arguments),Object.defineProperty(this,"^-en",{configurable:!0,enumerable:!1,value:this["^-ec"]}),this},e.prototype.restrict=function(t){if(this.toArray().some((function(e){return!(e instanceof t)})))throw i(15);return this._managedClassRestriction=t,this},Object.defineProperty(e.prototype,"count",{get:function(){return this["^-out"].head?this["^count"]:0},enumerable:!1,configurable:!0}),e.prototype.add=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var i=Object(o.__values)(n),a=i.next();!a.done;a=i.next()){var s=a.value;this.insert(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this},e.prototype.insert=function(t,e){var n=this;if(!this["^$"])throw i(16);var r=this["^-out"];if(M._validateReferenceAssignment(this,t,this._managedClassRestriction),void 0===t)throw ReferenceError();if(this.includes(t))throw i(17);var o=e&&r["@"+e.managedId];if(e&&(!o||o.b!==e))throw i(18);var a="@"+t.managedId,s=M._createRefLink(this,t,a,(function(t){n["^-en"]?n["^-en"](t,""):n["^-ec"]&&M._isManagedChildRefLink(s)&&n["^-ec"](t,"")}),(function(t){n["^count"]--,n.managedState&&n.emit(v,n,t)}));return o?(r.head===o&&(r.head=s),(s.j=o.j)&&(s.j.k=s),s.k=o,o.j=s):r.tail?(r.tail.k=s,s.j=r.tail,s.k=void 0,r.tail=s):r.head=r.tail=s,this["^count"]++,r.parent&&!this._isWeakRef&&M._makeManagedChildRefLink(s),this.emit(f,this,t),this},e.prototype.remove=function(t){if(!(t instanceof M))throw TypeError();var e=t instanceof M&&this["^-out"]["@"+t.managedId];return e&&e.b===t&&M._discardRefLink(e)&&(this["^count"]--,this.managedState&&this.emit(v,this,t)),this},e.prototype.splice=function(t,e){for(var n,r,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(void 0!==t&&!(t instanceof M))throw TypeError();var s,c=[];for("number"==typeof e&&(s=e);t&&t!==e&&!(s--<1);){var l=t instanceof M&&this["^-out"]["@"+t.managedId],u=l&&l.k&&l.k.b;l&&l.b===t&&(c.push(t),M._discardRefLink(l)&&(this["^count"]--,this.emit(v,this,t))),t=u}try{for(var d=Object(o.__values)(i),h=d.next();!h.done;h=d.next()){var p=h.value;this.insert(p,t)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return c},e.prototype.replace=function(t){var e,n,r,i,a,s,c,l,u,d=this,h=this["^-out"],f=[],v=function(t,e){return f.unshift((function(){return d.insert(t,e)}))},y=[],m=function(t){return y.push((function(){return d.remove(t)}))},g=[],b=function(t,e){return g.unshift((function(){var n=h["@"+t.managedId];if(n){var r=e&&h["@"+e.managedId];n!==r&&n.k!==r&&(u=!0,h.head===n&&(h.head=n.k),h.tail===n&&(h.tail=n.j),n.j&&(n.j.k=n.k),n.k&&(n.k.j=n.j),n.k=r,r?(n.j=r.j,r.j&&(r.j.k=n),r.j=n):(n.j=h.tail,n.j&&(n.j.k=n)),n.j||(h.head=n),n.k||(h.tail=n))}}))},_=Object.create(null),w=[];try{for(var C=Object(o.__values)(t),O=C.next();!O.done;O=C.next()){var x=O.value;if(void 0!==x)if(x instanceof M&&(_[x.managedId]=!0),this.includes(x))for(w.unshift(b.bind(this,x));w.length>1;)w.pop()(x);else w.push(v.bind(this,x))}}catch(t){e={error:t}}finally{try{O&&!O.done&&(n=C.return)&&n.call(C)}finally{if(e)throw e.error}}for(;w.length;)w.pop()(void 0);for(var S=this["^-out"].head;S;)_[S.b.managedId]||m(S.b),S=S.k;try{for(var j=Object(o.__values)(y),E=j.next();!E.done;E=j.next()){(0,E.value)()}}catch(t){r={error:t}}finally{try{E&&!E.done&&(i=j.return)&&i.call(j)}finally{if(r)throw r.error}}try{for(var I=Object(o.__values)(g),R=I.next();!R.done;R=I.next()){(0,R.value)()}}catch(t){a={error:t}}finally{try{R&&!R.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}u&&this.emit(p,void 0,this);try{for(var A=Object(o.__values)(f),k=A.next();!k.done;k=A.next()){(0,k.value)()}}catch(t){c={error:t}}finally{try{k&&!k.done&&(l=A.return)&&l.call(A)}finally{if(c)throw c.error}}return this},e.prototype.clear=function(){var t,e,n=this.toArray();try{for(var r=Object(o.__values)(n),i=r.next();!i.done;i=r.next()){var a=i.value;this.remove(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return this},e.prototype.includes=function(t){var e=t instanceof M&&this["^-out"]["@"+t.managedId];return!!e&&e.b===t},e.prototype.first=function(){var t=this["^-out"].head;return t&&t.b},e.prototype.last=function(){var t=this["^-out"].tail;return t&&t.b},e.prototype.get=function(t){if(this["^$"]&&t>=0){for(var e=this["^-out"].head,n=t;e&&n>0;n--)e=e.k;if(e&&e.b)return e.b}throw i(19,t)},e.prototype.find=function(t){var e=this["^-out"]["@"+t];if(!e||e.b.managedId!==t)throw i(18);return e.b},e.prototype.take=function(t,e){return this._take(t,e)},e.prototype.takeLast=function(t,e){return this._take(t,e,!0)},e.prototype._take=function(t,e,n){var r,o=[];if(!this["^$"])return o;for(r=e&&this.includes(e)?this["^-out"]["@"+e.managedId]:this["^-out"][n?"tail":"head"];r&&t-- >0;)o[n?"unshift":"push"](r.b),r=n?r.j:r.k;return o},e.prototype.indexOf=function(t){if(!this["^$"])return-1;for(var e=this["^-out"].head,n=0;e;n++,e=e.k)if(e.b===t)return n;return-1},e.prototype.toArray=function(){if(!this["^$"])return[];for(var t=new Array(this.count),e=0,n=this["^-out"].head;n;)t[e++]=n.b,n=n.k;return t},e.prototype.toJSON=function(){return this.toArray()},e.prototype.some=function(t){var e,n;try{for(var r=Object(o.__values)(this),i=r.next();!i.done;i=r.next()){if(t(i.value))return!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},e.prototype.every=function(t){var e,n;try{for(var r=Object(o.__values)(this),i=r.next();!i.done;i=r.next()){if(!t(i.value))return!1}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},e.prototype.forEach=function(t){var e,n;try{for(var r=Object(o.__values)(this),i=r.next();!i.done;i=r.next()){t(i.value)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.map=function(t){var e,n,r=[];try{for(var i=Object(o.__values)(this),a=i.next();!a.done;a=i.next()){var s=a.value;r.push(t(s))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},e.prototype.pluck=function(t){if(!this["^$"])return[];for(var e=new Array(this.count),n=0,r=this["^-out"].head;r;)e[n++]=r.b[t],r=r.k;return e},e.prototype[Symbol.iterator]=function(){var t=this["^-out"],e=this["^-out"].head,n=e?e.b:0;return{next:function(){var r=n;return r&&t[e.p]===e?(e=e.k,n=e?e.b:0,{value:r,done:!1}):{done:!0}}}},e.prototype.weakRef=function(){return this._isWeakRef=!0,this},e.prototype._makeRefManagedParent=function(){var t,e;if(!this._isWeakRef){var n=this["^-out"];if(n.head){for(var r=[],i=n.head;i;i=i.k)r.push(i);try{for(var a=Object(o.__values)(r),s=a.next();!s.done;s=a.next()){n[(i=s.value).p]===i&&M._makeManagedChildRefLink(i)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}}},Object(o.__decorate)([w("^count")],e.prototype,"count",null),e}(M),it=16,at=function(){function t(t,e){var n,r,i;this.id="^^bind:"+it++;var a=void 0!==t?String(t):void 0;if(a&&(this._source=t),void 0!==a){var s=String(a).split("|");for(i=s.shift().split("."),a=i.shift();"!"===a[0];)a=a.slice(1),this.addFilter("!");i.length||(i=void 0);try{for(var c=Object(o.__values)(s),l=c.next();!l.done;l=c.next()){var u=l.value;this.addFilter(u)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}this.propertyName=a;var d=this;this.Reader=function(){function t(t){this.boundParent=t}return t.prototype.getValue=function(t){var n=arguments.length>0?t:void 0!==a?this.boundParent[a]:void 0;if(i)for(var r=0;r<i.length&&null!=n;r++){var o=i[r];n="object"!=typeof n||o in n||"function"!=typeof n.get?n[o]:n.get(o)}return d._filter&&(n=d._filter(n,this.boundParent)),void 0===n&&void 0!==e?e:n},t}()}return t.isBinding=function(e){return!!(e&&e.isComponentBinding&&e instanceof t)},t.prototype.isComponentBinding=function(){return!0},Object.defineProperty(t.prototype,"bindings",{get:function(){return this._bindings},enumerable:!1,configurable:!0}),t.prototype.addFilter=function(t){t=String(t).trim();var e=this._filter;return this._filter=function(n,r){return e&&(n=e(n,r)),H(t,n)},this},t.prototype.match=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._filter;return this._filter=function(e,r){return n&&(e=n(e,r)),t.some((function(t){return t===e}))},this},t.prototype.nonMatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._filter;return this._filter=function(e,r){return n&&(e=n(e,r)),!t.some((function(t){return t===e}))},this},t.prototype.and=function(e,n){var r=new t(e,n);r.parent=this,this._bindings||(this._bindings=[]),this._bindings.push(r),this._source&&(this._source+=" and "+e);var o=this._filter;return this._filter=function(t,n){o&&(t=o(t,n));var a=n.getBoundBinding(r);if(!a)throw i(7,e);return t&&a.value},this},t.prototype.or=function(e,n){var r=new t(e,n);r.parent=this,this._bindings||(this._bindings=[]),this._bindings.push(r),this._source&&(this._source+=" or "+e);var o=this._filter;return this._filter=function(t,n){o&&(t=o(t,n));var a=n.getBoundBinding(r);if(!a)throw i(7,e);return t||a.value},this},t.prototype.debuggerLog=function(){var t=this,e=this._filter;return this._filter=function(n,r){return e&&(n=e(n,r)),console.log("--- ",t._source||"?",n),n},this},t}(),st=function(t){function e(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=t.call(this,void 0)||this;n.length||(e=String(e).replace(/\$\{[^}]+\}/g,(function(t){return n.push(t.slice(2,-1)),"%s"})));var s=a._bindings=n.map((function(t){var e=t instanceof at?t:new at(t);return e.parent=a,e}));return a.Reader=function(t){function r(n){var r=t.call(this,n)||this;return r.i18nString=new Q(e),r}return Object(o.__extends)(r,t),r.prototype.getValue=function(){var e=this,r=s.map((function(t,r){var o=e.boundParent.getBoundBinding(t);if(!o)throw i(7,n[r]);return o.value})),o=this.i18nString.update(r).toString();return t.prototype.getValue.call(this,o)},r}(a.Reader),a}return Object(o.__extends)(e,t),e}(at);function ct(t,e){return new at(t,e)}function lt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new(st.bind.apply(st,Object(o.__spread)([void 0,t],e)))}nt=at||(at={}),rt=function(t){function e(e,n){var r=t.call(this)||this;if(r.binding=e,e.parent){var o=n.getBoundBinding(e.parent);if(!o)throw i(8);r.parent=o}return r.propertyName=e.propertyName,r._reader=new e.Reader(n),r}return Object(o.__extends)(e,t),e.prototype.hasValue=function(){return!!this._updatedValue},Object.defineProperty(e.prototype,"value",{get:function(){return this._updatedValue?this._lastValue:this._reader.getValue()},enumerable:!1,configurable:!0}),e.prototype.updateComponents=function(t){var e;if(this.count||this.parent){var n=(e=this._reader).getValue.apply(e,Object(o.__spread)(arguments));if(!this._updatedValue||this._lastValue!==n){if(this._updatedValue=!0,this._lastValue=n,this.parent)return void this.parent.updateComponents();var r=this.binding.id;this.forEach((function(t){try{if("function"!=typeof t[r])throw i(9);t[r](n)}catch(t){K(t)}}))}}else this._updatedValue=!1},e}(ot),nt.Bound=rt;var ut=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.source=n,o.inner=r,o}return Object(o.__extends)(e,t),e}(c),dt=function(t){function e(e){var n=t.call(this,"ChildComponentAdded")||this;return n.source=e.component,n.observer=e,n}return Object(o.__extends)(e,t),e}(c),ht=function(t){function e(e,n){var r=t.call(this,"CompositeParentChange")||this;return r.source=e,r.composite=n,r}return Object(o.__extends)(e,t),e}(c),pt=function(t){function e(){return t.call(this)||this}return Object(o.__extends)(e,t),e.with=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=this,i=function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.apply(this,Object(o.__spread)(e))||this;return n.call(i),i}return Object(o.__extends)(e,t),e.prototype.isPresetComponent=function(){return!0},e}(r),a=t[0];return n="object"!=typeof a||Object.getPrototypeOf(a)!==Object.prototype?i.preset.apply(i,Object(o.__spread)([Object.create(null)],t)):i.preset.apply(i,Object(o.__spread)(t)),i},e.preset=function(t){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];for(var a in t){var s=t[a];at.isBinding(s)?(this.presetBinding(a,s),delete t[a]):s&&"o"===a[0]&&"n"===a[1]&&(a.charCodeAt(2)<97||a.charCodeAt(2)>122)?(n||(n=Object.create(null)),n[a.slice(2)]="function"==typeof s?s:ft(String(s)),delete t[a]):"function"==typeof s&&s.prototype instanceof e&&r.push(s)}return r.length&&this.presetBindingsFrom.apply(this,Object(o.__spread)(r)),n&&this.addEventHandler((function(t){var e=n[t.name];e&&e.call(this,t)})),function(){for(var e in t){var n=t[e];void 0!==n&&yt(this,e,n)}}},e.presetBinding=function(t,e,n){this.prototype.hasOwnProperty("^+bnd")||(this.prototype["^+bnd"]=Object.create(this.prototype["^+bnd"])),this.prototype["^+bnd"][t]=e,n||(n=function(e){yt(this,t,e)}),this.prototype[e.id]=n},e.presetBindingsFrom=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!this.prototype.hasOwnProperty("^+bndI")){var a=this.prototype["^+bndI"];this.prototype["^+bndI"]=a?a.slice():[]}try{for(var s=Object(o.__values)(r),c=s.next();!c.done;c=s.next()){var l=c.value;if(l){if(!(l.prototype&&l.prototype instanceof e))throw TypeError();this.prototype["^+bndI"].push(l)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.presetBoundComponent=function(t){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.prototype.hasOwnProperty("^+bndC")||(this.prototype["^+bndC"]=Object(o.__assign)({},this.prototype["^+bndC"]));var a=new((n=e.BoundComposition).bind.apply(n,Object(o.__spread)([void 0,this],r)));return this.prototype["^+bndC"][t]=a,a},e.prototype.isPresetComponent=function(){return!1},e.prototype.getParentComponent=function(t){return this.getManagedParent(t||e)},e.prototype.getBoundParentComponent=function(t){var e=this["^+bndO"];if(!t)return e&&e.boundParent;for(var n=e&&e.boundParent;n&&!(n instanceof t);)n=n.getBoundParentComponent();return n},e.prototype.propagateComponentEvent=function(t,e){this.managedState&&this.emit(ut,t,this,e)},e.prototype.getBoundBinding=function(t){return this["^+bndO"]&&this["^+bndO"].getCompositeBound(t)},e}(M);function ft(t){if("()"===t.slice(-2)){var e=t.slice(0,-2);return function(t){for(var n=this.getBoundParentComponent();n;){var r=n&&n[e];if("function"==typeof r)return r.call(n,t);n=n.getBoundParentComponent()}throw i(12,e)}}if("+"===t[0]){var n=t.slice(1);return function(t){this.propagateComponentEvent(n,t)}}throw i(13,t)}pt.prototype["^+bnd"]=Object.create(null),pt.prototype["^+bndI"]=[],pt.prototype["^+bndC"]=Object.create(null),function(t){var e=function(){function t(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.Composite=t,this._bindings=this._getAllBindings.apply(this,Object(o.__spread)(n)),_(t,(function(){return e._createObserver()}))}return t.prototype.getBindings=function(){return this._bindings.slice()},t.prototype.limitBindings=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=[];this._unbound||(this._unbound=[]);var a=function(t){n.some((function(e){return t.propertyName===e}))||t.bindings&&t.bindings.some((function(t){return n.some((function(e){return t.propertyName===e}))}))?i.push(t):s._unbound.push(t)},s=this;try{for(var c=Object(o.__values)(this._bindings),l=c.next();!l.done;l=c.next()){var u=l.value;a(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}this._bindings=i},t.prototype._createObserver=function(){var t=this._bindings.filter((function(t){return void 0!==t.propertyName})).map((function(t){return t.propertyName}));if(t.length)return function(){function e(t){this.c=t}return e.prototype.updatePropertyAsync=function(t,e,n){var r=this.c["^+bndO"];r&&r.updateCompositeBound(n,t)},Object(o.__decorate)([C.apply(void 0,Object(o.__spread)(t))],e.prototype,"updatePropertyAsync",null),e}()},t.prototype._getAllBindings=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[],r=function(t){n.push(t),t.bindings&&t.bindings.forEach((function(t){return r(t)}))},i=function(t){var e,n;if(t){var a=t.prototype["^+bnd"];for(var s in a)r(a[s]);var c=t.prototype["^+bndI"];try{for(var l=Object(o.__values)(c),u=l.next();!u.done;u=l.next()){var d=u.value;i(d)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var h=t.prototype["^+bndC"];for(var s in h){var p=h[s]._unbound;if(p)for(var f in p)r(p[f])}}};return t.forEach((function(t){return i(t)})),n},t}();t.BoundComposition=e;var n=function(){function t(t){this.component=t,this._childObservers=Object.create(null),this._nChildren=0,Object.defineProperty(t,"^+bndO",{enumerable:!1,writable:!1,value:this})}return t.prototype.getCompositeBound=function(t){return this._compositeBound&&this._compositeBound.get(t.id)||this.boundParent&&this.boundParent["^+bndO"]&&this.boundParent["^+bndO"].getCompositeBound(t)},t.prototype.onEvent=function(t){if(t===l.DESTROYED)this._parentObserver&&(this._parentObserver._removeChildObserver(this),this._unbind(),this.boundParent=void 0);else if(t instanceof u){var e=this.component.getParentComponent(),n=e&&e["^+bndO"];if(n===this._parentObserver)return;if(this._parentObserver&&(this._parentObserver._removeChildObserver(this),this._unbind(),this.boundParent=void 0),this._parentObserver=n,n){if(n._addChildObserver(this),t.parent===e&&t.propertyName&&e["^+bndC"][t.propertyName]){var r=e["^+bndC"][t.propertyName];this.boundParent=e,n._addCompositeBound(r.getBindings())}else this.boundParent=n.boundParent;this._bind()}for(var o in this._childObservers)this._childObservers[o]._updateParent(this,!0)}},t.prototype.updateCompositeBound=function(t,e){if(this._compositeBound)return t?arguments.length<2?this._compositeBound.forEach((function(e,n){n.propertyName===t&&n.updateComponents()})):this._compositeBound.forEach((function(n,r){r.propertyName===t&&r.updateComponents(e)})):this._compositeBound.forEach((function(t,e){e.updateComponents()})),this},t.prototype._addChildObserver=function(t){var e=t.component.managedId;this._childObservers[e]||(this._childObservers[e]=t,this._nChildren=(this._nChildren||0)+1)},t.prototype._removeChildObserver=function(t){var e=t.component.managedId;this._childObservers[e]&&(delete this._childObservers[e],!--this._nChildren&&this._compositeBound&&this._compositeBound.clear())},t.prototype._updateParent=function(t,e){for(var n in e&&t.component===this.boundParent&&(e=!1),e&&(this._unbind(),this.boundParent=t.boundParent),this._bind(),this._childObservers)this._childObservers[n]._updateParent(this,e)},t.prototype._unbind=function(){if(this._ownBound){for(var t in this._ownBound)this._ownBound[t].remove(this.component);this._ownBound=void 0}},t.prototype._bind=function(){var t,e;if(this.boundParent){var n=this.component,r=this.boundParent["^+bndO"],o=n["^+bnd"],i=this._ownBound||(this._ownBound=Object.create(null));for(var a in o)if(!i[a]){var s=o[a];(c=r.getCompositeBound(s))&&(i[a]=c.add(n))}for(var a in i){var c=i[a];try{null===(e=(t=n)[c.binding.id])||void 0===e||e.call(t,c.value)}catch(t){K(t)}}}},t.prototype._addCompositeBound=function(t){var e,n;this._compositeBound||(this._compositeBound=new T);try{for(var r=Object(o.__values)(t),i=r.next();!i.done;i=r.next()){var a=i.value;this._compositeBound.has(a.id)||this._compositeBound.set(a.id,new at.Bound(a,this.component))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}();t.ComponentObserver=n,t.addObserver(n)}(pt||(pt={}));var vt=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return Object(o.__extends)(e,t),e.prototype.valueOf=function(){return this.value},e}(M);function yt(t,e,n){var r=t[e];if(r&&r instanceof ot){if(void 0===n)return void r.clear();if(Array.isArray(n))return void r.replace(n.map((function(t){return t instanceof M?t:new vt(t)})))}t[e]=n}var mt,gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.create=function(t){var e=new this;if(t)for(var n in t)e[n]=t[n];return e},e.prototype.serialize=function(){var t=this,n=Object.create(null),r=function(n,o){if(null==o||"string"==typeof o||"number"==typeof o||"boolean"==typeof o)return o;if(Array.isArray(o))return o.map((function(t,e){return r(n+"."+e,t)}));if(!(o instanceof M))throw i(33,n);if(o instanceof e&&o.getParentRecord()===t)return o.serialize();if(o instanceof U)return r(n,o.get());if(o instanceof ot)return o.map((function(t){return r(n,t)}));if(o instanceof T){var a=Object.create(null);return o.forEach((function(t,e){a[t]=r(n+"#"+t,e)})),a}};for(var o in this)if(this.hasOwnProperty(o)&&"_"!==o[0]&&"managedId"!==o){var a=r(o,this[o]);void 0!==a&&(n[o]=a)}return n},e.prototype.getParentRecord=function(t){return this.getManagedParent(t||e)},e.prototype.getNextSibling=function(){var t=this.getManagedParent();if(t instanceof ot){var n=t.take(2,this)[1];if(n instanceof e)return n}},e.prototype.getPreviousSibling=function(){var t=this.getManagedParent();if(t instanceof ot){var n=t.takeLast(2,this);if(n.length>1&&n[0]instanceof e)return n[0]}},e.prototype.getReferrerRecords=function(t){var n=Object.create(null),r=[],o=t||e,i=function(t){t["^-out"].forEach((function(t){var e=t.a;e.managedState&&!n[e.managedId]&&(n[e.managedId]=!0,e instanceof o?r.push(e):(e instanceof ot||e instanceof T||e instanceof U)&&i(e))}))};return i(this),r},e}(pt),bt=1,_t=Object.create(null),wt={},Ct=function(){function t(t,e,n,r){this._inherit=n&&e?e.map((function(t){return t[n]})).filter((function(t){return!!t})):[],n&&t&&t[n]&&this._inherit.unshift(t[n]),this._style=r}return t.prototype.getStyle=function(){return this._style},t.prototype._value=function(t){for(var e,n=this._inherit.length-1;n>=0&&void 0===(e=this._inherit[n][t]);n--);return e},t}(),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.create=function(t,e,n){var r=new this(t,e,"dimensions",n);return Object.defineProperties(r,{width:{enumerable:!0,get:r._value.bind(r,"width")},height:{enumerable:!0,get:r._value.bind(r,"height")},minWidth:{enumerable:!0,get:r._value.bind(r,"minWidth")},maxWidth:{enumerable:!0,get:r._value.bind(r,"maxWidth")},minHeight:{enumerable:!0,get:r._value.bind(r,"minHeight")},maxHeight:{enumerable:!0,get:r._value.bind(r,"maxHeight")},grow:{enumerable:!0,get:r._value.bind(r,"grow")},shrink:{enumerable:!0,get:r._value.bind(r,"shrink")}}),r},e}(Ct),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.create=function(t,e,n){var r=new this(t,e,"position",n);return Object.defineProperties(r,{gravity:{enumerable:!0,get:r._value.bind(r,"gravity")},top:{enumerable:!0,get:r._value.bind(r,"top")},bottom:{enumerable:!0,get:r._value.bind(r,"bottom")},left:{enumerable:!0,get:r._value.bind(r,"left")},right:{enumerable:!0,get:r._value.bind(r,"right")}}),r},e}(Ct),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.create=function(t,e,n){var r=new this(t,e,"textStyle",n);return Object.defineProperties(r,{align:{enumerable:!0,get:r._value.bind(r,"align")},color:{enumerable:!0,get:r._value.bind(r,"color")},fontFamily:{enumerable:!0,get:r._value.bind(r,"fontFamily")},fontSize:{enumerable:!0,get:r._value.bind(r,"fontSize")},fontWeight:{enumerable:!0,get:r._value.bind(r,"fontWeight")},letterSpacing:{enumerable:!0,get:r._value.bind(r,"letterSpacing")},lineHeight:{enumerable:!0,get:r._value.bind(r,"lineHeight")},lineBreakMode:{enumerable:!0,get:r._value.bind(r,"lineBreakMode")},bold:{enumerable:!0,get:r._value.bind(r,"bold")},italic:{enumerable:!0,get:r._value.bind(r,"italic")},uppercase:{enumerable:!0,get:r._value.bind(r,"uppercase")},smallCaps:{enumerable:!0,get:r._value.bind(r,"smallCaps")},underline:{enumerable:!0,get:r._value.bind(r,"underline")},strikeThrough:{enumerable:!0,get:r._value.bind(r,"strikeThrough")}}),r},e}(Ct),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.create=function(t,e,n){var r=new this(t,e,"decoration",n);return Object.defineProperties(r,{background:{enumerable:!0,get:r._value.bind(r,"background")},textColor:{enumerable:!0,get:r._value.bind(r,"textColor")},borderColor:{enumerable:!0,get:r._value.bind(r,"borderColor")},borderStyle:{enumerable:!0,get:r._value.bind(r,"borderStyle")},borderThickness:{enumerable:!0,get:r._value.bind(r,"borderThickness")},borderRadius:{enumerable:!0,get:r._value.bind(r,"borderRadius")},padding:{enumerable:!0,get:r._value.bind(r,"padding")},dropShadow:{enumerable:!0,get:r._value.bind(r,"dropShadow")},opacity:{enumerable:!0,get:r._value.bind(r,"opacity")},css:{enumerable:!0,get:function(){for(var t=Object.create(null),e=0;e<this._inherit.length;e++){var n=this._inherit[e].css;if(n)for(var r in n)t[r]=n[r]}return t}},cssClassNames:{enumerable:!0,get:function(){for(var t,e,n=Object.create(null),r=this._inherit.length-1;r>=0;r--){var i=this._inherit[r].cssClassNames;if(i)if("string"==typeof i)n[i]=!0;else try{for(var a=(t=void 0,Object(o.__values)(i)),s=a.next();!s.done;s=a.next()){n[s.value]=!0}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}return Object.keys(n)}}}),r},e}(Ct),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.create=function(t,e,n){var r=new this(t,e,"containerLayout",n);return Object.defineProperties(r,{axis:{enumerable:!0,get:r._value.bind(r,"axis")},distribution:{enumerable:!0,get:r._value.bind(r,"distribution")},gravity:{enumerable:!0,get:r._value.bind(r,"gravity")},wrapContent:{enumerable:!0,get:r._value.bind(r,"wrapContent")},clip:{enumerable:!0,get:r._value.bind(r,"clip")},separator:{enumerable:!0,get:r._value.bind(r,"separator")}}),r},e}(Ct),It=Object.freeze(new Ct),Rt=function(){function t(t,e){void 0===t&&(t="");for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(this.name=t,t?(t=t.replace(/[^\w\d_\-]/g,""),this.id="S_"+(wt[t]?t+"--"+bt++:wt[t]=t)):this.id="S__"+bt++,this.ids=e?Object(o.__spread)(e.ids,[this.id]):[this.id],this.conditionalStyles=e?Object(o.__assign)({},e.conditionalStyles):Object.create(null),e||n.length){this.inherited=e&&Object(o.__spread)(e.inherited,[e])||[];var i=e&&e.getStyles();this._styles=Object.freeze({dimensions:Ot.create(void 0,n,this),position:xt.create(void 0,n,this),textStyle:St.create(void 0,n,this),decoration:jt.create(void 0,n,this),containerLayout:Et.create(void 0,n,this)}),this._combined=Object.freeze({dimensions:Ot.create(i,n,this),position:xt.create(i,n,this),textStyle:St.create(i,n,this),decoration:jt.create(i,n,this),containerLayout:Et.create(i,n,this)})}else this.inherited=[],this._styles=Object.freeze(Object.create(null)),this._combined=Object.freeze({dimensions:It,position:It,textStyle:It,decoration:It,containerLayout:It})}return t.create=function(e,n){return void 0===n&&(n=e),"string"!=typeof e&&(e="UIStyle_"+bt++),new t(e,void 0,n||Object.create(null))},t.group=function(){for(var e,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=Object.create(null);try{for(var s=Object(o.__values)(r),c=s.next();!c.done;c=s.next()){var l=c.value;for(var u in l){var d=l[u];a[u]=u in a?a[u].extend(d instanceof t?d.getStyles():d):d instanceof t?d:t.create(u,d)}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.isStyleOverride=function(t,e){return t&&(!(t instanceof Ct)||e&&t.getStyle()!==e)},t.prototype.mixin=function(e){if(!e)return this;var n=this.id+"+"+e.id;if(_t[n])return _t[n];var r=new t(this.name+"--"+e.name,this,e._combined);for(var o in e.conditionalStyles)e.conditionalStyles[o]&&(r.conditionalStyles[o]=e.conditionalStyles[o]);return _t[n]=r,r},t.prototype.extend=function(e,n){return new t(n||this.name,this,e)},t.prototype.addState=function(e,n){return this.conditionalStyles[e]?this.conditionalStyles[e]=this.conditionalStyles[e].extend(n):this.conditionalStyles[e]=t.create(this.name+":"+e,n),this},t.prototype.getStyles=function(){return this._combined},t.prototype.getOwnStyles=function(){return this._styles},t}(),At=function(){},kt=function(){},Pt=function(){function t(t){t&&(this._f=function(){return Mt.current&&Mt.current.colors[t]||t})}return t.prototype.toString=function(){return this._f?this._f():"transparent"},t.prototype.text=function(){var e=this,n=new t;return n._f=function(){return Mt.getTextColor(String(e))},n},t.prototype.alpha=function(e){var n=this,r=new t;return r._f=function(){return Mt.mixColors(String(n),"rgba(,,,0)",1-e)},r},t.prototype.lum=function(e,n){var r=this,o=new t;return o._f=function(){var t=String(r);return n&&!Mt.isBrightColor(t)&&(e=-e),Mt.mixColors(t,e>0?"#fff":"#000",Math.abs(e))},o},t}(),Mt=function(){function t(){this.modalDialogShadeOpacity=.3,this.spacing=8,this.colors={red:"#f00",green:"#0f0",blue:"#00f",black:"#000",white:"#fff",primary:"@blue",accent:"@red",background:"@white",text:"@background:text",separator:"@background^-50%/20%",modalShade:"@black"},this.icons=Object.create(null),this.styles={container:Rt.create("_container",{position:{gravity:"stretch"},dimensions:{grow:1,shrink:0},containerLayout:{gravity:"stretch",axis:"vertical",distribution:"start",wrapContent:!1}}),scroll:Rt.create("_scroll",{dimensions:{grow:1,shrink:1}}),cell:Rt.create("_cell",{containerLayout:{distribution:"space-around",gravity:"center"},position:{top:0}}),cell_flow:Rt.create("_cell_flow",{dimensions:{grow:0,shrink:0}}),cell_cover:Rt.create("_cell_cover",{position:{gravity:"overlay",top:0,bottom:0,left:0,right:0}}),form:Rt.create("_form",{dimensions:{grow:0}}),column:Rt.create("_column",{containerLayout:{axis:"vertical"},dimensions:{grow:0,shrink:0}}),row:Rt.create("_row",{containerLayout:{axis:"horizontal"},dimensions:{grow:0,shrink:0}}),row_opposite:Rt.create("_row_opposite",{containerLayout:{distribution:"end"}}),row_center:Rt.create("_row_center",{containerLayout:{distribution:"center"}}),control:Rt.create("_control",{position:{gravity:"baseline"},dimensions:{shrink:1,grow:0}})}}return t.getStyle=function(t,e){var n=this.current.styles[t];return e&&this.current.styles[e]&&(n=n.mixin(this.current.styles[e])),n},t.getTextColor=function(t){return this.isBrightColor(String(t))?"rgba(0,0,0,.8)":"rgba(255,255,255,.95)"},t.isBrightColor=function(t){var e=String(t);if("#"===e[0])return 4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),.3*parseInt(e.slice(1,3),16)+.6*parseInt(e.slice(3,5),16)+.1*parseInt(e.slice(5,7),16)>140;if("rgb("===e.slice(0,4)||"rgba("===e.slice(0,5)){var n=e.slice(4).split(",").map(parseFloat);return.3*n[0]+.6*n[1]+.1*n[2]>140}return"hsl("!==e.slice(0,4)||parseFloat(e.slice(4).split(",")[2])>55},t.mixColors=function(t,e,n){function r(t){var e=[0,0,0,1];return"#"===t[0]?(4===t.length&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e[0]=parseInt(t.slice(1,3),16),e[1]=parseInt(t.slice(3,5),16),e[2]=parseInt(t.slice(5,7),16)):"rgba("===t.slice(0,5)?t.slice(5).split(",").forEach((function(t,n){e[n]=parseFloat(t)})):"rgb("===t.slice(0,4)?t.slice(4).split(",").forEach((function(t,n){e[n]=parseFloat(t)})):"transparent"===t&&(e[3]=0),e}var o=1-n;function i(t,e){return t===e?t:isNaN(t)?e:isNaN(e)?t:Math.floor(o*t+n*e)}var a=r(String(t)),s=r(String(e)),c=i(a[0],s[0])+","+i(a[1],s[1])+","+i(a[2],s[2]),l=o*a[3]+n*s[3];return l>=1?"rgb("+c+")":"rgba("+c+","+l+")"},t.replaceColor=function(t){var e=this;if(t instanceof Pt)return String(t);var n=String(t);return n?n.replace(/\@(\w+)([.:]text)?((\^)?[\+\-]\d+\%)?([.:]text)?(\/\d+\%)?([.:]text)?/g,(function(t,n,r,o,i,a,s,c){var l=e.current.colors[n]||"rgba(1,2,3,0)";if(/\@\w/.test(l)&&(l=e.replaceColor(l)),r&&(l=e.getTextColor(l)),o){var u=parseFloat(i?o.slice(1):o)/100;i&&!e.isBrightColor(l)&&(u=-u),l=e.mixColors(l,u>0?"#fff":"#000",Math.abs(u))}if(a&&(l=e.getTextColor(l)),s){u=parseFloat(s.slice(1))/100;l=e.mixColors(l,"rgba(,,,0)",1-u)}return c&&(l=e.getTextColor(l)),l})):n},t.prototype.clone=function(){var e=new t;return e.modalDialogShadeOpacity=this.modalDialogShadeOpacity,e.spacing=this.spacing,e.ConfirmationDialogBuilder=this.ConfirmationDialogBuilder,e.MenuBuilder=this.MenuBuilder,e.colors=Object(o.__assign)({},this.colors),e.icons=Object(o.__assign)({},this.icons),e.styles=Object(o.__assign)({},this.styles),e},t.prototype.setStyle=function(t,e){return this.styles[t]&&(e=Object(o.__assign)(Object(o.__assign)({},this.styles[t].getStyles()),e)),this.styles[t]=Rt.create(t,e)},t}(),Tt=new Rt,Ut=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r)||this;return i.event=o,i}return Object(o.__extends)(e,t),e}(ut),Lt=function(t){function e(e){var n=t.call(this,"BeforeRender")||this;return n.source=e,n}return Object(o.__extends)(e,t),e}(c),Ft=function(t){function e(e,n){var r=t.call(this,"UIRender")||this;return r.source=e,r.renderCallback=n,r}return Object(o.__extends)(e,t),e}(c);!function(t){t[t.SELF=0]="SELF",t[t.FORWARD=1]="FORWARD",t[t.REVERSE=-1]="REVERSE"}(mt||(mt={}));var Dt,Bt,Nt=function(t){function e(e,n){void 0===n&&(n=mt.SELF);var r=t.call(this,"UIFocusRequest")||this;return r.source=e,r.direction=n,r}return Object(o.__extends)(e,t),e}(c),Vt=function(t){function e(){var e=t.call(this)||this;return e._style=Tt,e.propagateChildEvents(ut),e}return Object(o.__extends)(e,t),e.preset=function(e){for(var n,r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];e.requestFocus&&(delete e.requestFocus,e.onRendered=function(){this._requestedFocusBefore||(this._requestedFocusBefore=!0,this.requestFocus())}),"string"==typeof e.style?r=e.style:n=e.style;var s,c,l,u=e.dimensions,d=e.position;delete e.style,delete e.dimensions,delete e.position,at.isBinding(n)&&(this.presetBinding("style",n,(function(t){this.style=t?s.mixin(t):s})),n=void 0),at.isBinding(u)&&(this.presetBinding("dimensions",u,(function(t){this.dimensions=t?Object(o.__assign)(Object(o.__assign)({},c),t):c})),u=void 0),at.isBinding(d)&&(this.presetBinding("position",d,(function(t){this.position=t?Object(o.__assign)(Object(o.__assign)({},l),t):l})),d=void 0);var h=t.preset.apply(this,Object(o.__spread)([e],i));return function(){h.call(this);var t=n||r&&Mt.current.styles[r];t?this._style===Tt?this.style=t:this.style=this._style.mixin(t):s=this.style,u?this.dimensions=Object(o.__assign)(Object(o.__assign)({},this.dimensions),u):c=this.dimensions,d?this.position=Object(o.__assign)(Object(o.__assign)({},this.position),d):l=this.position}},e.prototype.propagateComponentEvent=function(t,e,n){this.managedState&&(!n&&e instanceof Ut&&(n=e.event),this.emit(Ut,t,this,e,n))},e.prototype.render=function(t){this._firstRendered||(this._firstRendered=!0,this.emit(Lt,this)),this.emit(Ft,this,t)},e.prototype.isFocusable=function(){return!1},e.prototype.isKeyboardFocusable=function(){return!1},e.prototype.requestFocus=function(){this.emit(Nt,this)},e.prototype.requestFocusNext=function(){this.emit(Nt,this,mt.FORWARD)},e.prototype.requestFocusPrevious=function(){this.emit(Nt,this,mt.REVERSE)},e.prototype.applyStyle=function(t){t&&(this.dimensions=t.getStyles().dimensions,this.position=t.getStyles().position)},Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){if(t!==this._style){if(!(t instanceof Rt))throw i(43);this.applyStyle(this._style=t)}},enumerable:!1,configurable:!0}),e}(pt);Dt=Vt||(Vt={}),Bt=function(){function t(){this._seq=0}return t.prototype.render=function(t,e){var n=this;if(this._seq++,!t&&this._renderCallback&&(this._renderCallback=this._renderCallback(void 0)),e&&e!==this._renderCallback&&(this._renderCallback&&this._renderCallback(void 0),this._renderCallback=e),t&&this._renderCallback){var r=this._seq,o=function(t,e){return r===n._seq&&(n._renderCallback=n._renderCallback(t,e),r=++n._seq),o};t.render(o)}},t.prototype.removeAsync=function(){var t=this;if(this._renderCallback)return new Promise((function(e){t._renderCallback=t._renderCallback(void 0,e),t._seq++}))},t}(),Dt.DynamicRendererWrapper=Bt;var zt,Wt=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.call(this)||this;return r.content=(new ot).restrict(pt).propagateEvents(ut),e.length&&r.content.replace(e),r}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i,a=e.layout;delete e.layout,at.isBinding(a)&&(this.presetBinding("layout",a,(function(t){this.layout=t?Object(o.__assign)(Object(o.__assign)({},i),t):i})),a=void 0);var s=t.preset.apply(this,Object(o.__spread)([e],n));return function(){var t;s.call(this),a?this.layout=Object(o.__assign)(Object(o.__assign)({},this.layout),a):i=this.layout,n.length&&(t=this.content).add.apply(t,Object(o.__spread)(n.filter((function(t){return!!t})).map((function(t){return new t}))))}},e.prototype.applyStyle=function(e){e&&(t.prototype.applyStyle.call(this,e),this.layout=e.getStyles().containerLayout)},e.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},e.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},Object(o.__decorate)([F],e.prototype,"content",void 0),e}(Vt);!function(t){t.right="right",t.left="left",t.up="up",t.down="down",t.fade="fade",t.rightFast="right-fast",t.leftFast="left-fast",t.upFast="up-fast",t.downFast="down-fast",t.fadeFast="fade-fast"}(zt||(zt={}));var Kt,Ht=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Object(o.__spread)(e))||this;return r.style=Mt.getStyle("container","cell"),r}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i,a=e.decoration;delete e.decoration,at.isBinding(a)&&(this.presetBinding("decoration",a,(function(t){this.decoration=t?Object(o.__assign)(Object(o.__assign)({},i),t):i})),a=void 0),e.allowKeyboardFocus&&(e.allowFocus=e.allowKeyboardFocus),e.selectOnFocus&&(e.allowFocus=!0,e.onFocusIn="+Select",delete e.selectOnFocus);var s=t.preset.apply(this,Object(o.__spread)([e],n));return function(){s.call(this),a&&(this.decoration=Object(o.__assign)(Object(o.__assign)({},this.decoration),a))}},e.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},e.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},e.prototype.applyStyle=function(e){e&&(t.prototype.applyStyle.call(this,e),this.decoration=e.getStyles().decoration)},e}(Wt),qt=Ht.with({style:"cell_flow"}),$t=Ht.with({style:"cell_cover"}),Gt=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Object(o.__spread)(e))||this;return r.spacing=Mt.current.spacing,r.style=Mt.getStyle("container","column"),r}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.preset.apply(this,Object(o.__spread)([e],n))},e.prototype.hasComponentSpacing=function(){return!!this.spacing},e}(Wt),Yt=Gt.with({spacing:0}),Xt=ct("renderContext");!function(t){t[t.NONE=0]="NONE",t[t.PAGE=1]="PAGE",t[t.DIALOG=2]="DIALOG",t[t.DRAWER=3]="DRAWER",t[t.DROPDOWN=4]="DROPDOWN",t[t.DROPDOWN_COVER=5]="DROPDOWN_COVER",t[t.POPOVER=6]="POPOVER",t[t.POPOVER_ABOVE=7]="POPOVER_ABOVE",t[t.POPOVER_LEFT=8]="POPOVER_LEFT",t[t.POPOVER_RIGHT=9]="POPOVER_RIGHT"}(Kt||(Kt={}));var Jt,Zt,Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype.emitRenderChange=function(){this.emitChange()},e.prototype.getAppComponents=function(){return this.getManagedReferrers().filter((function(t){return t instanceof Je}))},e}(M);Jt=Qt||(Qt={}),Zt=function(t,e,n,r){this.source=t,this.element=e,this.placement=n,this.placementRef=r},Jt.Output=Zt;var te=function(t){function e(e){var n=t.call(this)||this;return n._renderer=new Vt.DynamicRendererWrapper,n.propagateChildEvents(ut),n.content=e||(n._ContentClass?new n._ContentClass:void 0),n}return Object(o.__extends)(e,t),e.preset=function(e,n){return this.prototype._ContentClass=n,t.preset.call(this,e,n)},e.prototype.render=function(t){this._renderer.render(this.content,t)},Object(o.__decorate)([L],e.prototype,"renderContext",void 0),Object(o.__decorate)([F],e.prototype,"content",void 0),e}(pt.with({renderContext:Xt}));te.addObserver(function(){function t(t){this.component=t}return t.prototype.onContentChange=function(){this.component.render()},t}());var ee=Ht.with({style:"form",accessibleRole:"form"}),ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e.formContext;delete e.formContext;var a=ee.with.apply(ee,Object(o.__spread)([e],n));return this.presetBoundComponent("content",a).limitBindings("formContext"),t.preset.call(this,{formContext:i||ct("formContext")},a)},Object(o.__decorate)([L],e.prototype,"formContext",void 0),e}(te),re=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Object(o.__spread)(e))||this;return r.spacing=Mt.current.spacing,r.style=Mt.getStyle("container","row"),r}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.preset.apply(this,Object(o.__spread)([e],n))},e.prototype.hasComponentSpacing=function(){return!!this.spacing},e}(Wt),oe=re.with({style:"row_opposite"}),ie=re.with({style:"row_center"}),ae=re.with({spacing:0}),se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e}(Ut),ce=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Object(o.__spread)(e))||this;return r.topThreshold=0,r.bottomThreshold=0,r.leftThreshold=0,r.rightThreshold=0,r.verticalScrollEnabled=!0,r.horizontalScrollEnabled=!0,r.style=Mt.getStyle("container","scroll"),r}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.preset.apply(this,Object(o.__spread)([e],n))},e}(Wt);ce.addObserver(function(){function t(t){this.container=t,this._vertScrollState={up:!1,down:!1,slowing:0,high:0,velocity:0},this._horzScrollState={left:!1,right:!1,slowing:0,high:0,velocity:0}}return t.prototype.onScroll=function(t){if(this.container.horizontalSnap||this.container.verticalSnap){var e=this._vertScrollState,n=this._horzScrollState;if("ScrollEnd"===t.name)return e.up=e.down=!1,n.left=n.right=!1,e.high=0,void(n.high=0);t.scrolledUp&&e.up||t.scrolledDown&&e.down?t.verticalVelocity>=e.velocity?(e.slowing=0,t.verticalVelocity>e.high&&(e.high=t.verticalVelocity)):(e.slowing++,e.slowing>1&&t.verticalVelocity<.75*e.high&&(e.slowing=e.high=0,e.up&&"start"===this.container.verticalSnap&&this.container.propagateComponentEvent("ScrollSnapUp",t),e.down&&"end"===this.container.verticalSnap&&this.container.propagateComponentEvent("ScrollSnapDown",t))):(e.slowing=0,e.high=0),t.scrolledLeft&&n.left||t.scrolledRight&&n.right?t.horizontalVelocity>=n.velocity?(n.slowing=0,t.horizontalVelocity>n.high&&(n.high=t.horizontalVelocity)):(n.slowing++,n.slowing>1&&t.horizontalVelocity<.75*n.high&&(n.slowing=n.high=0,n.left&&"start"===this.container.horizontalSnap&&this.container.propagateComponentEvent("ScrollSnapLeft",t),n.right&&"end"===this.container.horizontalSnap&&this.container.propagateComponentEvent("ScrollSnapRight",t))):(n.slowing=0,n.high=0),e.up=!!t.scrolledUp,e.down=!!t.scrolledDown,e.velocity=t.verticalVelocity,n.left=!!t.scrolledLeft,n.right=!!t.scrolledRight,n.velocity=t.horizontalVelocity}},t}());var le,ue,de=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shrinkwrap=!0,e}return Object(o.__extends)(e,t),e.preset=function(e){var n,r,i=e.decoration,a=e.textStyle;delete e.decoration,delete e.textStyle,at.isBinding(i)&&(this.presetBinding("decoration",i,(function(t){this.decoration=t?Object(o.__assign)(Object(o.__assign)({},n),t):n})),i=void 0),at.isBinding(a)&&(this.presetBinding("textStyle",a,(function(t){this.textStyle=t?Object(o.__assign)(Object(o.__assign)({},r),t):r})),a=void 0);var s=t.preset.call(this,e);return function(){s.call(this),i?this.decoration=Object(o.__assign)(Object(o.__assign)({},this.decoration),i):n=this.decoration,a?this.textStyle=Object(o.__assign)(Object(o.__assign)({},this.textStyle),a):r=this.textStyle}},e.prototype.applyStyle=function(e){e&&(t.prototype.applyStyle.call(this,e),this.decoration=e.getStyles().decoration,this.textStyle=e.getStyles().textStyle)},e}(Vt),he=function(t){function e(e){var n=t.call(this)||this;return n.style=Mt.getStyle("control","button"),n.shrinkwrap=!0,void 0!==e&&(n.label=e),n}return Object(o.__extends)(e,t),e.preset=function(e){return"text"in e&&(e.label=e.text),e.navigateTo&&!e.accessibleRole&&(e.accessibleRole="link"),t.preset.call(this,e)},e.withLabel=function(t,e){return"string"==typeof t&&(t=tt(t)),this.with({label:t,onClick:e})},e.withIcon=function(t,e,n,r){return this.with({icon:t,iconSize:n,iconColor:r,onClick:e})},e.prototype.isFocusable=function(){return!0},e.prototype.isKeyboardFocusable=function(){return!this.disableKeyboardFocus},e}(de),pe=he.with({style:"button_primary"}),fe=he.with({style:"button_borderless"}),ve=he.with({style:"button_outline"}),ye=he.with({style:"button_link"}),me=he.with({style:"button_large"}),ge=he.with({style:"button_small"}),be=he.with({style:"button_icon"}),_e=function(t){function e(e){var n=t.call(this)||this;return n.style=Mt.getStyle("control","image"),n.shrinkwrap=!0,void 0!==e&&(n.url=e),n}return Object(o.__extends)(e,t),e.withUrl=function(t,e){return this.with({url:t,style:e})},e.preset=function(e){return e.allowKeyboardFocus&&(e.allowFocus=e.allowKeyboardFocus),t.preset.call(this,e)},e.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},e.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},e}(de),we=function(t){function e(e){var n=t.call(this)||this;return n.htmlFormat=!1,n.style=Mt.getStyle("control","label"),n.shrinkwrap=!0,void 0!==e&&(n.text=e),n}return Object(o.__extends)(e,t),e.withText=function(t,e){return"string"==typeof t&&(t=tt(t)),e instanceof Rt||"string"==typeof e?this.with({text:t,style:e}):e?this.with({text:t,textStyle:e}):this.with({text:t})},e.withIcon=function(t,e,n){return this.with({icon:t,iconSize:e,iconColor:n})},e.preset=function(e){return e.allowKeyboardFocus&&(e.allowFocus=e.allowKeyboardFocus),t.preset.call(this,e)},e.prototype.isFocusable=function(){return!(!this.allowFocus&&!this.allowKeyboardFocus)},e.prototype.isKeyboardFocusable=function(){return!!this.allowKeyboardFocus},e}(de),Ce=we.with({headingLevel:1,style:"heading1"}),Oe=we.with({headingLevel:2,style:"heading2"}),xe=we.with({headingLevel:3,style:"heading3"}),Se=we.with({style:"paragraph"}),je=we.with({style:"label_close"}),Ee=we.with({shrinkwrap:!1}),Ie=function(t){function e(){var e=t.call(this)||this;return e.thickness=1,e.color="@separator",e.style=Mt.getStyle("control","separator"),e}return Object(o.__extends)(e,t),e.preset=function(e){return t.preset.call(this,e)},e}(de),Re=function(t){function e(e,n,r){var i=t.call(this)||this;return i.style=Mt.getStyle("control","spacer"),i.shrinkwrap=!1,void 0===e&&void 0===n||(i.dimensions=Object(o.__assign)(Object(o.__assign)({},i.dimensions),{width:void 0!==e?e:i.dimensions.width,height:void 0!==n?n:i.dimensions.height,grow:0,shrink:r?1:0}),i.shrinkwrap=!0),i}return Object(o.__extends)(e,t),e.preset=function(e){void 0!==e.height&&((e.dimensions||(e.dimensions={})).minHeight=e.height,e.shrinkwrap=!0);void 0!==e.width&&((e.dimensions||(e.dimensions={})).minWidth=e.width,e.shrinkwrap=!0);return t.preset.call(this,e)},e.withHeight=function(t,e){return void 0===e&&(e=!0),this.with({dimensions:{minHeight:t},shrinkwrap:e})},e.withWidth=function(t,e){return void 0===e&&(e=!0),this.with({dimensions:{minWidth:t},shrinkwrap:e})},e}(de),Ae=ct("formContext"),ke=et.type("FORM_REQUIRED","%s is required"),Pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.errors=Object.create(null),e._values=Object.create(null),e._validations=Object.create(null),e}return Object(o.__extends)(e,t),e.create=function(t){var n=new e;return n._values=t,n},e.prototype.get=function(t){if(void 0!==t)return this._values[t]},e.prototype.has=function(t){return t in this._values},e.prototype.set=function(t,e,n,r){t&&("number"==typeof this._values[t]&&(e=+e),this._values[t]!==e?(this._values[t]=e,n&&this.validate(t),r||this.emitChange()):n&&this.validate(t))},e.prototype.unset=function(t){t&&t in this._values&&(delete this._values[t],delete this.errors[t],this.emitChange())},e.prototype.clear=function(){for(var t in this._values)delete this._values[t],delete this.errors[t];this.emitChange()},e.prototype.serialize=function(){var t=Object.create(null);for(var e in this._values)t[e]=this._values[e];return t},e.prototype.required=function(t,e){return this.test(t,(function(t){return t.required(e)})),this},e.prototype.test=function(t,e){return this._validations[t]=e,this},e.prototype.validate=function(t){var n=this._values[t];if(this._validations[t])try{var r=new e.ValidationTest(t,n);this._validations[t](r),this.errors[t]=void 0}catch(e){this.errors[t]=e}else this.errors[t]=void 0;return!this.errors[t]},e.prototype.validateAll=function(){for(var t in this._values)this.validate(t);return this},Object.defineProperty(e.prototype,"errorCount",{get:function(){var t=0;for(var e in this.errors)this.errors[e]&&t++;return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){for(var t in this.errors)if(this.errors[t])return!1;return!0},enumerable:!1,configurable:!0}),e}(pt);le=Pe||(Pe={}),ue=function(){function t(t,e){this.name=t,this.value=e}return t.prototype.required=function(t){if(0!==this.value&&!this.value)throw new ke(t||this.name);return this},t.prototype.typeOf=function(t){if(typeof this.value!==t)throw new TypeError;return this},t.prototype.assert=function(t,e){var n=et.type("FORM_TEST",e);if(!t)throw new n(this.value);return this},t}(),le.ValidationTest=ue;var Me=function(t){function e(){var e=t.call(this)||this;return e.type="text",e.style=Mt.getStyle("control","textfield"),e.shrinkwrap=!1,e}return Object(o.__extends)(e,t),e.preset=function(e){return"text"in e&&(e.placeholder=e.text),t.preset.call(this,e)},e.withName=function(t,e){return this.with({name:t,placeholder:e})},e.prototype.isFocusable=function(){return!0},e.prototype.isKeyboardFocusable=function(){return!0},e.UITextFieldObserver=function(){function t(t){this.component=t}return t.prototype.onFormContextChange=function(){if(this.component.formContext&&this.component.name){var t=this.component.formContext.get(this.component.name);this.component.value=void 0===t?"":String(t)}},t.prototype.onInput=function(){var t;null===(t=this.component.formContext)||void 0===t||t.set(this.component.name,this.component.value)},t.prototype.onChange=function(){var t;null===(t=this.component.formContext)||void 0===t||t.set(this.component.name,this.component.value,!0)},t}(),Object(o.__decorate)([L],e.prototype,"formContext",void 0),Object(o.__decorate)([_],e,"UITextFieldObserver",void 0),e}(de);Me.presetBinding("formContext",Ae);var Te=Me.with({style:"textfield_borderless"}),Ue=function(t){function e(){var e=t.call(this)||this;return e.style=Mt.getStyle("control","toggle"),e.shrinkwrap=!0,e}return Object(o.__extends)(e,t),e.preset=function(e){return"text"in e&&(e.label=e.text),t.preset.call(this,e)},e.withName=function(t,e){return this.with({name:t,label:e})},e.prototype.isFocusable=function(){return!0},e.prototype.isKeyboardFocusable=function(){return!0},e.UIToggleObserver=function(){function t(t){this.component=t}return t.prototype.onFormContextChange=function(){if(this.component.formContext&&this.component.name){var t=this.component.formContext.get(this.component.name);this.component.state=!!t}},t.prototype.onStateChange=function(){var t;null===(t=this.component.formContext)||void 0===t||t.set(this.component.name,this.component.state,!0)},t}(),Object(o.__decorate)([L],e.prototype,"formContext",void 0),Object(o.__decorate)([_],e,"UIToggleObserver",void 0),e}(de);Ue.presetBinding("formContext",Ae);var Le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.preset=function(e,n){return this.presetBindingsFrom(n),this.prototype._ConditionalContentClass=n,t.preset.call(this,e)},e.UIConditionalObserver=function(){function t(t){this.component=t}return t.prototype.onStateChange=function(){this.component._ConditionalContentClass&&!!this.component.content!=!!this.component.state&&(this.component.content=this.component.state?new this.component._ConditionalContentClass:void 0)},t}(),Object(o.__decorate)([_],e,"UIConditionalObserver",void 0),e}(te),Fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.preset=function(e,n){return n&&this.presetBoundComponent("content",n).limitBindings("formContext"),t.preset.call(this,e,n)},Object(o.__decorate)([L],e.prototype,"formContext",void 0),e}(te),De=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;if(!n.content)throw TypeError();return o.object=n.object,o.cell=n.content,o.value=n.value,o}return Object(o.__extends)(e,t),e}(ut),Be=function(t){function e(e){var n=t.call(this)||this;return n._selected=!1,n._hovered=!1,n.object=e,n.value=e.valueOf(),n.propagateChildEvents((function(t){if(t instanceof ut)return new De(t.name,n,t)})),n}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i={},a={};for(var s in e)("o"===s[0]&&"n"===s[1]&&(s.charCodeAt(2)<97||s.charCodeAt(2)>122)?a:i)[s]=e[s];i.accessibleRole||(i.accessibleRole="listitem");var c=Ht.with.apply(Ht,Object(o.__spread)([i],n)),l=this.presetBoundComponent("content",c);return l.limitBindings("object","value","selected","hovered"),t.preset.call(this,a,c)},e.prototype.propagateComponentEvent=function(t,e){this.managedState&&this.emit(De,t,this,e)},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hovered",{get:function(){return this._hovered},enumerable:!1,configurable:!0}),e.prototype.requestFocus=function(){this.content&&this.content.requestFocus()},e.prototype.requestFocusNext=function(){this.content&&this.content.requestFocusNext()},e.prototype.requestFocusPrevious=function(){this.content&&this.content.requestFocusPrevious()},e.UIListCellAdapterObserver=function(){function t(t){this.adapter=t}return t.prototype.onSelect=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._selected=!0)},t.prototype.onDeselect=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._selected=!1)},t.prototype.onMouseEnter=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._hovered=!0)},t.prototype.onMouseLeave=function(t){t.source!==this.adapter&&t.source!==this.adapter.content||(this.adapter._hovered=!1)},t}(),Object(o.__decorate)([L],e.prototype,"object",void 0),Object(o.__decorate)([w("_selected")],e.prototype,"selected",null),Object(o.__decorate)([w("_hovered")],e.prototype,"hovered",null),Object(o.__decorate)([_],e,"UIListCellAdapterObserver",void 0),e}(te),Ne=Yt.with({accessibleRole:"list"}),Ve=Promise.resolve(),ze=function(t){function e(n){var r=t.call(this,n)||this;return r.items=new ot,r.firstIndex=0,r.lastFocusedIndex=0,r._updateQueued=!1,r._contentMap=new T,r.propagateChildEvents((function(t){if(t instanceof ut)if("FocusIn"===t.name)if(t.source!==r.content){var n=r.getIndexOfComponent(t.source);r.lastFocusedIndex=Math.max(0,n)}else r.restoreFocus();else if("ArrowUpKeyPress"===t.name){if(r.focusPreviousItem())return;(o=r.getParentComponent(e))&&o.enableArrowKeyFocus&&o.restoreFocus()}else{if("ArrowDownKeyPress"!==t.name)return t;if(r.focusNextItem())return;var o;if((o=r.getParentComponent(e))&&o.enableArrowKeyFocus)return t}})),r}return Object(o.__extends)(e,t),e.preset=function(e,n,r){return void 0===r&&(r=Ne),this.presetBindingsFrom(n),this.addObserver(function(){function t(t){this.controller=t,this.Adapter=n,!this.Adapter||this.Adapter.prototype instanceof M||(this.Adapter=this.Adapter(this))}return t.prototype.onFocusIn=function(t){if(t.source!==this.controller.content){var e=this.controller.getIndexOfComponent(t.source);this.controller.lastFocusedIndex=Math.max(0,e)}else this.controller.restoreFocus()},t.prototype.onFirstIndexChangeAsync=function(){return this.controller._doUpdateAsync(this.Adapter)},t.prototype.onMaxItemsChangeAsync=function(){return this.controller._doUpdateAsync(this.Adapter)},t.prototype.onItemsChange=function(t,e){(!e||e instanceof p)&&this.controller._doUpdateAsync(this.Adapter)},t}()),t.preset.call(this,e,r)},e.prototype.getIndexOfComponent=function(t){var e=this.content;if(!e)return-1;for(;t&&t.getParentComponent()!==e;)t=t.getParentComponent();return t?e.content.indexOf(t):-1},e.prototype.restoreFocus=function(){var t=this.content;if(t&&t.content.count>0){var e=Math.max(this.lastFocusedIndex,0),n=Math.min(t.content.count-1,e),r=t.content.get(n);"function"==typeof r.requestFocus&&r.requestFocus()}},e.prototype.focusPreviousItem=function(){return this.lastFocusedIndex>0&&(this.lastFocusedIndex--,this.restoreFocus(),!0)},e.prototype.focusNextItem=function(){return this.lastFocusedIndex<this.items.count-1&&(this.lastFocusedIndex++,this.restoreFocus(),!0)},e.prototype._doUpdateAsync=function(t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,a,s,c,l,u,d,h,p,f,v,y,m;return Object(o.__generator)(this,(function(g){switch(g.label){case 0:return this._updateQueued?[2]:(this._updateQueued=!0,[4,Ve]);case 1:if(g.sent(),this._updateQueued=!1,e=this.content,n=e&&e.content,r=this.items,!n)return[2];if(!r||!t)return n.clear(),[2];(i=this.firstIndex)>=0||(i=0),a=this.maxItems,s=i>0||a>=0?r.count>0&&i<r.count?r.take(a>=0?a:r.count,r.get(this.firstIndex)):[]:r,c=this._contentMap,l=[],u=c.toObject();try{for(d=Object(o.__values)(s),h=d.next();!h.done;h=d.next())p=h.value,(f=u[p.managedId])?delete u[p.managedId]:(f=new t(p),c.set(String(p.managedId),f)),l.push(f)}catch(t){y={error:t}}finally{try{h&&!h.done&&(m=d.return)&&m.call(d)}finally{if(y)throw y.error}}for(v in n.replace(l),u)c.remove(u[v]);return this.enableArrowKeyFocus&&(e.allowKeyboardFocus=!!l.length),this.propagateComponentEvent("ListItemsChange"),[2]}}))}))},Object(o.__decorate)([L],e.prototype,"items",void 0),e}(te),We=function(t){function e(){var e=t.call(this)||this;return e.placement=Kt.DIALOG,e.propagateChildEvents((function(t){if(t instanceof ut)return"ShowModal"===t.name?void e.showModal():"CloseModal"===t.name?void e.closeModal():t})),e}return Object(o.__extends)(e,t),e.preset=function(e,n,r){var o=r||e.modal;if(delete e.modal,at.isBinding(o))throw i(45);return n&&this.presetBoundComponent("content",n).limitBindings(),o&&(this.presetBoundComponent("modal",o).limitBindings(),this.prototype._ModalClass=o),t.preset.call(this,e,n)},e.prototype.showModal=function(){this._ModalClass&&(this.modal=new this._ModalClass)},e.prototype.closeModal=function(){this.modal=void 0},Object(o.__decorate)([F],e.prototype,"modal",void 0),e}(te);We.addObserver(function(){function t(t){this.controller=t}return t.prototype.onModalChange=function(){var t=this;if(this._renderCallback&&(this._renderCallback=this._renderCallback(void 0)),this.controller.modal){var e=this._getReferenceComponent(),n=this.controller.getBoundParentComponent(Qe);if(e&&n&&n.renderContext){this._renderCallback=n.renderContext.getRenderCallback();var r=function(e,n){return t._renderCallback?(e&&e.element?(void 0===e.modalShadeOpacity&&(e.modalShadeOpacity=t.controller.modalShadeOpacity),e.placement||(e.placement=t.controller.placement,e.placementRef=t._getReferenceComponent()),t._renderCallback=t._renderCallback(e,n)):(t._renderCallback=t._renderCallback(void 0),t.controller.modal=void 0),r):r};this.controller.modal.render(r)}}},t.prototype._getReferenceComponent=function(){for(var t=this.controller;t;){if(t instanceof Vt)return t;t instanceof te&&(t=t.content)}},t}());var Ke=function(t){function e(e){var n=t.call(this,e)||this;return n.propagateChildEvents((function(t){if(t instanceof ut){for(var e=t;e.inner instanceof ut&&"Select"===e.inner.name;)e=e.inner;if("Select"===e.name&&e.source!==n.selected){var r=n.selected;n.selected=e.source,r&&r.propagateComponentEvent("Deselect")}else"Deselect"===e.name&&e.source===n.selected&&(n.selected=void 0);return t}})),n}return Object(o.__extends)(e,t),Object(o.__decorate)([L],e.prototype,"selected",void 0),e}(te),He=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.preset=function(e,n){return t.preset.call(this,e,n)},e}(te);He.addObserver(function(){function t(t){this.controller=t}return t.prototype.onContentChange=function(){this.controller.content instanceof Vt&&(this.controller.baseStyle=this.controller.content.style,this.onStateChange())},t.prototype.onStateChange=function(){var t;if(this.controller.baseStyle&&this.controller.content instanceof Vt){var e=this.controller.baseStyle,n=null===(t=this.controller.styles)||void 0===t?void 0:t[String(this.controller.state)];!n&&this.controller.state&&(n=this.controller.style),"string"==typeof n&&(n=Mt.getStyle(n)),this.controller.content.style=n instanceof Rt?e.mixin(n):e}},t}());var qe=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.key=r,o}return Object(o.__extends)(e,t),e}(Ut),$e=function(t){function e(){var e=t.call(this)||this;if(e.options=[],!Mt.current.MenuBuilder)throw i(44);return e.builder=new Mt.current.MenuBuilder,e.propagateChildEvents((function(t){if(t instanceof ut)return t instanceof qe&&(e.selected=t.key),t})),e}return Object(o.__extends)(e,t),e.preset=function(e){return t.preset.call(this,e)},e.prototype.render=function(t){var e,n;if(this.options.length){this.builder.clear();try{for(var r=Object(o.__values)(this.options),i=r.next();!i.done;i=r.next()){var a=i.value;this.builder.addOption(a.key,String(a.text))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}this.gravity&&this.builder.setGravity(this.gravity),this.propagateComponentEvent("Build");var s=this.builder.build();(this.menu=new s).render(t)},Object(o.__decorate)([F],e.prototype,"menu",void 0),e}(pt),Ge=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e._renderer=new Vt.DynamicRendererWrapper,e}return Object(o.__extends)(e,t),e.preset=function(e){return t.preset.call(this,e)},e.withBoundContent=function(t){return void 0===t&&(t="content"),this.with({view:ct(t)})},e.prototype.render=function(t){(t||this.view!==this._lastRendered)&&(this._lastRendered=this.view,this._renderer.render(this.view,t))},Object(o.__decorate)([L],e.prototype,"managedList",void 0),Object(o.__decorate)([L],e.prototype,"managedMap",void 0),Object(o.__decorate)([L],e.prototype,"view",void 0),e}(pt),Ye=function(){function t(t){this.component=t}return t.prototype.onViewChange=function(){this.component.render()},t.prototype.updateView=function(){if(this.component.index>=0&&this.component.managedList&&this.component.index<this.component.managedList.count){var t=this.component.index;this.component.view=this.component.managedList.get(t)}else"string"==typeof this.component.index&&this.component.managedMap&&this.component.managedMap.has(this.component.index)?this.component.view=this.component.managedMap.get(this.component.index):this.component.view=void 0},Object(o.__decorate)([C("managedList","managedMap","index")],t.prototype,"updateView",null),t}();Ge.addObserver(Ye);var Xe=ct("activationContext"),Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),Object(o.__decorate)([L],e.prototype,"renderContext",void 0),Object(o.__decorate)([L],e.prototype,"activationContext",void 0),e}(pt.with({renderContext:Xt,activationContext:Xe})),Ze=function(t){function e(){var e=t.call(this)||this;return e.$list=(new ot).restrict(tn),e.propagateChildEvents(),e.$list.propagateEvents((function(t){if(t===l.ACTIVE||t===l.INACTIVE)return h})),e}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.preset.apply(this,Object(o.__spread)([e],n)),function(){this.add.apply(this,Object(o.__spread)(n.map((function(t){return new t}))))}},Object.defineProperty(e.prototype,"count",{get:function(){return this.$list.count},enumerable:!1,configurable:!0}),e.prototype.add=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.$list).add.apply(t,Object(o.__spread)(e)),this},e.prototype.remove=function(t){return this.$list.remove(t),this},e.prototype.clear=function(){return this.$list.clear(),this},e.prototype.get=function(t){return this.$list.get(t)},e.prototype.includes=function(t){return this.$list.includes(t)},e.prototype.toArray=function(){return this.$list.toArray()},Object(o.__decorate)([F],e.prototype,"$list",void 0),e}(pt),Qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Application",e}var n;return Object(o.__extends)(e,t),e.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.with.apply(this,Object(o.__spread)(t));return(new n).activate()},e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(n.length){var i=Ze.with.apply(Ze,Object(o.__spread)(n));this.presetBoundComponent("activities",i,tn),this.addEventHandler((function(t){t===l.ACTIVE&&(this.activities=new i),t===l.INACTIVE&&(this.activities=void 0)}))}return t.preset.call(this,e)},e.prototype.activate=function(){return this.activateAsync().catch(K),this},e.prototype.activateAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.activateManagedAsync()];case 1:return t.sent(),[2]}}))}))},e.prototype.deactivateAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.deactivateManagedAsync()];case 1:return t.sent(),[2]}}))}))},e.prototype.destroyAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.destroyManagedAsync()];case 1:return t.sent(),[2]}}))}))},e.prototype.navigate=function(t){return this.activationContext&&this.activationContext.navigate(t),this},e.prototype.goBack=function(){return this.activationContext&&this.activationContext.navigate(":back"),this},e.prototype.add=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this.activities||(this.activities=new Ze),(t=this.activities).add.apply(t,Object(o.__spread)(n.filter((function(t){return!e.activities.includes(t)})))),this},e.prototype.showViewActivityAsync=function(t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return this.add(t),[4,t.activateAsync()];case 1:return e.sent(),[2,t]}}))}))},e.prototype.findService=function(t){return V.find(t)},e.active=(n=new ot,e.addObserver(function(){function t(t){this.instance=t}return t.prototype.onActive=function(){n.includes(this.instance)||n.add(this.instance)},t.prototype.onInactive=function(){n.remove(this.instance)},t}()),n),Object(o.__decorate)([F],e.prototype,"activities",void 0),Object(o.__decorate)([F],e.prototype,"renderContext",void 0),Object(o.__decorate)([F],e.prototype,"activationContext",void 0),e}(pt),tn=function(t){function e(e,n){var r=t.call(this)||this;return r.name=e,r.path=n,r}return Object(o.__extends)(e,t),e.preset=function(e){return t.preset.call(this,e)},Object.defineProperty(e.prototype,"match",{get:function(){return this._matchedPath},enumerable:!1,configurable:!0}),e.prototype.getParentActivity=function(){return this.getManagedParent(e)},e.prototype.getApplication=function(){return this.getManagedParent(Qe)},e.prototype.activateAsync=function(t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return this._matchedPath=Object.freeze(t||{path:""}),[4,this.activateManagedAsync()];case 1:return e.sent(),[2]}}))}))},e.prototype.destroyAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.destroyManagedAsync()];case 1:return t.sent(),[2]}}))}))},e.prototype.isActive=function(){return this.managedState===E.ACTIVE},e.ActivityObserver=function(){function t(t){this.activity=t}return t.prototype.onActive=function(){this.activity.activated=Date.now()},t.prototype.onInactive=function(){this.activity.deactivated=Date.now()},t.prototype.onPathChangeAsync=function(){return this.checkActivateAsync()},t.prototype.onActivationContextChangeAsync=function(){return this.checkActivateAsync()},t.prototype.checkActivateAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return"string"!=typeof this.activity.path?[3,4]:(t=void 0,this.activity.activationContext&&(t=this.activity.activationContext.match(this.activity.path,this.activity))?[4,this.activity.activateAsync(t)]:[3,2]);case 1:return e.sent(),[3,4];case 2:return this.activity.managedState!==E.ACTIVATING&&this.activity.managedState!==E.ACTIVE?[3,4]:[4,this.activity.deactivateManagedAsync()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},t}(),Object(o.__decorate)([w("_matchedPath")],e.prototype,"match",null),Object(o.__decorate)([_],e,"ActivityObserver",void 0),e}(Je),en=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target="",e._split=[],e}return Object(o.__extends)(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){var e=String(t||"").replace(/^\/|\/\s*$/g,"");this._target!==e&&(this._target=e,this._split=e?e.split("/"):[],this.emitChange())},enumerable:!1,configurable:!0}),e.prototype.navigate=function(t){},e.prototype.match=function(t,e){for(t=String(t||"");e&&"."===t[0]&&"/"===t[1];)(e=e.getParentActivity())instanceof tn&&"string"==typeof e.path&&(t=e.path.replace(/\/$/,"")+t.slice(1));var n=!1;"/"===t.slice(-1)&&(t=t.slice(0,-1),n=!0),"/"===t[0]&&(t=t.slice(1));for(var r=t?t.split("/"):[],o={path:this._target},a=0;a<this._split.length;){if(a>=r.length)return n?o:void 0;if("*"===r[a][0]){if(r.length>a+1)throw i(0,t);return o[r[a].slice(1)]=this._split.slice(a).join("/"),o}if(":"===r[a][0]&&this._split[a])o[r[a].slice(1)]=this._split[a];else if(r[a]!==this._split[a])return;a++}return a===r.length?o:void 0},e}(M),nn=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.placement=Kt.NONE,r._renderer=new Vt.DynamicRendererWrapper,r.propagateChildEvents((function(t){t instanceof Ut&&"FocusIn"===t.name&&(r.firstFocused||(r.firstFocused=t.source),r.lastFocused=t.source)})),r}return Object(o.__extends)(e,t),e.preset=function(e,n){var r=this,o=function(t){if(r.presetBoundComponent("view",t,tn),r.prototype._allActive){if(r.prototype._ViewClass)for(var e in r.prototype._allActive){var n=r.prototype._allActive[e];n.isActive()&&(n.view=new t)}}else r.prototype._allActive=Object.create(null);r.prototype._ViewClass=t,Object.prototype.hasOwnProperty.call(t,"preset")||(t["@updateActivity"]=o)};return n&&o(n),t.preset.call(this,e)},e.prototype.render=function(t){var e=this;if(this._cbContext!==this.renderContext&&(this._renderCallback=void 0,this._cbContext=this.renderContext),t&&t!==this._renderCallback&&(this._renderCallback&&this._renderCallback(void 0),this._renderCallback=t),!this._renderCallback){if(!this.placement)return;if(!this.renderContext)throw i(1);var n=this.placement,r=this.renderContext.getRenderCallback(),o=function(t,i){return t&&(t.placement=n,t.modalShadeOpacity=e.modalShadeOpacity),r=r(t,i),o};this._renderCallback=o}this._renderer.render(this.view,this._renderCallback)},e.prototype.removeViewAsync=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._renderer.removeAsync()];case 1:return t.sent(),[2]}}))}))},e.prototype.restoreFocus=function(t){t?this.firstFocused&&this.firstFocused.requestFocus():this.lastFocused&&this.lastFocused.requestFocus()},e.prototype.showDialogAsync=function(t,e){var n=this.getApplication();if(!n)throw i(2);var r=new(function(t){function n(){var n=t.call(this)||this;return e&&n.propagateChildEvents(e),n}return Object(o.__extends)(n,t),n}(on.with(t)));return n.showViewActivityAsync(r)},e.prototype.showConfirmationDialogAsync=function(t,e,n,r){var o=this,a=Mt.current.ConfirmationDialogBuilder;if(!a)throw i(3);var s=new a;Array.isArray(t)?t.forEach((function(t){return s.addMessage(t)})):s.addMessage(t),e&&s.setTitle(e),n&&s.setConfirmButtonLabel(n),r&&s.setCancelButtonLabel(r);var c=s.build();return new Promise((function(t){o.showDialogAsync(c,(function(e){"Confirm"===e.name&&(t(!0),this.destroyAsync()),"CloseModal"===e.name&&r&&(t(!1),this.destroyAsync())}))}))},e.ViewActivityObserver=function(){function t(t){this.activity=t}return t.prototype.onActive=function(){this.activity._allActive&&(this.activity._allActive[this.activity.managedId]=this.activity),this.activity._ViewClass&&(this.activity.view=new this.activity._ViewClass)},t.prototype.onInactive=function(){this.activity._allActive&&delete this.activity._allActive[this.activity.managedId],this.activity.view=void 0},t.prototype.onRenderContextChange=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return this.activity.isActive()&&this.activity._ViewClass?(this.activity.view=void 0,this.activity.renderContext?[4,Promise.resolve()]:[3,2]):[3,2];case 1:e.sent(),setTimeout((function(){!t.activity.view&&t.activity.renderContext&&t.activity.isActive()&&t.activity._ViewClass&&(t.activity.view=new t.activity._ViewClass)}),1),e.label=2;case 2:return[2]}}))}))},t.prototype.onViewChangeAsync=function(){this.checkAndRender()},t.prototype.checkAndRender=function(){this.activity.renderContext&&this.activity.view?this.activity.render():this.activity.removeViewAsync().catch(K)},t}(),Object(o.__decorate)([F],e.prototype,"view",void 0),Object(o.__decorate)([L],e.prototype,"firstFocused",void 0),Object(o.__decorate)([L],e.prototype,"lastFocused",void 0),Object(o.__decorate)([_],e,"ViewActivityObserver",void 0),e}(tn),rn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.placement=Kt.PAGE,e}return Object(o.__extends)(e,t),e}(nn),on=function(t){function e(){var e=t.call(this)||this;return e.placement=Kt.DIALOG,e.modalShadeOpacity=Mt.current.modalDialogShadeOpacity,e.propagateChildEvents((function(t){"CloseModal"===t.name&&e.destroyAsync()})),e}return Object(o.__extends)(e,t),e}(nn),an=function(t){function e(){var e=t.call(this)||this;if(e._renderer=new Vt.DynamicRendererWrapper,e.propagateChildEvents(ut),e._Views)for(var n in e._Views)e[n]=new e._Views[n];return e}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(n.length>1)throw i(4);return n[0]&&this.presetChildView("view",n[0],!0),t.preset.call(this,e)},e.with=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t||"function"==typeof t||!t.view)return pt.with.apply(this,arguments);var r=t;r.content||(r.content=["content"]);var i=r.defaults,a=function(t){function e(e){var n=t.call(this)||this;r.event&&n.propagateChildEvents(r.event);var o=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e];if(r instanceof at)throw TypeError();n[e]=r}};return i&&o(i),e&&o(e),n}return Object(o.__extends)(e,t),e.preset=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var i=0;i<n.length;i++){var a=r.content[i];a&&n[i]&&(F(this.prototype,a),this.presetChildView(a,n[i]))}return t.preset.call(this,e)},e.prototype.isPresetComponent=function(){return!0},e.with=pt.with,e}(this);if("function"==typeof i){var s=i;i=void 0,a._addInitializer((function(){i=s()}))}return a.presetChildView("view",r.view,!0),a},e.presetChildView=function(t,e,n){void 0===n&&(n=[]);var r=this.presetBoundComponent(t,e,nn);!0!==n&&r.limitBindings.apply(r,Object(o.__spread)(n)),Object.prototype.hasOwnProperty.call(this.prototype,"_Views")||(this.prototype._Views=Object.create(this.prototype._Views||null)),this.prototype._Views[t]=e},e.prototype.render=function(t){if(!this.renderContext)throw i(5);this.beforeRender(),this._renderer.render(this.view,t)},e.prototype.beforeRender=function(){},e.prototype.removeViewAsync=function(t){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(e){switch(e.label){case 0:return t&&this.managedState===E.ACTIVE?[4,this.deactivateManagedAsync()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[4,this._renderer.removeAsync()];case 3:return e.sent(),[2]}}))}))},e.prototype.requestFocus=function(){"function"==typeof(this.view&&this.view.requestFocus)&&this.view.requestFocus()},Object(o.__decorate)([F],e.prototype,"view",void 0),e}(Je);an.addObserver(function(){function t(t){this.component=t}return t.prototype.onRenderContextChange=function(t){t?this.component.render():this.component.removeViewAsync(!0).catch(K)},t}());var sn,cn={cell:Ht,covercell:$t,flowcell:qt,form:ne,row:re,closerow:ae,centerrow:ie,oppositerow:oe,column:Gt,closecolumn:Yt,scrollcontainer:ce,button:he,iconbutton:be,largebutton:me,smallbutton:ge,linkbutton:ye,outlinebutton:ve,borderlessbutton:fe,primarybutton:pe,label:we,closelabel:je,expandedlabel:Ee,p:Se,h1:Ce,h2:Oe,h3:xe,textfield:Me,borderlesstextfield:Te,img:_e,toggle:Ue,separator:Ie,spacer:Re,conditional:Le,formcontext:Fe,list:ze,listcell:Be,menu:$e,modal:We,selection:Ke,style:He,view:Ge,viewcontent:Ge.withBoundContent()};function ln(t,e){for(var n,r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];a=un(a);var c,l,u="",d=[];try{for(var h=Object(o.__values)(a),p=h.next();!p.done;p=h.next()){var f=p.value;"string"==typeof f?(u+=f,c=!0):f instanceof at?(l||(l=[]),l.push(f),u+="%s"):d.push(f)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var v=e?Object(o.__assign)({},e):{};if(u&&(l?c||1!==l.length?v.text=new(st.bind.apply(st,Object(o.__spread)([void 0,u],l))):v.text=l[0]:v.text=tt(u)),"string"==typeof t){var y=ln.intrinsicTags[t];if(!y)throw Error("[JSX] Invalid tag: "+t);return y.with.apply(y,Object(o.__spread)([v],d))}return t.prototype instanceof pt?(i=t).with.apply(i,Object(o.__spread)([v],d)):t.apply(void 0,Object(o.__spread)([v],d))}function un(t){var e=[];return t.forEach((function(t){Array.isArray(t)?e.push.apply(e,Object(o.__spread)(un(t))):e.push(t)})),e}
/*! *******************************************************
Typescene framework -- https://typescene.dev
See LICENSE and README files for usage details
******************************************************** */(sn=ln||(ln={})).intrinsicTags=cn,sn.tag=function(t){function e(){return this instanceof e?new t:t.with.apply(t,arguments)}return e.prototype=t.prototype,e.with=e,e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(3),a=n(5),s=document.createElement("div");s.id="docwidget_layer",s.style.position="fixed",s.style.zIndex="1000000";var c=new a.default;c.register(),c.loadAsync().catch((function(t){console.error(t)})),new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.onManagedStateActiveAsync=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.onManagedStateActiveAsync.call(this)];case 1:return n.sent(),document.body.appendChild(s),e=this.activities.get(0),window.showDocWidget=function(){e.activateAsync()},window.addEventListener("keydown",(function(t){"/"===t.key&&(e.activateAsync(),t.preventDefault())})),[2]}}))}))},e}(o.BrowserApplication.with(i.default)))(s).activateAsync()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(4),a=function(t){function e(){var e=t.call(this)||this;return e.placement=o.UIRenderPlacement.DIALOG,e.filtered=new o.ManagedList,e.propagateChildEvents((function(t){"CloseModal"===t.name&&e.deactivateManagedAsync()})),e}return r.__extends(e,t),e.prototype.updateFiltered=function(){var t=this,e=this.search.find(this.filter||"");this.filtered.replace(e.map((function(e){var n,i;try{for(var a=r.__values(t.filtered),s=a.next();!s.done;s=a.next()){var c=s.value;if(c.id===e.id&&c.type===e.type)return c}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o.ManagedRecord.create(e)})))},e.prototype.setSearchFilter=function(t){this.filter=t.source.value||""},e.prototype.focusFirst=function(t){var e=t.source.getParentComponent(),n=e&&e.getParentComponent();n instanceof o.UIComponent&&n.requestFocusNext()},e.prototype.navigateFirst=function(){var t=this.filtered.first();t&&(this.deactivateManagedAsync(),document.location.href="/docs/ref/"+t.path)},e.prototype.navigateResult=function(t){t.object&&t.object.path&&(this.deactivateManagedAsync(),document.location.href="/docs/ref/"+t.object.path)},e.prototype.goToIndex=function(){this.deactivateManagedAsync(),document.location.href="/docs"},e.prototype.ignoreArrowPress=function(t){t.event&&t.event.preventDefault()},r.__decorate([o.managedChild],e.prototype,"filtered",void 0),r.__decorate([o.service("App.Search")],e.prototype,"search",void 0),e}(o.DialogViewActivity.with(i.default));e.default=a;var s=function(){function t(t){this.activity=t}return t.prototype.onFilterChangeAsync=function(){this.activity.updateFiltered()},r.__decorate([o.rateLimit(80)],t.prototype,"onFilterChangeAsync",null),t}();a.addObserver(s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.default=r.UIFlowCell.with({dimensions:{width:"100%",maxWidth:384},css:{className:"docwidget_cell"},background:"@background",borderColor:"@primary",borderThickness:{top:4},borderRadius:4,dropShadow:.5,onArrowDownKeyPress:"ignoreArrowPress()",onArrowUpKeyPress:"ignoreArrowPress()"},r.UICell.with({padding:{x:16,y:8}},r.UIRow.with(r.UIImage.with({url:"/assets/icons/search.svg",dimensions:{height:16,width:16}}),r.UIBorderlessTextField.with({placeholder:r.bind("search.loaded|then:API search term...|or:Loading..."),onInput:"setSearchFilter()",onEnterKeyPress:"navigateFirst()",onArrowDownKeyPress:"focusFirst()",textStyle:{lineHeight:2},requestFocus:!0}))),r.UICell.with({hidden:r.bind("!search.error"),padding:{x:16,y:8}},r.UIRow.with(r.UILabel.withText("An error occurred, please reload",{color:"@text/50%"}))),r.UISelectionController.with(r.UIListController.with({items:r.bind("filtered"),enableArrowKeyFocus:!0,onNavigateResult:"navigateResult()"},r.UIListCellAdapter.with({padding:{x:16},allowKeyboardFocus:!0,selectOnFocus:!0,highlight:{selectedBackground:"@background^-10%",selectedTextColor:"@text",focusedSelectedBackground:"@primary",focusedSelectedTextColor:"@primary.text"},onMouseEnter:"+Select",onClick:"+NavigateResult",onEnterKeyPress:"+NavigateResult"},r.UIRow.with(r.UIImage.with({dimensions:{width:16,height:16},url:r.bindf("/assets/icons/spec-${object.type|or:var}.svg"),controlStyle:{css:{opacity:".5"}}}),r.UIExpandedLabel.with({text:r.bind("object.id"),controlStyle:{css:{cursor:"pointer"}}}))))),r.UISeparator,r.UIRow.with(r.UILinkButton.with({label:"Documentation index",shrinkwrap:!1,textStyle:{lineHeight:1.8},onClick:"goToIndex()"})))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(6),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="App.Search",e._tokens={},e._search=new i.SearchState(e),e}return r.__extends(e,t),e.prototype.loadAsync=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,o,i,a,s,c,l,u,d,h=this;return r.__generator(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),[4,fetch("/assets/ref.json")];case 1:return t=p.sent(),(n=t.ok)?[4,t.json()]:[3,3];case 2:n=p.sent(),p.label=3;case 3:if(!(e=n))throw Error("Cannot load search data");o=this._decompress(e.content).split("+").map((function(t){return t.split("|")})),i=function(t){var e={id:t[0].replace(/\.$/,""),type:t[1],path:t[2]};e.id.split(/\W|(?=[A-Z][a-z])/).filter((function(t){return!!t})).map((function(t){return"#"+t.toLowerCase()})).forEach((function(t){(h._tokens[t]||(h._tokens[t]=[])).push(e)}))};try{for(a=r.__values(o),s=a.next();!s.done;s=a.next())c=s.value,i(c)}catch(t){u={error:t}}finally{try{s&&!s.done&&(d=a.return)&&d.call(a)}finally{if(u)throw u.error}}return this.loaded=!0,this.emitChange(),[3,5];case 4:return l=p.sent(),console.log(l),this.loaded=!0,this.error=String(l),this.emitChange(),[3,5];case 5:return[2]}}))}))},e.prototype.find=function(t,e){return t=t.replace(/[A-Z][a-z]|[A-Z]\W|[A-Z]$/g,(function(t){return" "+t})).trim().toLowerCase(),this._search.search(t),this._search.getResults(e)},e.prototype.forEachToken=function(t){for(var e in this._tokens)t(e.slice(1),this._tokens[e])},e.prototype._decompress=function(t){var e=[];return t.replace(/\=/g,"|1+").replace(/\!/g,"|2#0:2+").replace(/\?/g,"|2#0:2+1").replace(/\*/g,"|3#0:3:3+2.2").replace(/(\d+)|\w+/g,(function(t,n){return n&&(t=e.splice(n,1)[0]),e.unshift(t),t}))},e}(o.ManagedService);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchState=void 0;var r=n(0),o=function(){function t(t,e){this.service=t,this.candidates=e,this._results={},this._follow={}}return t.prototype.search=function(e){var n=this;e=e.replace(/^[\s\.]+/,"").replace(/[\s\.]+$/,""),this._lastInput=e;var o=this._results,i=this._follow;this._results={},this._follow={};var a=Math.max(e.indexOf(" "),e.indexOf(".")),s=a>=0?e.slice(0,a):e;if(!s.length)return this;var c="$",l=[];return this.service.forEachToken((function(u,d){var h="#"+u;s.length<=u.length?0===u.indexOf(s)&&(a<0?n._results[h]=o[h]||n._merge(d):(c+=u,l.push.apply(l,r.__spread(d)))):s.startsWith(u)&&(n._follow[h]=(i[h]||new t(n.service,n._merge(d))).search(e.slice(u.length)))})),a>=0&&(this._follow[c]=(i[c]||new t(this.service,this._merge(l))).search(e.slice(a))),this},t.prototype.getResults=function(t){var e,n;void 0===t&&(t=12);var o=[];if(!this._lastInput)return o;var i={},a=this._lastInput.replace(/\s/g,"");try{for(var s=r.__values(this._getAllResults()),c=s.next();!c.done;c=s.next()){var l=c.value;if(!(l.id in i)){var u=l.id.toLowerCase().indexOf(a),d="class"===l.type||"interface"===l.type?120:100;if(u&&(d-=l.id.length),u>=0){d+=400,u&&(d-="."!==l.id[u-1]?100:50);var h=l.id.length-(u+a.length);h&&(d-=Math.min(100,10*h))}else l.id.indexOf(".",u+a.length)>0&&(d-=20);i[l.id]=d,o.push(l)}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o.sort((function(t,e){var n=i[e.id]-i[t.id];return n||(t.id>e.id?1:-1)})),o.slice(0,t)},t.prototype._getAllResults=function(){var t=[];for(var e in this._results)t.push.apply(t,r.__spread(this._results[e]));for(var e in this._follow)t.push.apply(t,r.__spread(this._follow[e]._getAllResults()));return t},t.prototype._merge=function(t){var e,n,o,i;if(!this.candidates)return t.slice();var a={};try{for(var s=r.__values(t),c=s.next();!c.done;c=s.next()){var l=c.value;a[l.id]=1}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var u=r.__values(this.candidates),d=u.next();!d.done;d=u.next()){l=d.value;a[l.id]&&(a[l.id]=2)}}catch(t){o={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return t.filter((function(t){return a[t.id]>1}))},t}();e.SearchState=o},function(t,e,n){"use strict";n.r(e),n.d(e,"BrowserApplication",(function(){return dt})),n.d(e,"BrowserHashActivationContext",(function(){return pt})),n.d(e,"BrowserHistoryAPIActivationContext",(function(){return ft})),n.d(e,"BrowserTheme",(function(){return D})),n.d(e,"initializeCSS",(function(){return B})),n.d(e,"HMR",(function(){return ht}));var r,o,i=n(0),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.beforeRender=function(){var t,e,n=[];try{for(var r=Object(i.__values)(this.messages),o=r.next();!o.done;o=r.next()){var s=o.value;n.push(new a.UIParagraph(s))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.messageLabels=n},e}(a.ViewComponent.with({defaults:function(){return{messages:[],title:void 0,confirmButtonLabel:Object(a.strf)("Dismiss"),cancelButtonLabel:void 0}},view:a.UICell.with({background:"@background",borderRadius:4,position:{gravity:"center"},dimensions:{maxWidth:400,width:"95vw"},dropShadow:.65,revealTransition:"up-fast"},a.UIFlowCell.with({background:"@primary",dimensions:{height:40},hidden:Object(a.bind)("title|!"),onMouseDown:"+DragContainer"},a.UICloseRow.with(a.UISpacer.withWidth(16),a.UIExpandedLabel.withText(Object(a.bind)("title"),{color:"@primary:text"}),a.UIBorderlessButton.with({position:{gravity:"center"},icon:"close",onClick:"+CloseModal",iconSize:18,iconColor:"@primary:text",disableKeyboardFocus:!0}))),a.UICell.with({padding:16},a.UICloseColumn.with({content:Object(a.bind)("messageLabels",[])}),a.UISpacer.withHeight(24),a.UIOppositeRow.with({padding:0},a.UILinkButton.with({hidden:Object(a.bind)("cancelButtonLabel|!"),label:Object(a.bind)("cancelButtonLabel"),onClick:"+CloseModal"}),a.UIPrimaryButton.with({label:Object(a.bind)("confirmButtonLabel"),onClick:"+Confirm",requestFocus:!0}))))})),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._presets={messages:[]},e}return Object(i.__extends)(e,t),e.prototype.build=function(){return s.with(this._presets)},e.prototype.setTitle=function(t){return this._presets.title=t,this},e.prototype.setConfirmButtonLabel=function(t){return this._presets.confirmButtonLabel=t,this},e.prototype.setCancelButtonLabel=function(t){return this._presets.cancelButtonLabel=t,this},e.prototype.addMessage=function(t){return this._presets.messages.push(t),this},e}(a.ConfirmationDialogBuilder),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.emitMenuItemSelectedEvent=function(t){this.emit(a.UIMenuItemSelectedEvent,"SelectMenuItem",this,t)},e}(a.UICell.with({background:"@background",dimensions:{minWidth:50,maxWidth:280},borderRadius:4,dropShadow:.8,onArrowDownKeyPress:function(t){var e,n;if(t.source instanceof l)try{for(var r=Object(i.__values)(this.content),o=r.next();!o.done;o=r.next()){var s=o.value;if(s instanceof a.UICell)return void s.requestFocus()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}})),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._items=[],e._gravity="end",e}return Object(i.__extends)(e,t),e.prototype.clear=function(){return this._items.length=0,this},e.prototype.addOption=function(t,n,r,o,i,s,c){function u(){var e=this.getParentComponent(l);e&&e.emitMenuItemSelectedEvent(t),this.propagateComponentEvent("CloseModal")}return void 0===s&&(s=e.labelStyleMixin),void 0===c&&(c=e.hintStyleMixin),this._items.push(a.UICell.with({layout:{axis:"horizontal"},css:{cursor:"pointer"},allowKeyboardFocus:!0,onMouseEnter:function(){this.background="@primary",this.textColor="@primary:text"},onMouseLeave:function(){this.background="",this.textColor=""},onClick:u,onEnterKeyPress:u,onArrowDownKeyPress:function(){this.requestFocusNext()},onArrowUpKeyPress:function(){this.requestFocusPrevious()}},a.UISpacer.with({dimensions:{width:16,shrink:0},shrinkwrap:!0}),a.UIExpandedLabel.with({text:n,icon:r,iconMargin:8,textStyle:s}),o?a.UISpacer.withWidth(8):void 0,o?a.UILabel.with({text:o,icon:i,textStyle:c}):void 0,a.UISpacer.withWidth(16))),this},e.prototype.addSelectionGroup=function(t,e,n){var r,o;try{for(var a=Object(i.__values)(t),s=a.next();!s.done;s=a.next()){var c=s.value;this.addOption(c.key,c.text,c.key===e?"check":"blank",void 0,void 0,n)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return this},e.prototype.addSeparator=function(){return this._items.push(a.UISeparator.with({margin:8})),this},e.prototype.setGravity=function(t){return this._gravity=t,this},e.prototype.setRevealTransition=function(t){return this._revealTransition=t,this},e.prototype.setExitTransition=function(t){return this._exitTransition=t,this},e.prototype.build=function(){return l.with({position:{gravity:this._gravity},revealTransition:this._revealTransition,exitTransition:this._exitTransition,content:Object(i.__spread)([new a.UISpacer(8,8)],this._items.map((function(t){return new t})),[new a.UISpacer(8,8)])})},e.labelStyleMixin={},e.hintStyleMixin={color:"@text/50%",fontSize:12},e}(a.UIMenuBuilder),d=(window.DOM_UI_RENDER_MODULE_ID=(window.DOM_UI_RENDER_MODULE_ID||1e3)+1)+Math.floor(1e6*Math.random())+"_RendererBase";function h(t){var e=this.lastChild;e&&t.target&&t.target!==e&&(e.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_CONTAINED_BY||(t.preventDefault(),setTimeout((function(){var t=document.createElement("div");t.tabIndex=-1,e.insertBefore(t,e.firstChild),t.focus(),e.removeChild(t)}),0)))}var p=["click","dblclick","contextmenu","mouseup","mousedown","keydown","keypress","keyup","focusin","focusout","touchstart","touchend"];function f(t){for(var e=t.target;e&&e!==this;){var n=e[d];if(n&&n.DOM_EMIT)return n.DOM_EMIT.call(n,t);e=e.parentNode}}var v=["change","input","copy","cut","paste"];function y(t){var e=t.target,n=e[d]||e.parentNode&&e.parentNode[d];if(n&&n.DOM_CONTROL_EMIT)return n.DOM_CONTROL_EMIT.call(n,t)}var m=["mouseenter","mouseleave","submit"];function g(t){for(var e=t.target;e&&e!==this;){var n=e[d];if(n&&n.DOM_CELL_EMIT)return n.DOM_CELL_EMIT.call(n,t);e=e.parentNode}}var b=function(t){function e(n){var r=t.call(this)||this;return n||(n=e.createFixedRootElement(),r._isFixedRoot=!0),r.root=n,r.addEventListeners(),r}return Object(i.__extends)(e,t),e.scheduleRender=function(t,e){if(e&&!o&&(o=[]),!r){r=[];var n=function(){for(var t=Date.now();r&&r.length||o;){for(;r&&r.length;)if(r.shift()(),Date.now()-t>30)return void setTimeout(i,10);if(o){var e=o.shift();o.length||(o=void 0),r=[e]}}r=void 0},i=function(){"function"==typeof window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,10)};i()}return new Promise((function(n,i){(e?o:r).push((function(){try{n(t())}catch(t){i(t)}}))}))},e.createFixedRootElement=function(){var t=document.createElement("app");return t.className="App__FixedRoot",t.style.opacity="0",setTimeout((function(){t.style.background=a.UITheme.replaceColor("@appBackground"),t.style.color=a.UITheme.replaceColor("@text"),t.style.opacity="1"}),0),document.body.appendChild(t),t},e.prototype.addEventListeners=function(){var t,e,n,r,o,a;this.root.removeEventListener("focusin",h,!0),this.root.addEventListener("focusin",h,!0);try{for(var s=Object(i.__values)(p),c=s.next();!c.done;c=s.next()){var l=c.value;this.root.removeEventListener(l,f),this.root.addEventListener(l,f)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}try{for(var u=Object(i.__values)(v),d=u.next();!d.done;d=u.next()){var b=d.value;this.root.removeEventListener(b,y),this.root.addEventListener(b,y)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var _=Object(i.__values)(m),w=_.next();!w.done;w=_.next()){var C=w.value;this.root.removeEventListener(C,g,!0),this.root.addEventListener(C,g,!0)}}catch(t){o={error:t}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}},e.prototype.clear=function(){this.root.innerHTML=""},e.prototype.onManagedStateDestroyingAsync=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.prototype.onManagedStateDestroyingAsync.call(this)];case 1:return e.sent(),this.clear(),this._isFixedRoot&&this.root.parentNode&&document.body.removeChild(this.root),[2]}}))}))},e.prototype.getRenderCallback=function(){var t=this,e=function(n,r){return n?n.placement===a.UIRenderPlacement.PAGE?t._placePage(n,r):t._placeModal(n,r):e};return e},e.prototype._placePage=function(t,n){var r=this,o=function(t){if(r.managedState){if(t.detach&&t.detach(),r._page){var e=r._page.element.nextSibling;r.root.insertBefore(t.element,e),r._page.element!==t.element&&r._rm(r._page.element)}else r.root.insertBefore(t.element,r.root.firstChild);r._page=t;for(var n=t.source.getParentComponent(a.AppActivity);n&&!n.name;)n=n.getParentActivity();n&&n.name&&(document.title=n.name)}},i=t;e.scheduleRender((function(){return r._page!==t&&o(t),t})).then(n).catch(a.logUnhandledException);var s=function(t,n){return t&&t.placement!==a.UIRenderPlacement.PAGE?(i&&r._rm(i.element),r._placeModal(t,n)):(e.scheduleRender((function(){if(r.managedState)return r._page===i&&(t?(o(t),i=t):(i&&r._rm(i.element),i=r._page=void 0)),t})).then(n).catch(a.logUnhandledException),t?s:r.getRenderCallback())};return s},e.prototype._placeModal=function(t,n){var r=this,o=document.createElement("div");o.className="App__ModalShader",o.tabIndex=0,dt.transitionsDisabled&&(o.style.transition="none"),o.addEventListener("click",(function(n){n.target!==o&&n.target!==i||(n.stopPropagation(),t.source instanceof a.UIComponent&&e.$touchData.last<Date.now()-1e3&&t.source.propagateComponentEvent("CloseModal"))}),!0),o.addEventListener("touchend",(function(n){n.target!==o&&n.target!==i||(n.stopPropagation(),t.source instanceof a.UIComponent&&(e.$touchData.last=Date.now(),t.source.propagateComponentEvent("CloseModal")))}),!0),o.addEventListener("keydown",(function(e){27===e.keyCode?(e.stopPropagation(),t.source instanceof a.UIComponent&&(t.source.propagateComponentEvent("EscapeKeyPress",void 0,e),t.source.propagateComponentEvent("CloseModal"))):t.source instanceof a.UIComponent&&(37===e.keyCode?t.source.propagateComponentEvent("ArrowLeftKeyPress",void 0,e):38===e.keyCode?t.source.propagateComponentEvent("ArrowUpKeyPress",void 0,e):39===e.keyCode?t.source.propagateComponentEvent("ArrowRightKeyPress",void 0,e):40===e.keyCode&&t.source.propagateComponentEvent("ArrowDownKeyPress",void 0,e))}),!0);var i=document.createElement("div");i.className="App__ModalWrapper",i.setAttribute("aria-modal","true"),o.appendChild(i);var s=document.activeElement;e.scheduleRender((function(){if(r.managedState)return r._addModalContent(i,t),r.root.appendChild(o),setTimeout(e,0),setTimeout(e,10),setTimeout(e,100),setTimeout((function(){o.dataset.transitionT="revealed"}),0),t;function e(){document.activeElement?o.compareDocumentPosition(document.activeElement)&Node.DOCUMENT_POSITION_CONTAINED_BY||o.focus():o.focus()}})).then(n).catch(a.logUnhandledException);var c=function(t,n){return t&&t.placement===a.UIRenderPlacement.PAGE?(r._rm(o),r._placePage(t,n)):(e.scheduleRender((function(){if(r.managedState){if(t)r._addModalContent(i,t);else if(o.style.background="",C(o,i.firstChild),s)try{s.focus()}catch(t){}return t}})).then(n).catch(a.logUnhandledException),t?c:r.getRenderCallback())};return c},e.prototype._addModalContent=function(t,e){for(var n=t.firstChild;n;)n.dataset&&n.dataset.uiRemoved||t.removeChild(n),n=n.nextSibling;setTimeout((function(){var n=100*(e.modalShadeOpacity||0)+"%",r=a.UITheme.replaceColor("@modalShade/"+n),o=t.parentNode;o&&(o.style.backgroundColor=r)}),0),e.detach&&e.detach(),t.appendChild(e.element),t.style.cssText="";var r=e.placementRef&&e.placementRef.lastRenderOutput,o=r&&r.element,i=o&&o.getBoundingClientRect&&o.getBoundingClientRect();switch(e.placement){case a.UIRenderPlacement.DROPDOWN:case a.UIRenderPlacement.DROPDOWN_COVER:if(t.style.position="absolute",!i)break;t.style.top=e.placement===a.UIRenderPlacement.DROPDOWN?i.bottom+"px":i.top+"px",t.style.left=i.left+"px",t.style.width=i.width+"px",t.style.flexDirection="column",t.style.opacity="0",setTimeout((function(){_(t,i.top)}),0);break;case a.UIRenderPlacement.POPOVER:if(t.style.position="absolute",!i)break;var s=(i.left+i.right)/2;t.style.top=i.bottom+8+"px",t.style.left=s-70+"px",t.style.width="140px",t.style.flexDirection="column",t.style.opacity="0",setTimeout((function(){_(t)}),0);break;case a.UIRenderPlacement.POPOVER_ABOVE:if(t.style.position="relative",!i)break;var c=(i.left+i.right)/2;t.style.top=i.top-8+"px",t.style.height="0px",t.style.left=c-70+"px",t.style.width="140px",t.style.flexDirection="column",t.style.justifyContent="flex-end",t.style.flexGrow="0",t.style.opacity="0",setTimeout((function(){_(t)}),0);break;case a.UIRenderPlacement.POPOVER_LEFT:if(t.style.position="absolute",!i)break;var l=(i.top+i.bottom)/2;t.style.top=l-16+"px",t.style.height="32px",t.style.left=i.left-8+"px",t.style.width="0px",t.style.flexDirection="row",t.style.alignItems="center",t.style.justifyContent="flex-end",t.style.opacity="0",setTimeout((function(){w(t)}),0);break;case a.UIRenderPlacement.POPOVER_RIGHT:if(t.style.position="absolute",!i)break;var u=(i.top+i.bottom)/2;t.style.top=u-16+"px",t.style.height="32px",t.style.left=i.right+8+"px",t.style.width="0px",t.style.flexDirection="row",t.style.alignItems="center",t.style.justifyContent="flex-start",t.style.opacity="0",setTimeout((function(){w(t)}),0);break;case a.UIRenderPlacement.DRAWER:t.style.flexDirection="column",t.style.alignItems="start",t.style.justifyContent="space-around";break;case a.UIRenderPlacement.DIALOG:default:t.style.flexDirection="row",t.style.alignItems="center",t.style.justifyContent="space-around"}},e.prototype._rm=function(t){t&&t.parentNode===this.root&&this.root.removeChild(t)},e.$touchData={last:0},e}(a.UIRenderContext);function _(t,e){void 0===e&&(e=-1);var n=t.firstChild;if(n&&n.dataset&&"revealing"===n.dataset.transitionT){t.style.opacity="";var r=function(){n.removeEventListener("animationend",r),n.removeEventListener("animationcancel",r),n.removeEventListener("transitionend",r),n.removeEventListener("transitioncancel",r),_(t,e)};return n.addEventListener("animationend",r),n.addEventListener("animationcancel",r),n.addEventListener("transitionend",r),n.addEventListener("transitioncancel",r),void setTimeout((function(){b.scheduleRender(r)}),1e3)}var o=(n||t).getBoundingClientRect();o.left<0?(t.style.left="0px",t.style.width=o.width>window.innerWidth?o.width+"px":"auto"):o.right>window.innerWidth&&(t.style.left=Math.max(0,window.innerWidth-o.width)+"px",t.style.width=o.width+"px"),o.top<0?(t.style.top="0px",t.style.bottom="",t.style.justifyContent="flex-start"):o.bottom>window.innerHeight&&(e>0&&o.height<e?(t.style.top=e+"px",t.style.height="0px",t.style.justifyContent="flex-end"):o.height<window.innerHeight?(t.style.bottom="0px",t.style.top="",t.style.justifyContent="flex-end"):(t.style.top="0px",t.style.bottom="",t.style.justifyContent="flex-start")),t.style.opacity=""}function w(t){var e=t.firstChild;if(e&&e.dataset&&"revealing"===e.dataset.transitionT){t.style.opacity="";var n=function(){e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),e.removeEventListener("transitionend",n),e.removeEventListener("transitioncancel",n),w(t)};return e.addEventListener("animationend",n),e.addEventListener("animationcancel",n),e.addEventListener("transitionend",n),e.addEventListener("transitioncancel",n),void setTimeout((function(){b.scheduleRender(n)}),1e3)}var r=(e||t).getBoundingClientRect();r.left<0?(t.style.left="0px",t.style.width=r.width>window.innerWidth?r.width+"px":"auto",t.style.justifyContent="flex-start"):r.right>window.innerWidth&&(t.style.left=Math.max(0,window.innerWidth-r.width)+"px",t.style.width=r.width+"px",t.style.justifyContent="flex-end"),r.top<0?(t.style.top="0px",t.style.bottom="",t.style.height=r.height+"px"):r.bottom>window.innerHeight&&(t.style.top=Math.max(0,window.innerHeight-r.height)+"px",t.style.bottom="",t.style.height=r.height+"px"),t.style.opacity=""}function C(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t.parentNode;if(r){t.dataset.uiRemoved="removed";var o,i=0;s(t),e.forEach(s),i?o=setTimeout((function(){i=0,a()}),2e3):Promise.resolve().then((function(){return a()}))}function a(){this&&this.removeEventListener("animationend",a),this&&this.removeEventListener("animationcancel",a),this&&this.removeEventListener("transitionend",a),this&&this.removeEventListener("transitioncancel",a),this!==t&&--i>0||(t.parentNode===r&&r.removeChild(t),o&&clearTimeout(o))}function s(t){t&&t.dataset.transitionExit&&(t.addEventListener("animationend",a),t.addEventListener("animationcancel",a),t.addEventListener("transitionend",a),t.addEventListener("transitioncancel",a),t.dataset.transitionT="exiting",i++)}}var O,x,S={start:"flex-start",end:"flex-end",center:"center",fill:"space-between","space-around":"space-around","":""},j={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch",baseline:"baseline","":""},E={},I=[];function R(t){for(var e in x||(x={}),t)x[e]=t[e];b.scheduleRender((function(){O||(O=function(){var t=document.createElement("style");t.setAttribute("type","text/css"),document.head.appendChild(t);var e={};return function(n,r){for(var o in n)"@"===o[0]&&e[o]?e[o]=Object(i.__assign)(Object(i.__assign)({},e[o]),n[o]):e[o]=Object(i.__assign)({},n[o]);var a="";for(var o in e)if("@"===o[0]){for(var s in a+=o+" {\n",e[o])a+="  "+s+" { "+F(e[o][s])+"}\n";a+="}\n"}else a+=o+" { "+F(e[o])+"}\n";t.textContent=r.map((function(t){return"@import url("+JSON.stringify(t)+");\n"}))+".UI { display: block }\n"+a}}()),x&&O(x,I),x=void 0}))}function A(t,e,n,r){if(t.hidden)return e.hidden=!0,void(e.style.cssText="");e.hidden&&(e.hidden=!1);var o=t.style,s={},c="UI";if(a.UIStyle.isStyleOverride(t.dimensions,o)&&M(s,t.dimensions),a.UIStyle.isStyleOverride(t.position,o)&&T(s,t.position),t instanceof a.UIContainer)a.UIStyle.isStyleOverride(t.layout,o)&&P(s,t.layout),t instanceof a.UICell&&a.UIStyle.isStyleOverride(t.decoration,o)&&L(s,t.decoration),function(t,e){e instanceof a.UICell?(L(t,e),void 0!==e.margin&&(t.margin=k(e.margin))):e instanceof a.UIRow?void 0===e.height||t.height||(t.height=k(e.height)):e instanceof a.UIColumn&&(void 0===e.width||t.width||(t.width=k(e.width)));e.verticalScrollEnabled&&(t.overflowY="auto");e.horizontalScrollEnabled&&(t.overflowX="auto")}(s,t);else if(t instanceof a.UIControl&&(a.UIStyle.isStyleOverride(t.decoration,o)?L(s,t.decoration):t.decoration.cssClassNames&&(s.className=t.decoration.cssClassNames.join(" ")),a.UIStyle.isStyleOverride(t.textStyle,o)&&U(s,t.textStyle),(t.shrinkwrap&&t.dimensions.grow||!t.shrinkwrap&&!t.dimensions.grow)&&(s.flexGrow=t.shrinkwrap?"0":"1"),t instanceof a.UISeparator)){if(s.borderWidth=k(t.thickness),t.margin){var l=k(t.margin);s.margin=t.vertical?"0 "+l:l+" 0"}t.color&&(s.borderColor=a.UITheme.replaceColor(t.color))}E[o.id]||function t(e){var n,r,o;E[e.id]=!0;var a=function(t){var e={};return t.containerLayout&&P(e,t.containerLayout),t.dimensions&&M(e,t.dimensions),t.position&&T(e,t.position),t.textStyle&&U(e,t.textStyle),t.decoration&&L(e,t.decoration),e};R(((n={})[".UI"+e.ids.map((function(t){return"."+t})).join("")]=a(e.getOwnStyles()),n));var s=function(t,n){var r,o=e.conditionalStyles[n];o&&R(((r={})[".UI"+e.ids.map((function(t){return"."+t})).join("")+t]=a(o.getStyles()),r))};if(s(":focus","focused"),s(":hover:not([disabled])","hover"),s(":active:not([disabled])","pressed"),s("[disabled]","disabled"),s("[data-selected]","selected"),e.inherited.length)try{for(var c=Object(i.__values)(e.inherited),l=c.next();!l.done;l=c.next()){var u=l.value;E[u.id]||t(u)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}(o),o.ids.length&&(c+=" "+o.ids.join(" ")),s.className&&(c+=" "+s.className,delete s.className),r&&(c+=" "+r),e.className=c;var u=F(s);!u&&n||(e.style.cssText=u)}function k(t,e){if(void 0===e&&(e="auto"),"string"==typeof t)return t;if("number"==typeof t)return t/16+"rem";if("object"==typeof t){var n=0,r=0,o=0,i=0;return t.x&&(o=i=k(t.x)),t.y&&(n=r=k(t.y)),t.top&&(n=k(t.top)),t.bottom&&(r=k(t.bottom)),t.left&&(o=k(t.left)),t.right&&(i=k(t.right)),n+" "+i+" "+r+" "+o}return e}function P(t,e){var n=e.axis;void 0!==n&&(t.flexDirection="horizontal"===n?"row":"column");var r=e.distribution;void 0!==r&&(t.justifyContent=S[r]||"");var o=e.gravity;void 0!==o&&(t.alignItems=j[o]||"");var i=e.wrapContent;void 0!==i&&(t.flexWrap=i?"wrap":"nowrap");var a=e.clip;void 0!==a&&(t.overflow=a?"hidden":"visible")}function M(t,e){var n=e.width;void 0!==n&&(t.width=k(n));var r=e.height;void 0!==r&&(t.height=k(r));var o=e.minWidth;void 0!==o&&(t.minWidth=k(o,""));var i=e.minHeight;void 0!==i&&(t.minHeight=k(i,""));var a=e.maxWidth;void 0!==a&&(t.maxWidth=k(a,""));var s=e.maxHeight;void 0!==s&&(t.maxHeight=k(s,""));var c=e.grow;void 0!==c&&(t.flexGrow=c);var l=e.shrink;void 0!==l&&(t.flexShrink=l)}function T(t,e){var n=e.gravity;"overlay"===n?(t.position="absolute",t.zIndex="100",t.top=k(e.top),t.bottom=k(e.bottom),t.left=k(e.left),t.right=k(e.right),void 0===e.left&&void 0===e.right&&(t.margin="auto")):(n&&(t.alignSelf=j[n]),void 0===e.top&&void 0===e.bottom&&void 0===e.left&&void 0===e.right||(t.position="relative",void 0!==e.top&&(t.top=k(e.top)),void 0!==e.bottom&&(t.bottom=k(e.bottom)),void 0!==e.left&&(t.left=k(e.left)),void 0!==e.right&&(t.right=k(e.right))))}function U(t,e){var n=e.align;void 0!==n&&(t.textAlign=n);var r=e.color;void 0!==r&&(t.color=a.UITheme.replaceColor(r));var o=e.fontFamily;void 0!==o&&(t.fontFamily=o);var i=e.fontSize;void 0!==i&&(t.fontSize=k(i,"inherit"));var s=e.fontWeight;void 0!==s&&(t.fontWeight=String(s));var c=e.letterSpacing;void 0!==c&&(t.letterSpacing=k(c));var l=e.lineHeight;void 0!==l&&(t.lineHeight=String(l));var u=e.lineBreakMode;"clip"===u?(t.overflow="hidden",t.textOverflow="clip"):"ellipsis"===u?(t.overflow="hidden",t.textOverflow="ellipsis"):void 0!==u&&(t.whiteSpace=u),e.bold&&(t.fontWeight="bold");var d=e.italic;void 0!==d&&(t.fontStyle=d?"italic":"normal");var h=e.uppercase;void 0!==h&&(t.textTransform=h?"uppercase":"none");var p=e.smallCaps;void 0!==p&&(t.fontVariant=p?"small-caps":"normal");var f=e.underline,v=e.strikeThrough;f?t.textDecoration="underline"+(v?" line-through":""):v?t.textDecoration="line-through":!1!==f&&!1!==v||(t.textDecoration="none")}function L(t,e){var n=e.background;void 0!==n&&(t.background=a.UITheme.replaceColor(n));var r=e.textColor;void 0!==r&&(t.color=a.UITheme.replaceColor(r));var o=e.borderThickness;void 0!==o&&(t.borderWidth=k(o),t.borderColor=a.UITheme.replaceColor(e.borderColor||"transparent"),t.borderStyle=e.borderStyle||"solid"),void 0!==e.borderRadius&&(t.borderRadius=k(e.borderRadius));var i=e.padding;if(void 0!==i&&(t.padding=k(i)),void 0!==e.dropShadow&&(t.boxShadow=function(t){void 0===t&&(t=0);var e="";t<0&&(e="inset ",t=-t);return(t=Math.min(1,Math.max(0,t)))>0?e+"0 0 "+2*t+"rem "+-.25*t+"rem rgba(0,0,0,"+t*t*.3+"),"+e+"0 "+.85*t+"rem "+1*t+"rem "+-.25*t+"rem rgba(0,0,0,"+(.15*t+.1)+"),"+e+"0 "+(t*t*.5+.6*t)+"rem "+1*t+"rem "+-1*t+"rem rgba(0,0,0,.4),"+e+"0 "+t*t*1.5+"rem "+3*t+"rem "+-1*t+"rem rgba(0,0,0,.3),"+e+"0 "+t*t*3+"rem "+2.5*t+"rem "+-2*t+"rem rgba(0,0,0,.3)":"none"}(e.dropShadow)),e.opacity>=0&&(t.opacity=String(e.opacity)),e.css)for(var s in e.css)t[s]=e.css[s];e.cssClassNames&&(t.className=e.cssClassNames.join(" "))}function F(t){var e="",n=function(n){if("className"===n||""===t[n]||null==t[n])return"continue";var r=n.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^(webkit|o|ms|moz)-/,"-$1-");String(t[n]).split("||").reverse().forEach((function(t){e+=r+": "+t+"; "}))};for(var r in t)n(r);return e}var D=function(t){function e(){var e=t.call(this)||this;return e.ConfirmationDialogBuilder=c,e.MenuBuilder=u,e.colors={black:"#000000",darkerGray:"#333333",darkGray:"#777777",lightGray:"#dddddd",white:"#ffffff",slate:"#667788",lightSlate:"#c0c8d0",red:"#ee3333",orange:"#ee9922",yellow:"#ddcc33",lime:"#99bb33",green:"#44aa44",turquoise:"#33aaaa",cyan:"#33bbbb",blue:"#3355aa",violet:"#5533aa",purple:"#8833aa",magenta:"#dd4488",primary:"@blue",accent:"@purple",background:"@white",appBackground:"@background",text:"@background:text",controlBase:"@background",separator:"@background^-50%/20%",modalShade:"@black"},e.icons={blank:'<svg viewBox="0 0 48 48"></svg>',close:'<svg viewBox="0 0 48 48"><path d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z"/></svg>',expandDown:'<svg viewBox="0 0 48 48"><path d="M33.17 17.17L24 26.34l-9.17-9.17L12 20l12 12 12-12z"/></svg>',menu:'<svg viewBox="0 0 48 48"><path d="M6 36h36v-4H6v4zm0-10h36v-4H6v4zm0-14v4h36v-4H6z"/></svg>',check:'<svg viewBox="0 0 48 48"><path d="M18 32.34L9.66 24l-2.83 2.83L18 38l24-24-2.83-2.83z"/></svg>'},e.setStyle("container",{decoration:{css:{display:"flex",textAlign:"start||left"}}}),e.setStyle("control",{textStyle:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, "Helvetica Neue", Arial, sans-serif',fontSize:14,fontWeight:"normal",lineHeight:"normal",italic:!1,lineBreakMode:"pre"}}),e.setStyle("spacer",{dimensions:{grow:1,width:8,height:8},position:{gravity:"stretch"}}),e.setStyle("separator",{dimensions:{grow:0,shrink:0},position:{gravity:"stretch"}}),e.setStyle("label",{dimensions:{maxWidth:"100%"},decoration:{css:{margin:"calc(1rem - .5em) 0"}},textStyle:{lineBreakMode:"ellipsis"}}),e.setStyle("label_close",{decoration:{css:{margin:"0"}}}),e.setStyle("heading1",{textStyle:{fontSize:60,fontWeight:200,letterSpacing:-.5}}),e.setStyle("heading2",{textStyle:{fontSize:24}}),e.setStyle("heading3",{textStyle:{fontSize:18,bold:!0}}),e.setStyle("paragraph",{textStyle:{lineBreakMode:"pre-wrap",lineHeight:1.4},decoration:{css:{cursor:"text"}}}),e.setStyle("button",{dimensions:{minWidth:96},textStyle:{align:"center",lineBreakMode:"ellipsis"},decoration:{borderThickness:0,background:"@controlBase",textColor:"@primary",borderRadius:4,padding:{y:8,x:12},css:{cursor:"pointer",transition:"all .2s ease"}}}).addState("pressed",{decoration:{background:"@primary",textColor:"@primary:text"}}).addState("hover",{decoration:{background:"@primary",textColor:"@primary:text"}}).addState("disabled",{decoration:{borderThickness:0,background:"@controlBase",textColor:"@primary",css:{opacity:".5",cursor:"inherit"}}}),e.setStyle("button_primary",{decoration:{background:"@primary",textColor:"@primary:text",borderThickness:1,borderColor:"@primary"}}).addState("hover",{decoration:{background:"@primary^+30%",borderThickness:1,borderColor:"@primary^+30%"}}),e.setStyle("button_borderless",{dimensions:{minWidth:16,minHeight:16},decoration:{background:"transparent",borderThickness:1,borderColor:"transparent",padding:{y:6,x:12}}}).addState("hover",{decoration:{background:"@controlBase^-50%/30%",textColor:"@primary"}}),e.setStyle("button_outline",{decoration:{borderThickness:1,borderColor:"@primary"}}),e.setStyle("button_link",{dimensions:{minWidth:16,minHeight:16},textStyle:{align:"start||left"},decoration:{background:"transparent"}}).addState("hover",{textStyle:{underline:!0},decoration:{background:"transparent",textColor:"@primary"}}).addState("disabled",{decoration:{background:"transparent",textColor:"@primary"}}),e.setStyle("button_large",{dimensions:{minWidth:128},textStyle:{fontWeight:200,fontSize:16},decoration:{background:"@primary",textColor:"@primary:text",borderRadius:32,padding:{y:12,x:16}}}),e.setStyle("button_small",{dimensions:{minWidth:64},textStyle:{fontSize:12},decoration:{borderThickness:1,borderColor:"@controlBase^-20%",padding:{y:4,x:8}}}),e.setStyle("button_icon",{dimensions:{minWidth:32,minHeight:32},position:{gravity:"center"},decoration:{background:"transparent",borderRadius:"50%",padding:0}}).addState("hover",{decoration:{background:"@decoration^-50%/30%",textColor:"@primary"}}),e.setStyle("textfield",{decoration:{background:"@white",textColor:"@white:text",borderColor:"@controlBase^-20%",borderThickness:1,borderRadius:4,padding:8,css:{cursor:"text"}}}),e.setStyle("textfield_borderless",{decoration:{background:"transparent",borderThickness:0,borderRadius:0,padding:0}}).addState("focused",{decoration:{css:{boxShadow:"none"}}}),e.setStyle("toggle",{decoration:{textColor:"@text",cssClassNames:["UI__CustomToggle"]}}),e.setStyle("image",{position:{gravity:"center"}}),e}return Object(i.__extends)(e,t),e.prototype.setFocusOutline=function(t,e,n){void 0===t&&(t=2),void 0===e&&(e=0),void 0===n&&(n="@primary/50%");var r="0 0 "+k(e)+" "+k(t)+" "+a.UITheme.replaceColor(n);return R({".UI[tabindex]:focus":{boxShadow:r},".UI.ShowFocusWithin[tabindex]:focus-within":{boxShadow:r},".UI>[tabindex]:focus+label>control":{boxShadow:r}}),this},e}(a.UITheme);function B(){R({".UI":{margin:"0",padding:"0",border:"0",outline:"0",cursor:"inherit",boxSizing:"border-box",textOverflow:"ellipsis",textDecoration:"none"},".UI[hidden]":{display:"none !important"},".App__FixedRoot":{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",flexDirection:"column",cursor:"default",overflow:"hidden"},".App__ModalShader":{zIndex:"1000",position:"fixed",top:"0",left:"0",bottom:"0",right:"0",overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"stretch",alignContent:"stretch",transition:"background-color .2s ease-in-out",background:"transparent"},".App__ModalWrapper":{flex:"1 0 auto",display:"flex"},".App__ModalWrapper>.UI":{zIndex:"10000",overflow:"hidden"},".UIRender__Separator--line":{flex:"0 0 auto",margin:"0",padding:"0",border:"0",borderTopStyle:"solid",borderWidth:"1px",alignSelf:"stretch"},".UIRender__Separator--line-vertical":{borderTopStyle:"none",borderLeftStyle:"solid",borderWidth:"1px"},".UIRender__Separator--spacer":{flex:"0 0 auto",width:"1px",height:"1px",alignSelf:"center"},".UI__CustomToggle":{lineHeight:"1.5rem",position:"relative",padding:".25rem 0"},".UI__CustomToggle>input":{position:"absolute",top:".25rem",left:"0",width:"1rem",height:"1rem",margin:"0",padding:"0",border:"0",opacity:"0"},".UI__CustomToggle>input+label":{display:"inline-block",paddingLeft:"1rem"},".UI__CustomToggle>input[disabled]+label":{opacity:".5"},".UI__CustomToggle>input:not([disabled])+label":{cursor:"pointer"},".UI__CustomToggle>input+label>control":{content:"''",position:"absolute",top:".25rem",left:"0",width:".875rem",height:".875rem",background:"#fff",border:"1px solid #aaa",borderRadius:".25rem"},".UI__CustomToggle>input:checked+label>control":{borderColor:"#666",background:"#666"},".UI__CustomToggle>input:checked+label>control::after":{content:"''",boxSizing:"border-box",display:"block",position:"absolute",top:"0",left:".25rem",height:".75rem",width:".375rem",transform:"rotate(45deg)",borderBottom:".125rem solid #fff",borderRight:".125rem solid #fff"}});var t=[1],e=[0,"translateY(-50%)"],n=[0,"translateY(50%)"],r=[0,"translateX(-50%)"],o=[0,"translateX(50%)"];N("fade",".5s ease-in-out","",[[0],t]),N("fade-fast",".2s ease-in-out","",[[0],t]),N("down",".5s ease-in-out",".5s ease",[e,t,n]),N("down-fast",".2s ease-in-out",".15s ease",[e,t,n]),N("up",".5s ease-in-out",".5s ease",[n,t,e]),N("up-fast",".2s ease-in-out",".15s ease",[n,t,e]),N("left",".5s ease-in-out",".5s ease",[o,t,r]),N("left-fast",".2s ease-in-out",".15s ease",[o,t,r]),N("right",".5s ease-in-out",".5s ease",[r,t,o]),N("right-fast",".2s ease-in-out",".15s ease",[r,t,o])}function N(t,e,n,r){var o,i="";e&&(i="opacity "+e),n&&(i+=(i?", ":"")+"transform "+n),R(((o={})["[data-transition-reveal="+t+"][data-transition-t=revealing]"]={opacity:r[0][0],transform:r[0][1]},o["[data-transition-reveal="+t+"][data-transition-t=revealed]"]={opacity:r[1][0],transform:r[1][1],transition:i},o["[data-transition-exit="+t+"][data-transition-t=exiting]"]={opacity:(r[2]||r[0])[0],transform:(r[2]||r[0])[1],transition:i},o))}var V=new a.ManagedEvent("Rendered").freeze();var z,W,K={click:"Click",dblclick:"DoubleClick",contextmenu:"ContextMenu",mouseup:"MouseUp",mousedown:"MouseDown",mouseenter:"MouseEnter",mouseleave:"MouseLeave",touchstart:"TouchStart",touchend:"TouchEnd",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focusin:"FocusIn",focusout:"FocusOut",change:"Change",input:"Input",copy:"Copy",cut:"Cut",paste:"Paste",submit:"Submit"},H={Enter:"EnterKey",Spacebar:"Spacebar"," ":"Spacebar",Backspace:"BackspaceKey",Delete:"DeleteKey",Del:"DeleteKey",Escape:"EscapeKey",Esc:"EscapeKey",ArrowLeft:"ArrowLeftKey",Left:"ArrowLeftKey",ArrowUp:"ArrowUpKey",Up:"ArrowUpKey",ArrowRight:"ArrowRightKey",Right:"ArrowRightKey",ArrowDown:"ArrowDownKey",Down:"ArrowDownKey"},q={ArrowLeftKey:!0,ArrowRightKey:!0,ArrowUpKey:!0,ArrowDownKey:!0},$=function(){function t(t){this.DOM_EMIT=this.emitComponentEvent,this.component=t}return t.prototype.afterRender=function(t){this.component.managedState&&this.component.emit(V);var e=this._renderedElement;e&&"revealing"===e.dataset.transitionT&&setTimeout((function(){"revealing"===e.dataset.transitionT&&(e.dataset.transitionT="revealed")}),0)},t.prototype.emitComponentEvent=function(t,e){var n=this;if("click"!==t.type&&"mousedown"!==t.type&&"mouseup"!==t.type||!(b.$touchData.last>Date.now()-1e3)){"submit"===t.type&&t.preventDefault();var r=e||function(t){return K[t.type]}(t);if(this.component&&this.component.propagateComponentEvent(r,void 0,t),"TouchStart"===r&&(b.$touchData.last=Date.now(),z=this,W||window.addEventListener("touchmove",W=function(){window.removeEventListener("touchmove",W),W=void 0,z=void 0}),this.component&&this.component.propagateComponentEvent("MouseDown",void 0,t)),"TouchEnd"===r&&(b.$touchData.last=Date.now(),z===this&&(this.component&&this.component.propagateComponentEvent("MouseUp",void 0,t),this.component&&this.component.propagateComponentEvent("Click",void 0,t))),"KeyDown"===r){var o=t.key,i=o?H[o]:"",a=!1;if("EnterKey"===i){var s=t.target,c=String(s.nodeName).toLowerCase();a="button"===c||"textarea"===c}!q[i]||"list"!==this.component.accessibleRole&&"listitem"!==this.component.accessibleRole||t.preventDefault(),!a&&i&&setTimeout((function(){n.component.propagateComponentEvent(i+"Press",void 0,t)}),0)}t.stopPropagation()}},t.prototype.handleRenderEvent=function(t){if(t.source===this.component){var e=!this._renderedElement,n=this._renderedElement||(this._renderedElement=this.createElement());n[d]=this;var r=this.component;r.accessibleRole&&n.setAttribute("role",r.accessibleRole),r.accessibleLabel&&n.setAttribute("aria-label",r.accessibleLabel),!dt.transitionsDisabled&&r instanceof a.UICell&&(e&&r.revealTransition&&(n.dataset.transitionReveal=r.revealTransition,n.dataset.transitionT="revealing"),r.exitTransition&&(n.dataset.transitionExit=r.exitTransition,n.dataset.transitionT="revealing"));var o=new a.UIRenderContext.Output(r,n);r.lastRenderOutput=o,this._lastRenderCallback=t.renderCallback(o,this.afterRender.bind(this))}},t.prototype.handleFocusRequestEvent=function(t){if(t.source===this.component&&this.component.lastRenderOutput){var e=this.component.lastRenderOutput.element;if(t.direction===a.UIFocusRequestType.SELF)return void e.focus();var n=this.component.getParentComponent(a.UIComponent),r=n&&n instanceof a.UIComponent&&n.lastRenderOutput&&n.lastRenderOutput.element;if(!r)return;var o=r.querySelectorAll("[tabIndex]");if(t.direction===a.UIFocusRequestType.REVERSE)for(var i=o.length-1;i>=0;i--){if((c=e.compareDocumentPosition(o[i]))&Node.DOCUMENT_POSITION_PRECEDING){for(var s=0;s<i&&!((c=o[s].compareDocumentPosition(o[i]))&Node.DOCUMENT_POSITION_CONTAINED_BY);)s++;return void o[s].focus()}}else for(i=0;i<o.length;i++){var c;if((c=e.compareDocumentPosition(o[i]))&Node.DOCUMENT_POSITION_FOLLOWING&&!(c&Node.DOCUMENT_POSITION_CONTAINED_BY))return void o[i].focus()}}},t.prototype.updateElement=function(t){if(this._renderedElement=t,this._lastRenderCallback){var e=new a.UIRenderContext.Output(this.component,t);this.component.lastRenderOutput=e,this._lastRenderCallback=this._lastRenderCallback.call(void 0,e,this.afterRender.bind(this))}},t.prototype.scheduleStyleUpdate=function(t){var e=this;this._addClass=t,this._renderedElement&&!this._sched&&(this._sched=!0,Promise.resolve().then((function(){e._sched=!1,e._renderedElement&&A(e.component,e._renderedElement,!1,e._addClass)})))},t.prototype.getElement=function(){return this._renderedElement},t.prototype.isRendered=function(){return!!this._lastRenderCallback&&!!this._renderedElement},t}(),G=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=document.createElement(this.component.headingLevel?"h"+this.component.headingLevel:"span");return this.component.isKeyboardFocusable()?t.tabIndex=0:this.component.isFocusable()&&(t.tabIndex=-1),A(this.component,t,!0),Y(t,{text:this.component.text,htmlFormat:this.component.htmlFormat,icon:this.component.icon,iconColor:this.component.iconColor||this.component.textStyle.color,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter}),t},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.setText=function(){var t=this.getElement();t&&Y(t,{text:this.component.text,htmlFormat:this.component.htmlFormat,icon:this.component.icon,iconColor:this.component.iconColor||this.component.textStyle.color,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter})},e.prototype.onHeadingLevelChange=function(){this.isRendered()&&this.updateElement(this.createElement())},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},Object(i.__decorate)([Object(a.onPropertyChange)("text","htmlFormat","icon","iconColor","iconSize","iconMargin","iconAfter")],e.prototype,"setText",null),Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","shrinkwrap","disabled","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}($);function Y(t,e){var n=null==e.text?"":String(e.text);if(e.icon){var r=document.createElement("span");r.style.display="flex",r.style.flexDirection="row",r.style.alignItems="center",r.style.justifyContent="space-around",r.style.textOverflow="inherit";try{var o=function(t){var e=k(t.iconSize,"1rem"),n=t.iconColor?a.UITheme.replaceColor(t.iconColor):"",r=t.icon+":"+e+":"+n;if(J[r])return J[r].cloneNode(!0);var o,i=document.createElement("div");i.innerHTML=a.UITheme.current.icons[t.icon]||t.icon;var s=i.firstChild;s||(s=document.createTextNode(""));if("svg"===String(s.nodeName).toLowerCase())(o=s).hasAttribute("stroke")?o.style.stroke=n||"currentColor":o.style.fill=n||"currentColor",o.style.display="inline-block",o.style.width=e,o.style.height="auto";else{var c=document.createElement("icon");c.style.display="inline-block",c.appendChild(s),t.iconSize&&(c.style.fontSize=e),n&&(c.style.color=n),o=c}return o.style.flex="0 0 "+e,o.style.width=e,J[r]=o.cloneNode(!0),o}(e);o.style.order=e.iconAfter?"2":"0",r.appendChild(o)}catch(t){X[e.icon]||(X[e.icon]=!0,Object(a.logUnhandledException)(t))}if(n){var i=k(e.iconMargin,".5rem"),s=document.createElement("span");s.style.flex="0 0 "+i,s.style.width=i,s.style.order="1",r.appendChild(s);var c=document.createElement("span");c.style.flex="1 0 0",c.style.order=e.iconAfter?"0":"2",c.style.textOverflow="inherit",c.style.overflow="hidden",e.htmlFormat?c.innerHTML=n:c.textContent=n,r.appendChild(c),r.style.justifyContent="start"}t.innerHTML="",t.appendChild(r)}else e.htmlFormat?t.innerHTML=n:t.textContent=n}var X={},J={};a.UILabel.addObserver(G);var Z=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=this,e=document.createElement("link"===this.component.accessibleRole?"a":"button");return e.tabIndex=this.component.isKeyboardFocusable()?0:-1,A(this.component,e,!0),Y(e,{text:this.component.label,icon:this.component.icon,iconColor:this.component.iconColor,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter}),this.component.navigateTo&&(e.href=Q(this.component,this.component.navigateTo)),this.component.disabled&&e.setAttribute("disabled","disabled"),e.addEventListener("click",(function(e){if(t.component.navigateTo)if(e.ctrlKey||e.altKey||e.metaKey)e.stopPropagation(),e.stopImmediatePropagation();else if(e.preventDefault(),!t.component.disabled){var n=t.component.getParentComponent(dt);n&&n.navigate(t.component.navigateTo)}})),e},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.setText=function(){var t=this.getElement();t&&Y(t,{text:this.component.label,icon:this.component.icon,iconColor:this.component.iconColor,iconSize:this.component.iconSize,iconMargin:this.component.iconMargin,iconAfter:this.component.iconAfter})},e.prototype.onNavigateToChange=function(){var t=this.getElement();t&&(t.href=Q(this.component,this.component.navigateTo))},e.prototype.onDisabledChange=function(){var t=this.getElement();t&&(this.component.disabled?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled"))},e.prototype.onSelect=function(){var t=this.getElement();t&&(t.dataset.selected="selected")},e.prototype.onDeselect=function(){var t=this.getElement();t&&delete t.dataset.selected},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},Object(i.__decorate)([Object(a.onPropertyChange)("label","icon","iconColor","iconSize","iconMargin","iconAfter")],e.prototype,"setText",null),Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","shrinkwrap","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}($);function Q(t,e){var n=t.getParentComponent(dt),r=n&&n.activationContext;return r&&r.getPathHref&&r.getPathHref(e)||""}a.UIButton.addObserver(Z);var tt=function(){function t(t){this.component=t}return t.prototype.updateStyle=function(){var t,e=this;if(!this._sched){var n=null===(t=this.component.lastRenderOutput)||void 0===t?void 0:t.element;n&&(this._sched=!0,Promise.resolve().then((function(){e._sched=!1,A(e.component,n)})))}},Object(i.__decorate)([Object(a.onPropertyChange)("css","decoration","margin","background","textColor","borderThickness","borderColor","borderStyle","borderRadius","dropShadow","opacity")],t.prototype,"updateStyle",null),t}();a.UICell.addObserver(tt);var et=16,nt=function(){function t(t,e){this._content={},this.element=t,e&&(this.separator=Object(i.__assign)({},e))}return t.prototype.setAsyncCreate=function(t){this._asyncChildren=!!t},t.prototype.setAnimationTimeMs=function(t){this._animationTimeMs=t},t.prototype.setAnimationSpeed=function(t){this._animationSpeed=t,t>0?this._animationTimeMs||(this._animationTimeMs=5e3):this._animationTimeMs=0},t.prototype.stop=function(){this._stopped=!0},t.prototype.update=function(t){var e=this;if(this.element)if(this._updatePending)this._updatePending=t;else{this._updatePending=t;var n=b.scheduleRender((function(){var r,o;if(!e._stopped&&e._updatePending){t=e._updatePending,e._updatePending=void 0,e._rendered||(e._rendered=!0,e.element.innerHTML="");var a=!!e._animationTimeMs;if(a){e._animatePositions={};for(var s=e._animatePositions,c=e.element.firstChild;c;){if(c.getBoundingClientRect&&!c.dataset.uiRemoved)s[c.dataset.uiAnimateId||(c.dataset.uiAnimateId="anim_"+et++)]=c.getBoundingClientRect();c=c.nextSibling}}var l=[],u={},d=function(t){var r=t.managedId,o=e._content[r]||e._addChildComponent(t,n);u[r]=o,l.push(o.element),o.element&&o.element.parentNode&&o.element.parentNode!==e.element&&(o.detach&&o.detach(),o.element.parentNode&&o.element.parentNode.removeChild(o.element)),o.detach=function(){if(o.element&&o.element.parentNode===e.element){var n=e._content[r]=e._getPlaceholder(t);o.element.parentNode.replaceChild(n.element,o.element)}}};try{for(var h=Object(i.__values)(t),p=h.next();!p.done;p=h.next()){d(p.value)}}catch(t){r={error:t}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}var f={};for(var v in e._content)u[v]||(f[v]=e._content[v]);for(var v in e._content=u,f){var y=f[v].element;if(y.parentNode===e.element){var m=void 0;e.separator&&((m=y.previousSibling)&&!m.dataset.uiRemoved||(m=y.nextSibling)),C(y),m&&C(m)}}for(var g=e.element.lastChild;g&&g.dataset&&g.dataset.uiRemoved;)g=g.previousSibling;for(var b=g&&g.nextSibling,_=l.length-1;_>=0;_--){if(!(c=l[_]).parentNode||c.nextSibling!==b){m=e.separator&&(c.previousSibling||e._makeSeparator());if(e.element.insertBefore(c,b),m){var w=c.previousSibling;!w||w.dataset&&w.dataset.uiRemoved?c.nextSibling&&e.element.insertBefore(m,c.nextSibling):e.element.insertBefore(m,c)}}for(b=c,e.separator&&c.previousSibling&&!c.previousSibling.dataset.uiRemoved&&(b=c.previousSibling);b.previousSibling&&b.previousSibling.dataset&&b.previousSibling.dataset.uiRemoved;)b=b.previousSibling}a&&e._animateElements()}}))}},t.prototype._makeSeparator=function(){if(!this.separator)throw Error;var t;if(this.separator.lineThickness){var e=k(this.separator.lineThickness,""),n=k(this.separator.lineMargin,"");(t=document.createElement("hr")).className="UIRender__Separator--line"+(this.separator.vertical?" UIRender__Separator--line-vertical":""),t.style.borderWidth=e,t.style.margin=n?this.separator.vertical?"0 "+n:n+" 0":"",t.style.borderColor=a.UITheme.replaceColor(this.separator.lineColor||"@separator")}else{e=k(this.separator.space,"0");(t=document.createElement("spacer")).className="UIRender__Separator--spacer",!1!==this.separator.vertical&&(t.style.width=e),this.separator.vertical||(t.style.height=e)}return t},t.prototype._addChildComponent=function(t,e){var n,r=this,o=t.managedId,i=!1,s=function(c,l){return n||!c||i?b.scheduleRender((function(){return r._stopped||!t.managedState||n&&n.element.parentNode===r.element&&(c&&c.element||(c=r._getPlaceholder(t)),r.element.replaceChild(c.element,n.element),r._content[o]=n=c),c})).then(l).catch(a.logUnhandledException):(r._content[o]=n=c,e.then((function(){return l&&l(c)})).catch(a.logUnhandledException)),s};return this._asyncChildren?b.scheduleRender((function(){t.render(s)}),!0):t.render(s),n||(n=this._content[o]=this._getPlaceholder(t)),i=!0,n},t.prototype._getPlaceholder=function(t){var e=document.createElement("placeholder");return e.id="placeholder:"+t.managedId,e.hidden=!0,new a.UIRenderContext.Output(t,e)},t.prototype._animateElements=function(t){var e=this;if(void 0===t&&(t=!0),this._animatePositions){for(var n=this._animationTimeMs,r=this._animationSpeed?this._animationSpeed*(window.innerHeight+window.innerWidth)/2e3:1,o=[],a=[],s=[],c=[],l=[],u=this.element.firstChild,d=function(){if(u.dataset)if(u.dataset.uiAnimateId&&!u.dataset.uiRemoved)u.style.transition="transform 0s",u.style.transform="";else if(u.dataset.uiRemoved){var t=u;if(u.dataset.transitionExit){var e=u.getBoundingClientRect();c.push((function(){t.style.position="fixed",t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px"}))}else c.push((function(){t.style.display="none"})),l.push((function(){t.style.display=""}))}u=u.nextSibling};u;)d();for(c.forEach((function(t){return t()})),u=this.element.firstChild;u;){if(!u.dataset.uiRemoved)if(u.dataset&&u.dataset.uiAnimateId&&this._animatePositions[u.dataset.uiAnimateId]){var h=u.getBoundingClientRect(),p=this._animatePositions[u.dataset.uiAnimateId],f=Math.floor(p.left-h.left),v=Math.floor(p.top-h.top);o.push(u);var y=Math.floor(Math.min(n,Math.abs(f+v)/r));a.push(y),u.style.transform="translateX("+f+"px) translateY("+v+"px)"}else if(t&&u.getBoundingClientRect){var m=u.getBoundingClientRect();(m.height<1||m.width<1)&&s.push(u)}u=u.nextSibling}setTimeout((function(){for(var t,n,r=o.length-1;r>=0;r--)o[r].style.transition="transform "+a[r]+"ms ease-in-out",o[r].style.transform="";try{for(var c=Object(i.__values)(s),l=c.next();!l.done;l=c.next()){var u=l.value.getBoundingClientRect();if(u.width>=1&&u.height>=1)return void setTimeout((function(){e._animateElements(!1)}),0)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}setTimeout((function(){var t,e;try{for(var n=Object(i.__values)(o),r=n.next();!r.done;r=n.next()){var a=r.value;a.style.transform="",a.style.transition=""}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}),100)}),0),l.forEach((function(t){return t()}))}},t}(),rt={};var ot=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,e instanceof a.UICell&&(n.DOM_CELL_EMIT=n.DOM_EMIT),n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=document.createElement("form"===this.component.accessibleRole?"form":"container");return this.component.isKeyboardFocusable()?t.tabIndex=0:this.component.isFocusable()&&(t.tabIndex=-1),A(this.component,t,!0),t},e.prototype.afterRender=function(){var e=this;if(t.prototype.afterRender.call(this),this.component.managedState&&this.component instanceof a.UIScrollContainer){var n=this.component;if(this.isRendered()){var r,o,i,s,c=this.getElement(),l=0,u=0,d=0,h=Date.now(),p=!1,f=function(t){var v,y=(Date.now()-h)/1e3,m=c.scrollTop-l,g=c.scrollLeft-u;m<0&&(o=!(r=!0)),m>0&&(o=!(r=!1)),g<0&&(s=!(i=!0)),g>0&&(s=!(i=!1)),l=c.scrollTop,u=c.scrollLeft,h=Date.now(),d<h-200?(v=new a.UIScrollEvent("ScrollEnd",n,void 0,t),p=!1):(v=new a.UIScrollEvent("Scroll",n,void 0,t),setTimeout(f,250),p=!0),v.scrolledDown=o,v.scrolledUp=r,v.scrolledLeft=i,v.scrolledRight=s,v.atTop=l<=n.topThreshold,v.atLeft=u<=n.leftThreshold,v.atBottom=l+c.clientHeight>=c.scrollHeight-n.bottomThreshold,v.atRight=u+c.clientWidth>=c.scrollWidth-n.rightThreshold,v.verticalVelocity=Math.abs(m/(window.innerHeight||1))/(y||.1),v.horizontalVelocity=Math.abs(g/(window.innerWidth||1))/(y||.1),e.component.emit(v.freeze())};c.onscroll=function(t){d=Date.now(),p||f(t)}}}},e.prototype.onUIRender=function(t){this.handleRenderEvent(t),this._separator=this._getSeparator(),this._refreshUpdater()},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.onFocusIn=function(t){if(t.source!==this.component&&this.component.isKeyboardFocusable()){var e=this.getElement();e&&(e.tabIndex=-1),this.lastFocused=t.source}},e.prototype.onFocusOut=function(t){if(t.source!==this.component&&this.component.isKeyboardFocusable()){var e=this.getElement();e&&(e.tabIndex=0),this.lastFocused=void 0}},e.prototype.onContentChangeAsync=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){return this.component.content?(this._updater&&this._updater.update(this.component.content),this.component.isKeyboardFocusable()&&this.lastFocused&&!this.component.content.includes(this.lastFocused)&&((t=this.getElement())&&(t.tabIndex=0),this.lastFocused=void 0),[2]):(this._updater&&(this._updater.stop(),this._updater=void 0),[2])}))}))},e.prototype.onAsyncContentRenderingChange=function(){this._updater&&this._updater.setAsyncCreate(this.component.asyncContentRendering)},e.prototype.onAnimatedContentRenderingDurationChange=function(){this._updater&&this._updater.setAnimationTimeMs(this.component.animatedContentRenderingDuration||0)},e.prototype.onAnimatedContentRenderingVelocityChange=function(){this._updater&&this._updater.setAnimationSpeed(this.component.animatedContentRenderingVelocity||0)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate();var t=this._getSeparator();this._separator!==t&&(this._separator=t,this._refreshUpdater())},e.prototype.onScrollEnd=function(t){var e,n,r,o,s,c,l,u,d,h,p,f,v=this.getElement();if(v&&this.component instanceof a.UIScrollContainer){for(var y=this.component,m=v.getBoundingClientRect(),g=document.activeElement,b=[],_=void 0,w=v.firstChild;w;){if(w.getBoundingClientRect)(q=w.getBoundingClientRect()).bottom>m.top&&q.top<m.bottom&&(w===g&&(_=q),b.push(q));w=w.nextSibling}if("ScrollEnd"===t.name||"ScrollSnapUp"===t.name||"ScrollSnapDown"===t.name){var C=void 0,O=m.height,x="ScrollEnd"===t.name?0:"ScrollSnapUp"===t.name?.25:-.25;switch(y.verticalSnap){case"start":try{for(var S=Object(i.__values)(b),j=S.next();!j.done;j=S.next()){var E=(q=j.value).top+x*q.height,I=Math.abs(E-m.top);q===_&&(I-=q.height/2),I<O&&(C=q.top,O=I)}}catch(t){e={error:t}}finally{try{j&&!j.done&&(n=S.return)&&n.call(S)}finally{if(e)throw e.error}}break;case"end":try{for(var R=Object(i.__values)(b),A=R.next();!A.done;A=R.next()){var k=(q=A.value).bottom+x*q.height;I=Math.abs(k-m.bottom);q===_&&(I-=q.height/2),I<O&&(C=q.bottom-m.height,O=I)}}catch(t){r={error:t}}finally{try{A&&!A.done&&(o=R.return)&&o.call(R)}finally{if(r)throw r.error}}break;case"center":var P=m.top+m.height/2;try{for(var M=Object(i.__values)(b),T=M.next();!T.done;T=M.next()){var U=(q=T.value).top+q.height/2+x*q.height;I=Math.abs(U-P);q===_&&(I-=q.height/2),I<O&&(C=U-m.height/2,O=I)}}catch(t){s={error:t}}finally{try{T&&!T.done&&(c=M.return)&&c.call(M)}finally{if(s)throw s.error}}}if(null!=C){var L=v.scrollTop+(C-m.top);v.scrollTo({behavior:"smooth",top:L})}}if("ScrollEnd"===t.name||"ScrollSnapLeft"===t.name||"ScrollSnapRight"===t.name){var F=void 0;O=m.width,x="ScrollEnd"===t.name?0:"ScrollSnapLeft"===t.name?.25:-.25;switch(y.horizontalSnap){case"start":try{for(var D=Object(i.__values)(b),B=D.next();!B.done;B=D.next()){var N=(q=B.value).left+x*q.width;I=Math.abs(N-m.left);q===_&&(I-=q.width/2),I<O&&(F=q.left,O=I)}}catch(t){l={error:t}}finally{try{B&&!B.done&&(u=D.return)&&u.call(D)}finally{if(l)throw l.error}}break;case"end":try{for(var V=Object(i.__values)(b),z=V.next();!z.done;z=V.next()){var W=(q=z.value).right+x*q.width;I=Math.abs(W-m.right);q===_&&(I-=q.width/2),I<O&&(F=q.right-m.width,O=I)}}catch(t){d={error:t}}finally{try{z&&!z.done&&(h=V.return)&&h.call(V)}finally{if(d)throw d.error}}break;case"center":P=m.left+m.width/2;try{for(var K=Object(i.__values)(b),H=K.next();!H.done;H=K.next()){var q;U=(q=H.value).left+q.width/2+x*q.width,I=Math.abs(U-P);q===_&&(I-=q.width/2),I<O&&(F=U-m.width/2,O=I)}}catch(t){p={error:t}}finally{try{H&&!H.done&&(f=K.return)&&f.call(K)}finally{if(p)throw p.error}}}if(null!=F){N=v.scrollLeft+(F-m.left);v.scrollTo({behavior:"smooth",left:N})}}}},e.prototype.onScrollSnapUp=function(t){"start"===this.component.verticalSnap&&this.onScrollEnd(t)},e.prototype.onScrollSnapDown=function(t){"end"===this.component.verticalSnap&&this.onScrollEnd(t)},e.prototype.onScrollSnapLeft=function(t){"start"===this.component.horizontalSnap&&this.onScrollEnd(t)},e.prototype.onScrollSnapRight=function(t){"end"===this.component.horizontalSnap&&this.onScrollEnd(t)},e.prototype.onSelect=function(t){if(t.source===this.component){var e=this.getElement();e&&(e.dataset.selected="selected")}},e.prototype.onDeselect=function(t){if(t.source===this.component){var e=this.getElement();e&&delete e.dataset.selected}},e.prototype._refreshUpdater=function(){var t=this.getElement();t&&(this._updater&&this._updater.stop(),this._updater=new nt(t,this._separator),this.component.asyncContentRendering&&this._updater.setAsyncCreate(!0),this.component.animatedContentRenderingDuration>=0&&this._updater.setAnimationTimeMs(this.component.animatedContentRenderingDuration),this.component.animatedContentRenderingVelocity>=0&&this._updater.setAnimationSpeed(this.component.animatedContentRenderingVelocity),this._updater.update(this.component.content))},e.prototype._getSeparator=function(){if(this.component.layout){var t,e=this.component.layout.separator;if(!e&&("function"==typeof(t=this.component).hasComponentSpacing&&t.hasComponentSpacing())){var n=this.component.spacing,r=this.component.layout.axis,o=n+"|"+r;e=rt[o]||(rt[o]={space:n,vertical:"horizontal"===r})}return e}},Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","layout","spacing","dimensions","position","padding","height","width","verticalScrollEnabled","horizontalScrollEnabled")],e.prototype,"updateStyle",null),e}($);a.UIContainer.addEventHandler((function(t){if("DragContainer"===t.name){if(this.getParentComponent()instanceof a.UIComponent)return;var e=this.lastRenderOutput&&this.lastRenderOutput.element;if(!(e&&t instanceof a.UIComponentEvent))return;var n=t.event;if(!n||n.button)return;var r=n.touches&&n.touches[0].screenX||n.screenX,o=n.touches&&n.touches[0].screenY||n.screenY;if(void 0===r||void 0===o)return;var i=!1,s=e.getBoundingClientRect(),c=function(t){var n=t.touches&&t.touches[0].screenX||t.screenX,a=t.touches&&t.touches[0].screenY||t.screenY,c=n-r,l=a-o;if(!i){if(Math.abs(c)<2&&Math.abs(l)<2)return;i=!0,e.style.position="absolute",e.style.bottom="auto",e.style.right="auto"}t.preventDefault(),t.stopPropagation();var u=Math.max(0,s.top+l);e.style.top=Math.min(u,window.innerHeight-40)+"px";var d=Math.max(40-e.clientWidth,s.left+c);e.style.left=Math.min(d,window.innerWidth-64)+"px"},l=function(t){i&&(t.preventDefault(),t.stopPropagation()),b.scheduleRender((function(){window.removeEventListener("touchmove",c,!0),window.removeEventListener("mousemove",c,!0),window.removeEventListener("touchend",l,!0),window.removeEventListener("mouseup",l,!0),window.removeEventListener("click",l,!0)}))};window.addEventListener("touchmove",c,!0),window.addEventListener("mousemove",c,!0),window.addEventListener("touchend",l,!0),window.addEventListener("mouseup",l,!0),window.addEventListener("click",l,!0)}})),a.UIContainer.addObserver(ot);var it=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=this,e=document.createElement("img");return e.onerror=function(e){t.component.managedState&&t.component.emit(new a.UIComponentEvent("LoadError",t.component,void 0,e))},this.component.isKeyboardFocusable()?e.tabIndex=0:this.component.isFocusable()&&(e.tabIndex=-1),A(this.component,e,!0),e.src=String(this.component.url||""),e},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.onUrlChange=function(){var t=this.getElement();t&&(t.src=String(this.component.url||""))},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","shrinkwrap","disabled","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}($);a.UIImage.addObserver(it);var at=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=document.createElement("hr"),e="UIRender__Separator--line"+(this.component.vertical?" UIRender__Separator--line-vertical":"");if(A(this.component,t,!0,e),this.component.margin){var n=k(this.component.margin);t.style.margin=this.component.vertical?"0 "+n:n+" 0"}return t},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate("UIRender__Separator--line"+(this.component.vertical?" UIRender__Separator--line-vertical":""))},Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","vertical","dimensions","color","thickness","margin","position")],e.prototype,"updateStyle",null),e}($);a.UISeparator.addObserver(at);var st=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=document.createElement("spacer");return A(this.component,t,!0),t},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","shrinkwrap","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}($);a.UISpacer.addObserver(st);var ct=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=document.createElement(this.component.multiline?"textarea":"input");t.tabIndex=this.component.isKeyboardFocusable()?0:-1,this.component.multiline||(t.type=this.component.type),t.placeholder=String(this.component.placeholder||" ");var e=this.component.value;return t.value=null==e?"":String(e),this.component.name&&(t.name=this.component.name),this.component.disabled&&(t.disabled=!0),A(this.component,t,!0),t},e.prototype.emitComponentEvent=function(e){var n=this.getElement();n&&(this.component.value=n.value),t.prototype.emitComponentEvent.call(this,e)},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.onMultilineChange=function(){this.isRendered()&&this.updateElement(this.createElement())},e.prototype.updateControl=function(){var t=this.getElement();if(t){var e=String(this.component.placeholder||" ");t.placeholder!==e&&(t.placeholder=e),this.component.multiline||t.type===this.component.type||(t.type=this.component.type),this.component.name&&(t.name=this.component.name);var n=this.component.value;n=null==n?"":String(n),t.value!=n&&(t.value=n)}},e.prototype.onDisabledChange=function(){var t=this.getElement();t&&(t.disabled=!!this.component.disabled)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},Object(i.__decorate)([Object(a.onPropertyChange)("name","value","type","placeholder")],e.prototype,"updateControl",null),Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","shrinkwrap","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}($);a.UITextField.addObserver(ct);var lt=function(t){function e(e){var n=t.call(this,e)||this;return n.component=e,n.DOM_CONTROL_EMIT=n.DOM_EMIT,n}return Object(i.__extends)(e,t),e.prototype.createElement=function(){var t=document.createElement("span"),e=document.createElement("input");e.tabIndex=this.component.isKeyboardFocusable()?0:-1,e.type="checkbox",e.checked=!!this.component.state,e.id="UIToggle::"+this.component.managedId,e.name=this.component.name||"UIToggle::"+this.component.managedId,this.component.disabled&&(e.disabled=!0);var n=document.createElement("label");return n.htmlFor="UIToggle::"+this.component.managedId,this._setLabelContent(n),t.appendChild(e),t.appendChild(n),A(this.component,t,!0),t},e.prototype.emitComponentEvent=function(e){var n=this.getElement();if(n){var r=n.firstChild;this.component.state=!!r.checked}t.prototype.emitComponentEvent.call(this,e)},e.prototype.onUIRender=function(t){this.handleRenderEvent(t)},e.prototype.onUIFocusRequestAsync=function(t){this.handleFocusRequestEvent(t)},e.prototype.updateControl=function(){var t=this.getElement();if(t){var e=t.firstChild;this.component.name&&(e.name=this.component.name),e.checked&&!this.component.state?e.checked=!1:!e.checked&&this.component.state&&(e.checked=!0)}},e.prototype.onLabelChange=function(){var t=this.getElement();t&&this._setLabelContent(t.lastChild)},e.prototype.onDisabledChange=function(){var t=this.getElement();t&&(t.firstChild.disabled=!!this.component.disabled)},e.prototype._setLabelContent=function(t){t.innerHTML="";var e=document.createElement("control");this.component.highlightColor&&(e.style.background=a.UITheme.replaceColor(this.component.highlightColor));var n=this.component.label;n=null==n?"":String(n),t.textContent=n?"  "+n:"",t.insertBefore(e,t.firstChild)},e.prototype.updateStyle=function(){this.scheduleStyleUpdate()},e.prototype.onHighlightColorChangeAsync=function(){var t=this.getElement();if(t){var e=t.firstChild.nextSibling,n=a.UITheme.replaceColor(this.component.highlightColor||"transparent");e.style.background=n}},Object(i.__decorate)([Object(a.onPropertyChange)("name","state")],e.prototype,"updateControl",null),Object(i.__decorate)([Object(a.onPropertyChange)("hidden","style","shrinkwrap","disabled","textStyle","decoration","dimensions","position")],e.prototype,"updateStyle",null),e}($);a.UIToggle.addObserver(lt);var ut=!1;B(),(a.UITheme.current=new D).setFocusOutline();var dt=function(t){function e(e){var n=t.call(this)||this;return n._root=e,n}return Object(i.__extends)(e,t),e.setGlobalDpSize=function(t){void 0===t&&(t=1),R({html:{fontSize:(t*=16)+"px"}})},e.importStylesheet=function(t){!function(t){I.push(t),R({})}(t)},e.disableTransitions=function(){ut=!0},Object.defineProperty(e,"transitionsDisabled",{get:function(){return ut},enumerable:!1,configurable:!0}),e.prototype.onManagedStateActivatingAsync=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.prototype.onManagedStateActivatingAsync.call(this)];case 1:return e.sent(),this.renderContext||(this._root||(document.body.innerHTML=""),this.renderContext=new b(this._root)),this.activationContext||(this.activationContext=this._useHistoryAPI?new ft:new pt),[2]}}))}))},e.prototype.onManagedStateInactiveAsync=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.prototype.onManagedStateInactiveAsync.call(this)];case 1:return e.sent(),this.renderContext=void 0,this.activationContext=void 0,[2]}}))}))},e.prototype.mount=function(t){return this._root=t,this.renderContext&&(this.renderContext=new b(t)),this},e.prototype.unmount=function(){return this._root=void 0,this.renderContext=void 0,this},e.prototype.useHistoryAPI=function(){return this._useHistoryAPI=!0,this.activationContext&&(this.activationContext=new ft),this},e}(a.Application);dt.addObserver(function(){function t(){}return t.prototype.onRenderContextChange=function(){E={}},t}());var ht,pt=function(t){function e(){var e=t.call(this)||this;return e._handler=function(){e._setPath()},window.addEventListener("hashchange",e._handler),e._setPath(),e}return Object(i.__extends)(e,t),e.prototype.getPathHref=function(t){var e="";if(!t||":"===t[0])return"";if("#"===t[0]&&(t=t.slice(1)),"/"===t[0])e=t;else{var n=this.target;"/"!==n.slice(-1)&&(n+="/"),e="/"+n+t}e=e.replace(/\/+/g,"/");for(var r=0;/\/\.\.?\//.test(e)&&!(r++>100);)e=e.replace(/\/\.\//g,"/").replace(/\/[^\/]+\/\.\.\//g,"/").replace(/^\/?\.\.\//,"/");return"#/"+e.replace(/^\/+/,"")},e.prototype.navigate=function(t){":back"!==(t=String(t))?window.location.hash=this.getPathHref(t):window.history.back()},e.prototype.onManagedStateDestroyingAsync=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return window.removeEventListener("hashchange",this._handler),[2]}))}))},e.prototype._setPath=function(){var t=String(window.location.hash||"").replace(/^\#\/?/,"");this.target=t},e}(a.AppActivationContext),ft=function(t){function e(){var e=t.call(this)||this;return e._handler=function(){e._setPath()},window.addEventListener("popstate",e._handler),e._setPath(),e}return Object(i.__extends)(e,t),e.prototype.getPathHref=function(t){var e="";if(!t||":"===t[0])return"";if("#"===t[0]&&(t=t.slice(1)),"/"===t[0])e=t;else{var n=this.target;"/"!==n.slice(-1)&&(n+="/"),e="/"+n+t}e=e.replace(/\/+/g,"/");for(var r=0;/\/\.\.?\//.test(e)&&!(r++>100);)e=e.replace(/\/\.\//g,"/").replace(/\/[^\/]+\/\.\.\//g,"/").replace(/^\/?\.\.\//,"/");return"/"+e.replace(/^\/+/,"")},e.prototype.navigate=function(t){":back"!==(t=String(t))?(window.history.pushState({},document.title,this.getPathHref(t)),this._setPath()):window.history.back()},e.prototype.onManagedStateDestroyingAsync=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return window.removeEventListener("popstate",this._handler),[2]}))}))},e.prototype._setPath=function(){var t=String(window.location.pathname||"").replace(/^\/?/,"");this.target=t},e}(a.AppActivationContext);(ht||(ht={})).enableViewReload=function(t,e){return t.hot&&(t.hot.accept(),t.hot.data&&t.hot.data.updateActivity&&setTimeout((function(){(e=e||t.exports.default||t.exports.View)&&e.prototype instanceof a.Component&&t.hot.data.updateActivity(e)}),0),setTimeout((function(){(e=e||t.exports.default||t.exports.View)&&e.prototype instanceof a.Component&&e["@updateActivity"]&&t.hot.dispose((function(n){n||(n=t.hot.data),n.updateActivity=e["@updateActivity"]}))}),10)),e}}]);